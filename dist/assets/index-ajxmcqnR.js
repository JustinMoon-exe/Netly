(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Av(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hd={exports:{}},el={},qd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function nS(){if(sy)return Le;sy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=T&&D[T]||D["@@iterator"],typeof D=="function"?D:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function F(D,W,re){this.props=D,this.context=W,this.refs=q,this.updater=re||B}F.prototype.isReactComponent={},F.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ue(){}ue.prototype=F.prototype;function ae(D,W,re){this.props=D,this.context=W,this.refs=q,this.updater=re||B}var ie=ae.prototype=new ue;ie.constructor=ae,j(ie,F.prototype),ie.isPureReactComponent=!0;var ce=Array.isArray,Re=Object.prototype.hasOwnProperty,we={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(D,W,re){var Oe,ye={},be=null,ze=null;if(W!=null)for(Oe in W.ref!==void 0&&(ze=W.ref),W.key!==void 0&&(be=""+W.key),W)Re.call(W,Oe)&&!P.hasOwnProperty(Oe)&&(ye[Oe]=W[Oe]);var He=arguments.length-2;if(He===1)ye.children=re;else if(1<He){for(var Qe=Array(He),yt=0;yt<He;yt++)Qe[yt]=arguments[yt+2];ye.children=Qe}if(D&&D.defaultProps)for(Oe in He=D.defaultProps,He)ye[Oe]===void 0&&(ye[Oe]=He[Oe]);return{$$typeof:n,type:D,key:be,ref:ze,props:ye,_owner:we.current}}function R(D,W){return{$$typeof:n,type:D.type,key:W,ref:D.ref,props:D.props,_owner:D._owner}}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function N(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return W[re]})}var L=/\/+/g;function A(D,W){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):W.toString(36)}function Ze(D,W,re,Oe,ye){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var ze=!1;if(D===null)ze=!0;else switch(be){case"string":case"number":ze=!0;break;case"object":switch(D.$$typeof){case n:case e:ze=!0}}if(ze)return ze=D,ye=ye(ze),D=Oe===""?"."+A(ze,0):Oe,ce(ye)?(re="",D!=null&&(re=D.replace(L,"$&/")+"/"),Ze(ye,W,re,"",function(yt){return yt})):ye!=null&&(k(ye)&&(ye=R(ye,re+(!ye.key||ze&&ze.key===ye.key?"":(""+ye.key).replace(L,"$&/")+"/")+D)),W.push(ye)),1;if(ze=0,Oe=Oe===""?".":Oe+":",ce(D))for(var He=0;He<D.length;He++){be=D[He];var Qe=Oe+A(be,He);ze+=Ze(be,W,re,Qe,ye)}else if(Qe=b(D),typeof Qe=="function")for(D=Qe.call(D),He=0;!(be=D.next()).done;)be=be.value,Qe=Oe+A(be,He++),ze+=Ze(be,W,re,Qe,ye);else if(be==="object")throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ze}function Pe(D,W,re){if(D==null)return D;var Oe=[],ye=0;return Ze(D,Oe,"","",function(be){return W.call(re,be,ye++)}),Oe}function Me(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var Ve={current:null},te={transition:null},ve={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:te,ReactCurrentOwner:we};function se(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:Pe,forEach:function(D,W,re){Pe(D,function(){W.apply(this,arguments)},re)},count:function(D){var W=0;return Pe(D,function(){W++}),W},toArray:function(D){return Pe(D,function(W){return W})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Le.Component=F,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=ae,Le.StrictMode=i,Le.Suspense=m,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Le.act=se,Le.cloneElement=function(D,W,re){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Oe=j({},D.props),ye=D.key,be=D.ref,ze=D._owner;if(W!=null){if(W.ref!==void 0&&(be=W.ref,ze=we.current),W.key!==void 0&&(ye=""+W.key),D.type&&D.type.defaultProps)var He=D.type.defaultProps;for(Qe in W)Re.call(W,Qe)&&!P.hasOwnProperty(Qe)&&(Oe[Qe]=W[Qe]===void 0&&He!==void 0?He[Qe]:W[Qe])}var Qe=arguments.length-2;if(Qe===1)Oe.children=re;else if(1<Qe){He=Array(Qe);for(var yt=0;yt<Qe;yt++)He[yt]=arguments[yt+2];Oe.children=He}return{$$typeof:n,type:D.type,key:ye,ref:be,props:Oe,_owner:ze}},Le.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Le.createElement=I,Le.createFactory=function(D){var W=I.bind(null,D);return W.type=D,W},Le.createRef=function(){return{current:null}},Le.forwardRef=function(D){return{$$typeof:d,render:D}},Le.isValidElement=k,Le.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:Me}},Le.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Le.startTransition=function(D){var W=te.transition;te.transition={};try{D()}finally{te.transition=W}},Le.unstable_act=se,Le.useCallback=function(D,W){return Ve.current.useCallback(D,W)},Le.useContext=function(D){return Ve.current.useContext(D)},Le.useDebugValue=function(){},Le.useDeferredValue=function(D){return Ve.current.useDeferredValue(D)},Le.useEffect=function(D,W){return Ve.current.useEffect(D,W)},Le.useId=function(){return Ve.current.useId()},Le.useImperativeHandle=function(D,W,re){return Ve.current.useImperativeHandle(D,W,re)},Le.useInsertionEffect=function(D,W){return Ve.current.useInsertionEffect(D,W)},Le.useLayoutEffect=function(D,W){return Ve.current.useLayoutEffect(D,W)},Le.useMemo=function(D,W){return Ve.current.useMemo(D,W)},Le.useReducer=function(D,W,re){return Ve.current.useReducer(D,W,re)},Le.useRef=function(D){return Ve.current.useRef(D)},Le.useState=function(D){return Ve.current.useState(D)},Le.useSyncExternalStore=function(D,W,re){return Ve.current.useSyncExternalStore(D,W,re)},Le.useTransition=function(){return Ve.current.useTransition()},Le.version="18.3.1",Le}var oy;function ep(){return oy||(oy=1,qd.exports=nS()),qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function rS(){if(ay)return el;ay=1;var n=ep(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,m,y){var E,T={},b=null,B=null;y!==void 0&&(b=""+y),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(B=m.ref);for(E in m)i.call(m,E)&&!l.hasOwnProperty(E)&&(T[E]=m[E]);if(d&&d.defaultProps)for(E in m=d.defaultProps,m)T[E]===void 0&&(T[E]=m[E]);return{$$typeof:e,type:d,key:b,ref:B,props:T,_owner:o.current}}return el.Fragment=t,el.jsx=c,el.jsxs=c,el}var ly;function iS(){return ly||(ly=1,Hd.exports=rS()),Hd.exports}var K=iS(),kt=ep();const fs=Av(kt);var Xu={},Wd={exports:{}},Cn={},Kd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function sS(){return uy||(uy=1,function(n){function e(te,ve){var se=te.length;te.push(ve);e:for(;0<se;){var D=se-1>>>1,W=te[D];if(0<o(W,ve))te[D]=ve,te[se]=W,se=D;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ve=te[0],se=te.pop();if(se!==ve){te[0]=se;e:for(var D=0,W=te.length,re=W>>>1;D<re;){var Oe=2*(D+1)-1,ye=te[Oe],be=Oe+1,ze=te[be];if(0>o(ye,se))be<W&&0>o(ze,ye)?(te[D]=ze,te[be]=se,D=be):(te[D]=ye,te[Oe]=se,D=Oe);else if(be<W&&0>o(ze,se))te[D]=ze,te[be]=se,D=be;else break e}}return ve}function o(te,ve){var se=te.sortIndex-ve.sortIndex;return se!==0?se:te.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],y=[],E=1,T=null,b=3,B=!1,j=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(te){for(var ve=t(y);ve!==null;){if(ve.callback===null)i(y);else if(ve.startTime<=te)i(y),ve.sortIndex=ve.expirationTime,e(m,ve);else break;ve=t(y)}}function ce(te){if(q=!1,ie(te),!j)if(t(m)!==null)j=!0,Me(Re);else{var ve=t(y);ve!==null&&Ve(ce,ve.startTime-te)}}function Re(te,ve){j=!1,q&&(q=!1,ue(I),I=-1),B=!0;var se=b;try{for(ie(ve),T=t(m);T!==null&&(!(T.expirationTime>ve)||te&&!N());){var D=T.callback;if(typeof D=="function"){T.callback=null,b=T.priorityLevel;var W=D(T.expirationTime<=ve);ve=n.unstable_now(),typeof W=="function"?T.callback=W:T===t(m)&&i(m),ie(ve)}else i(m);T=t(m)}if(T!==null)var re=!0;else{var Oe=t(y);Oe!==null&&Ve(ce,Oe.startTime-ve),re=!1}return re}finally{T=null,b=se,B=!1}}var we=!1,P=null,I=-1,R=5,k=-1;function N(){return!(n.unstable_now()-k<R)}function L(){if(P!==null){var te=n.unstable_now();k=te;var ve=!0;try{ve=P(!0,te)}finally{ve?A():(we=!1,P=null)}}else we=!1}var A;if(typeof ae=="function")A=function(){ae(L)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Pe=Ze.port2;Ze.port1.onmessage=L,A=function(){Pe.postMessage(null)}}else A=function(){F(L,0)};function Me(te){P=te,we||(we=!0,A())}function Ve(te,ve){I=F(function(){te(n.unstable_now())},ve)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){j||B||(j=!0,Me(Re))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(te){switch(b){case 1:case 2:case 3:var ve=3;break;default:ve=b}var se=b;b=ve;try{return te()}finally{b=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ve){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=b;b=te;try{return ve()}finally{b=se}},n.unstable_scheduleCallback=function(te,ve,se){var D=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?D+se:D):se=D,te){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=se+W,te={id:E++,callback:ve,priorityLevel:te,startTime:se,expirationTime:W,sortIndex:-1},se>D?(te.sortIndex=se,e(y,te),t(m)===null&&te===t(y)&&(q?(ue(I),I=-1):q=!0,Ve(ce,se-D))):(te.sortIndex=W,e(m,te),j||B||(j=!0,Me(Re))),te},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(te){var ve=b;return function(){var se=b;b=ve;try{return te.apply(this,arguments)}finally{b=se}}}}(Gd)),Gd}var cy;function oS(){return cy||(cy=1,Kd.exports=sS()),Kd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function aS(){if(hy)return Cn;hy=1;var n=ep(),e=oS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function b(r){return m.call(T,r)?!0:m.call(E,r)?!1:y.test(r)?T[r]=!0:(E[r]=!0,!1)}function B(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,s,a,h){if(s===null||typeof s>"u"||B(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function q(r,s,a,h,f,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new q(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new q(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new q(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new q(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new q(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new q(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new q(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new q(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new q(r,5,!1,r.toLowerCase(),null,!1,!1)});var ue=/[\-:]([a-z])/g;function ae(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(ue,ae);F[s]=new q(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(ue,ae);F[s]=new q(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(ue,ae);F[s]=new q(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new q(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new q(r,1,!1,r.toLowerCase(),null,!0,!0)});function ie(r,s,a,h){var f=F.hasOwnProperty(s)?F[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,a,f,h)&&(a=null),h||f===null?b(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var ce=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Re=Symbol.for("react.element"),we=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),Ve=Symbol.for("react.offscreen"),te=Symbol.iterator;function ve(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,D;function W(r){if(D===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||""}return`
`+D+r}var re=!1;function Oe(r,s){if(!r||re)return"";re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(z){var h=z}Reflect.construct(r,[],s)}else{try{s.call()}catch(z){h=z}r.call(s.prototype)}else{try{throw Error()}catch(z){h=z}r()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),g=h.stack.split(`
`),v=f.length-1,S=g.length-1;1<=v&&0<=S&&f[v]!==g[S];)S--;for(;1<=v&&0<=S;v--,S--)if(f[v]!==g[S]){if(v!==1||S!==1)do if(v--,S--,0>S||f[v]!==g[S]){var C=`
`+f[v].replace(" at new "," at ");return r.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",r.displayName)),C}while(1<=v&&0<=S);break}}}finally{re=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?W(r):""}function ye(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=Oe(r.type,!1),r;case 11:return r=Oe(r.type.render,!1),r;case 1:return r=Oe(r.type,!0),r;default:return""}}function be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case we:return"Portal";case R:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case Ze:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case L:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return s=r.displayName||null,s!==null?s:be(r.type)||"Memo";case Me:s=r._payload,r=r._init;try{return be(r(s))}catch{}}return null}function ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function He(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function yt(r){var s=Qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){h=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function zn(r){r._valueTracker||(r._valueTracker=yt(r))}function xn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=Qe(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Bn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function sn(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Mr(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=He(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ii(r,s){s=s.checked,s!=null&&ie(r,"checked",s,!1)}function $n(r,s){ii(r,s);var a=He(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?mr(r,s.type,a):s.hasOwnProperty("defaultValue")&&mr(r,s.type,He(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function si(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function mr(r,s,a){(s!=="number"||Bn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Hn=Array.isArray;function qn(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+He(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Cs(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Vr(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Hn(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:He(a)}}function Wn(r,s){var a=He(s.value),h=He(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Kn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function nt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?nt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Gn,Mi=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yn=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(r){Yn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fr[s]=Fr[r]})});function Ur(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Fr.hasOwnProperty(r)&&Fr[r]?(""+s).trim():s+"px"}function on(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Ur(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var Xn=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(r,s){if(s){if(Xn[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ai(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var li=null;function gr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yr=null,pn=null,Wt=null;function Vi(r){if(r=Ua(r)){if(typeof yr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=du(s),yr(r.stateNode,r.type,s))}}function Jn(r){pn?Wt?Wt.push(r):Wt=[r]:pn=r}function at(){if(pn){var r=pn,s=Wt;if(Wt=pn=null,Vi(r),s)for(r=0;r<s.length;r++)Vi(s[r])}}function mn(r,s){return r(s)}function Ps(){}var Zn=!1;function ui(r,s,a){if(Zn)return r(s,a);Zn=!0;try{return mn(r,s,a)}finally{Zn=!1,(pn!==null||Wt!==null)&&(Ps(),at())}}function lt(r,s){var a=r.stateNode;if(a===null)return null;var h=du(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var ci=!1;if(d)try{var On={};Object.defineProperty(On,"passive",{get:function(){ci=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{ci=!1}function Ot(r,s,a,h,f,g,v,S,C){var z=Array.prototype.slice.call(arguments,3);try{s.apply(a,z)}catch(X){this.onError(X)}}var er=!1,hi=null,gn=!1,di=null,yo={onError:function(r){er=!0,hi=r}};function Kt(r,s,a,h,f,g,v,S,C){er=!1,hi=null,Ot.apply(yo,arguments)}function ks(r,s,a,h,f,g,v,S,C){if(Kt.apply(this,arguments),er){if(er){var z=hi;er=!1,hi=null}else throw Error(t(198));gn||(gn=!0,di=z)}}function yn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function jr(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function _n(r){if(yn(r)!==r)throw Error(t(188))}function _o(r){var s=r.alternate;if(!s){if(s=yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return _n(f),r;if(g===h)return _n(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,h=g;break}if(S===h){v=!0,h=f,a=g;break}S=S.sibling}if(!v){for(S=g.child;S;){if(S===a){v=!0,a=g,h=f;break}if(S===h){v=!0,h=g,a=f;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ge(r){return r=_o(r),r!==null?x(r):null}function x(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=x(r);if(s!==null)return s;r=r.sibling}return null}var J=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,Et=e.unstable_requestPaint,Ne=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,Dt=e.unstable_ImmediatePriority,vn=e.unstable_UserBlockingPriority,et=e.unstable_NormalPriority,Fi=e.unstable_LowPriority,Ns=e.unstable_IdlePriority,xs=null,Dn=null;function Bl(r){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(xs,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Hl,Ia=Math.log,$l=Math.LN2;function Hl(r){return r>>>=0,r===0?32:31-(Ia(r)/$l|0)|0}var vo=64,Eo=4194304;function Ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Os(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,v=a&268435455;if(v!==0){var S=v&~f;S!==0?h=Ui(S):(g&=v,g!==0&&(h=Ui(g)))}else v=a&~f,v!==0?h=Ui(v):g!==0&&(h=Ui(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-an(s),f=1<<a,h|=r[a],s&=~f;return h}function Eh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var v=31-an(g),S=1<<v,C=f[v];C===-1?(!(S&a)||S&h)&&(f[v]=Eh(S,s)):C<=s&&(r.expiredLanes|=S),g&=~S}}function bn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ds(){var r=vo;return vo<<=1,!(vo&4194240)&&(vo=64),r}function ji(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function zi(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-an(s),r[s]=a}function tt(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-an(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function Bi(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-an(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var Be=0;function $i(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ql,wo,Wl,Kl,Gl,Sa=!1,zr=[],Ut=null,_r=null,vr=null,Hi=new Map,tr=new Map,Br=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Hi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(s.pointerId)}}function En(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ua(s),s!==null&&wo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function Th(r,s,a,h,f){switch(s){case"focusin":return Ut=En(Ut,r,s,a,h,f),!0;case"dragenter":return _r=En(_r,r,s,a,h,f),!0;case"mouseover":return vr=En(vr,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return Hi.set(g,En(Hi.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,tr.set(g,En(tr.get(g)||null,r,s,a,h,f)),!0}return!1}function Yl(r){var s=Fs(r.target);if(s!==null){var a=yn(s);if(a!==null){if(s=a.tag,s===13){if(s=jr(a),s!==null){r.blockedOn=s,Gl(r.priority,function(){Wl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=To(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);li=h,a.target.dispatchEvent(h),li=null}else return s=Ua(a),s!==null&&wo(s),r.blockedOn=a,!1;s.shift()}return!0}function bs(r,s,a){pi(r)&&a.delete(s)}function Xl(){Sa=!1,Ut!==null&&pi(Ut)&&(Ut=null),_r!==null&&pi(_r)&&(_r=null),vr!==null&&pi(vr)&&(vr=null),Hi.forEach(bs),tr.forEach(bs)}function Er(r,s){r.blockedOn===s&&(r.blockedOn=null,Sa||(Sa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xl)))}function wr(r){function s(f){return Er(f,r)}if(0<zr.length){Er(zr[0],r);for(var a=1;a<zr.length;a++){var h=zr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Ut!==null&&Er(Ut,r),_r!==null&&Er(_r,r),vr!==null&&Er(vr,r),Hi.forEach(s),tr.forEach(s),a=0;a<Br.length;a++)h=Br[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)Yl(a),a.blockedOn===null&&Br.shift()}var mi=ce.ReactCurrentBatchConfig,qi=!0;function ut(r,s,a,h){var f=Be,g=mi.transition;mi.transition=null;try{Be=1,Aa(r,s,a,h)}finally{Be=f,mi.transition=g}}function Ih(r,s,a,h){var f=Be,g=mi.transition;mi.transition=null;try{Be=4,Aa(r,s,a,h)}finally{Be=f,mi.transition=g}}function Aa(r,s,a,h){if(qi){var f=To(r,s,a,h);if(f===null)bh(r,s,h,Ls,a),Ql(r,h);else if(Th(f,r,s,a,h))h.stopPropagation();else if(Ql(r,h),s&4&&-1<wh.indexOf(r)){for(;f!==null;){var g=Ua(f);if(g!==null&&ql(g),g=To(r,s,a,h),g===null&&bh(r,s,h,Ls,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else bh(r,s,h,null,a)}}var Ls=null;function To(r,s,a,h){if(Ls=null,r=gr(h),r=Fs(r),r!==null)if(s=yn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=jr(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ls=r,null}function Ra(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case Dt:return 1;case vn:return 4;case et:case Fi:return 16;case Ns:return 536870912;default:return 16}default:return 16}}var Ln=null,Io=null,wn=null;function Ca(){if(wn)return wn;var r,s=Io,a=s.length,h,f="value"in Ln?Ln.value:Ln.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var v=a-r;for(h=1;h<=v&&s[a-h]===f[g-h];h++);return wn=f.slice(r,1<h?1-h:void 0)}function So(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function Pa(){return!1}function jt(r){function s(a,h,f,g,v){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:Pa,this.isPropagationStopped=Pa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=jt(Tr),Hr=se({},Tr,{view:0,detail:0}),Sh=jt(Hr),Ro,gi,Wi,Ms=se({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(Ro=r.screenX-Wi.screenX,gi=r.screenY-Wi.screenY):gi=Ro=0,Wi=r),Ro)},movementY:function(r){return"movementY"in r?r.movementY:gi}}),Co=jt(Ms),ka=se({},Ms,{dataTransfer:0}),Jl=jt(ka),Po=se({},Hr,{relatedTarget:0}),ko=jt(Po),Zl=se({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=jt(Zl),eu=se({},Tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tu=jt(eu),nu=se({},Tr,{data:0}),Na=jt(nu),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ru[r])?!!s[r]:!1}function qr(){return iu}var u=se({},Hr,{key:function(r){if(r.key){var s=No[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=So(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ln[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qr,charCode:function(r){return r.type==="keypress"?So(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?So(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),p=jt(u),_=se({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=jt(_),M=se({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qr}),$=jt(M),ne=se({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Je=jt(ne),Rt=se({},Ms,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),qe=jt(Rt),bt=[9,13,27,32],wt=d&&"CompositionEvent"in window,nr=null;d&&"documentMode"in document&&(nr=document.documentMode);var Mn=d&&"TextEvent"in window&&!nr,Vs=d&&(!wt||nr&&8<nr&&11>=nr),xo=" ",Zp=!1;function em(r,s){switch(r){case"keyup":return bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Oo=!1;function ZT(r,s){switch(r){case"compositionend":return tm(s);case"keypress":return s.which!==32?null:(Zp=!0,xo);case"textInput":return r=s.data,r===xo&&Zp?null:r;default:return null}}function eI(r,s){if(Oo)return r==="compositionend"||!wt&&em(r,s)?(r=Ca(),wn=Io=Ln=null,Oo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vs&&s.locale!=="ko"?null:s.data;default:return null}}var tI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!tI[r.type]:s==="textarea"}function rm(r,s,a,h){Jn(h),s=uu(s,"onChange"),0<s.length&&(a=new Ao("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var xa=null,Oa=null;function nI(r){wm(r,0)}function su(r){var s=Vo(r);if(xn(s))return r}function rI(r,s){if(r==="change")return s}var im=!1;if(d){var Ah;if(d){var Rh="oninput"in document;if(!Rh){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),Rh=typeof sm.oninput=="function"}Ah=Rh}else Ah=!1;im=Ah&&(!document.documentMode||9<document.documentMode)}function om(){xa&&(xa.detachEvent("onpropertychange",am),Oa=xa=null)}function am(r){if(r.propertyName==="value"&&su(Oa)){var s=[];rm(s,Oa,r,gr(r)),ui(nI,s)}}function iI(r,s,a){r==="focusin"?(om(),xa=s,Oa=a,xa.attachEvent("onpropertychange",am)):r==="focusout"&&om()}function sI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Oa)}function oI(r,s){if(r==="click")return su(s)}function aI(r,s){if(r==="input"||r==="change")return su(s)}function lI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ir=typeof Object.is=="function"?Object.is:lI;function Da(r,s){if(Ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!m.call(s,f)||!Ir(r[f],s[f]))return!1}return!0}function lm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function um(r,s){var a=lm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lm(a)}}function cm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?cm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function hm(){for(var r=window,s=Bn();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Bn(r.document)}return s}function Ch(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function uI(r){var s=hm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&cm(a.ownerDocument.documentElement,a)){if(h!==null&&Ch(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=um(a,g);var v=um(a,h);f&&v&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var cI=d&&"documentMode"in document&&11>=document.documentMode,Do=null,Ph=null,ba=null,kh=!1;function dm(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||Do==null||Do!==Bn(h)||(h=Do,"selectionStart"in h&&Ch(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ba&&Da(ba,h)||(ba=h,h=uu(Ph,"onSelect"),0<h.length&&(s=new Ao("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=Do)))}function ou(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var bo={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Nh={},fm={};d&&(fm=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function au(r){if(Nh[r])return Nh[r];if(!bo[r])return r;var s=bo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in fm)return Nh[r]=s[a];return r}var pm=au("animationend"),mm=au("animationiteration"),gm=au("animationstart"),ym=au("transitionend"),_m=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(r,s){_m.set(r,s),l(s,[r])}for(var xh=0;xh<vm.length;xh++){var Oh=vm[xh],hI=Oh.toLowerCase(),dI=Oh[0].toUpperCase()+Oh.slice(1);Ki(hI,"on"+dI)}Ki(pm,"onAnimationEnd"),Ki(mm,"onAnimationIteration"),Ki(gm,"onAnimationStart"),Ki("dblclick","onDoubleClick"),Ki("focusin","onFocus"),Ki("focusout","onBlur"),Ki(ym,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Em(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,ks(h,s,void 0,r),r.currentTarget=null}function wm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var v=h.length-1;0<=v;v--){var S=h[v],C=S.instance,z=S.currentTarget;if(S=S.listener,C!==g&&f.isPropagationStopped())break e;Em(f,S,z),g=C}else for(v=0;v<h.length;v++){if(S=h[v],C=S.instance,z=S.currentTarget,S=S.listener,C!==g&&f.isPropagationStopped())break e;Em(f,S,z),g=C}}}if(gn)throw r=di,gn=!1,di=null,r}function it(r,s){var a=s[jh];a===void 0&&(a=s[jh]=new Set);var h=r+"__bubble";a.has(h)||(Tm(s,r,2,!1),a.add(h))}function Dh(r,s,a){var h=0;s&&(h|=4),Tm(a,r,h,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Ma(r){if(!r[lu]){r[lu]=!0,i.forEach(function(a){a!=="selectionchange"&&(fI.has(a)||Dh(a,!1,r),Dh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Dh("selectionchange",!1,s))}}function Tm(r,s,a,h){switch(Ra(s)){case 1:var f=ut;break;case 4:f=Ih;break;default:f=Aa}a=f.bind(null,s,a,r),f=void 0,!ci||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function bh(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var S=h.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=h.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;S!==null;){if(v=Fs(S),v===null)return;if(C=v.tag,C===5||C===6){h=g=v;continue e}S=S.parentNode}}h=h.return}ui(function(){var z=g,X=gr(a),Z=[];e:{var Y=_m.get(r);if(Y!==void 0){var oe=Ao,pe=r;switch(r){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":oe=p;break;case"focusin":pe="focus",oe=ko;break;case"focusout":pe="blur",oe=ko;break;case"beforeblur":case"afterblur":oe=ko;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=$;break;case pm:case mm:case gm:oe=yi;break;case ym:oe=Je;break;case"scroll":oe=Sh;break;case"wheel":oe=qe;break;case"copy":case"cut":case"paste":oe=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=w}var me=(s&4)!==0,_t=!me&&r==="scroll",V=me?Y!==null?Y+"Capture":null:Y;me=[];for(var O=z,U;O!==null;){U=O;var ee=U.stateNode;if(U.tag===5&&ee!==null&&(U=ee,V!==null&&(ee=lt(O,V),ee!=null&&me.push(Va(O,ee,U)))),_t)break;O=O.return}0<me.length&&(Y=new oe(Y,pe,null,a,X),Z.push({event:Y,listeners:me}))}}if(!(s&7)){e:{if(Y=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Y&&a!==li&&(pe=a.relatedTarget||a.fromElement)&&(Fs(pe)||pe[_i]))break e;if((oe||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,oe?(pe=a.relatedTarget||a.toElement,oe=z,pe=pe?Fs(pe):null,pe!==null&&(_t=yn(pe),pe!==_t||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(oe=null,pe=z),oe!==pe)){if(me=Co,ee="onMouseLeave",V="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(me=w,ee="onPointerLeave",V="onPointerEnter",O="pointer"),_t=oe==null?Y:Vo(oe),U=pe==null?Y:Vo(pe),Y=new me(ee,O+"leave",oe,a,X),Y.target=_t,Y.relatedTarget=U,ee=null,Fs(X)===z&&(me=new me(V,O+"enter",pe,a,X),me.target=U,me.relatedTarget=_t,ee=me),_t=ee,oe&&pe)t:{for(me=oe,V=pe,O=0,U=me;U;U=Lo(U))O++;for(U=0,ee=V;ee;ee=Lo(ee))U++;for(;0<O-U;)me=Lo(me),O--;for(;0<U-O;)V=Lo(V),U--;for(;O--;){if(me===V||V!==null&&me===V.alternate)break t;me=Lo(me),V=Lo(V)}me=null}else me=null;oe!==null&&Im(Z,Y,oe,me,!1),pe!==null&&_t!==null&&Im(Z,_t,pe,me,!0)}}e:{if(Y=z?Vo(z):window,oe=Y.nodeName&&Y.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Y.type==="file")var _e=rI;else if(nm(Y))if(im)_e=aI;else{_e=sI;var Te=iI}else(oe=Y.nodeName)&&oe.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(_e=oI);if(_e&&(_e=_e(r,z))){rm(Z,_e,a,X);break e}Te&&Te(r,Y,z),r==="focusout"&&(Te=Y._wrapperState)&&Te.controlled&&Y.type==="number"&&mr(Y,"number",Y.value)}switch(Te=z?Vo(z):window,r){case"focusin":(nm(Te)||Te.contentEditable==="true")&&(Do=Te,Ph=z,ba=null);break;case"focusout":ba=Ph=Do=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,dm(Z,a,X);break;case"selectionchange":if(cI)break;case"keydown":case"keyup":dm(Z,a,X)}var Ie;if(wt)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Oo?em(r,a)&&(Ce="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Vs&&a.locale!=="ko"&&(Oo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Oo&&(Ie=Ca()):(Ln=X,Io="value"in Ln?Ln.value:Ln.textContent,Oo=!0)),Te=uu(z,Ce),0<Te.length&&(Ce=new Na(Ce,r,null,a,X),Z.push({event:Ce,listeners:Te}),Ie?Ce.data=Ie:(Ie=tm(a),Ie!==null&&(Ce.data=Ie)))),(Ie=Mn?ZT(r,a):eI(r,a))&&(z=uu(z,"onBeforeInput"),0<z.length&&(X=new Na("onBeforeInput","beforeinput",null,a,X),Z.push({event:X,listeners:z}),X.data=Ie))}wm(Z,s)})}function Va(r,s,a){return{instance:r,listener:s,currentTarget:a}}function uu(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=lt(r,a),g!=null&&h.unshift(Va(r,g,f)),g=lt(r,s),g!=null&&h.push(Va(r,g,f))),r=r.return}return h}function Lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Im(r,s,a,h,f){for(var g=s._reactName,v=[];a!==null&&a!==h;){var S=a,C=S.alternate,z=S.stateNode;if(C!==null&&C===h)break;S.tag===5&&z!==null&&(S=z,f?(C=lt(a,g),C!=null&&v.unshift(Va(a,C,S))):f||(C=lt(a,g),C!=null&&v.push(Va(a,C,S)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var pI=/\r\n?/g,mI=/\u0000|\uFFFD/g;function Sm(r){return(typeof r=="string"?r:""+r).replace(pI,`
`).replace(mI,"")}function cu(r,s,a){if(s=Sm(s),Sm(r)!==s&&a)throw Error(t(425))}function hu(){}var Lh=null,Mh=null;function Vh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,gI=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,yI=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(r){return Am.resolve(null).then(r).catch(_I)}:Fh;function _I(r){setTimeout(function(){throw r})}function Uh(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),wr(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);wr(s)}function Gi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Rm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Mo,Fa="__reactProps$"+Mo,_i="__reactContainer$"+Mo,jh="__reactEvents$"+Mo,vI="__reactListeners$"+Mo,EI="__reactHandles$"+Mo;function Fs(r){var s=r[Wr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[_i]||a[Wr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Rm(r);r!==null;){if(a=r[Wr])return a;r=Rm(r)}return s}r=a,a=r.parentNode}return null}function Ua(r){return r=r[Wr]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Vo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[Fa]||null}var zh=[],Fo=-1;function Qi(r){return{current:r}}function st(r){0>Fo||(r.current=zh[Fo],zh[Fo]=null,Fo--)}function rt(r,s){Fo++,zh[Fo]=r.current,r.current=s}var Yi={},Gt=Qi(Yi),Tn=Qi(!1),Us=Yi;function Uo(r,s){var a=r.type.contextTypes;if(!a)return Yi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function In(r){return r=r.childContextTypes,r!=null}function fu(){st(Tn),st(Gt)}function Cm(r,s,a){if(Gt.current!==Yi)throw Error(t(168));rt(Gt,s),rt(Tn,a)}function Pm(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,ze(r)||"Unknown",f));return se({},a,h)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Yi,Us=Gt.current,rt(Gt,r),rt(Tn,Tn.current),!0}function km(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Pm(r,s,Us),h.__reactInternalMemoizedMergedChildContext=r,st(Tn),st(Gt),rt(Gt,r)):st(Tn),rt(Tn,a)}var vi=null,mu=!1,Bh=!1;function Nm(r){vi===null?vi=[r]:vi.push(r)}function wI(r){mu=!0,Nm(r)}function Xi(){if(!Bh&&vi!==null){Bh=!0;var r=0,s=Be;try{var a=vi;for(Be=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}vi=null,mu=!1}catch(f){throw vi!==null&&(vi=vi.slice(r+1)),J(Dt,Xi),f}finally{Be=s,Bh=!1}}return null}var jo=[],zo=0,gu=null,yu=0,rr=[],ir=0,js=null,Ei=1,wi="";function zs(r,s){jo[zo++]=yu,jo[zo++]=gu,gu=r,yu=s}function xm(r,s,a){rr[ir++]=Ei,rr[ir++]=wi,rr[ir++]=js,js=r;var h=Ei;r=wi;var f=32-an(h)-1;h&=~(1<<f),a+=1;var g=32-an(s)+f;if(30<g){var v=f-f%5;g=(h&(1<<v)-1).toString(32),h>>=v,f-=v,Ei=1<<32-an(s)+f|a<<f|h,wi=g+r}else Ei=1<<g|a<<f|h,wi=r}function $h(r){r.return!==null&&(zs(r,1),xm(r,1,0))}function Hh(r){for(;r===gu;)gu=jo[--zo],jo[zo]=null,yu=jo[--zo],jo[zo]=null;for(;r===js;)js=rr[--ir],rr[ir]=null,wi=rr[--ir],rr[ir]=null,Ei=rr[--ir],rr[ir]=null}var Vn=null,Fn=null,ct=!1,Sr=null;function Om(r,s){var a=lr(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Dm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Vn=r,Fn=Gi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Vn=r,Fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=js!==null?{id:Ei,overflow:wi}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=lr(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Vn=r,Fn=null,!0):!1;default:return!1}}function qh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Wh(r){if(ct){var s=Fn;if(s){var a=s;if(!Dm(r,s)){if(qh(r))throw Error(t(418));s=Gi(a.nextSibling);var h=Vn;s&&Dm(r,s)?Om(h,a):(r.flags=r.flags&-4097|2,ct=!1,Vn=r)}}else{if(qh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ct=!1,Vn=r}}}function bm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vn=r}function _u(r){if(r!==Vn)return!1;if(!ct)return bm(r),ct=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Vh(r.type,r.memoizedProps)),s&&(s=Fn)){if(qh(r))throw Lm(),Error(t(418));for(;s;)Om(r,s),s=Gi(s.nextSibling)}if(bm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Fn=Gi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Fn=null}}else Fn=Vn?Gi(r.stateNode.nextSibling):null;return!0}function Lm(){for(var r=Fn;r;)r=Gi(r.nextSibling)}function Bo(){Fn=Vn=null,ct=!1}function Kh(r){Sr===null?Sr=[r]:Sr.push(r)}var TI=ce.ReactCurrentBatchConfig;function ja(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var S=f.refs;v===null?delete S[g]:S[g]=v},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Mm(r){var s=r._init;return s(r._payload)}function Vm(r){function s(V,O){if(r){var U=V.deletions;U===null?(V.deletions=[O],V.flags|=16):U.push(O)}}function a(V,O){if(!r)return null;for(;O!==null;)s(V,O),O=O.sibling;return null}function h(V,O){for(V=new Map;O!==null;)O.key!==null?V.set(O.key,O):V.set(O.index,O),O=O.sibling;return V}function f(V,O){return V=ss(V,O),V.index=0,V.sibling=null,V}function g(V,O,U){return V.index=U,r?(U=V.alternate,U!==null?(U=U.index,U<O?(V.flags|=2,O):U):(V.flags|=2,O)):(V.flags|=1048576,O)}function v(V){return r&&V.alternate===null&&(V.flags|=2),V}function S(V,O,U,ee){return O===null||O.tag!==6?(O=Fd(U,V.mode,ee),O.return=V,O):(O=f(O,U),O.return=V,O)}function C(V,O,U,ee){var _e=U.type;return _e===P?X(V,O,U.props.children,ee,U.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Me&&Mm(_e)===O.type)?(ee=f(O,U.props),ee.ref=ja(V,O,U),ee.return=V,ee):(ee=$u(U.type,U.key,U.props,null,V.mode,ee),ee.ref=ja(V,O,U),ee.return=V,ee)}function z(V,O,U,ee){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Ud(U,V.mode,ee),O.return=V,O):(O=f(O,U.children||[]),O.return=V,O)}function X(V,O,U,ee,_e){return O===null||O.tag!==7?(O=Qs(U,V.mode,ee,_e),O.return=V,O):(O=f(O,U),O.return=V,O)}function Z(V,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Fd(""+O,V.mode,U),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Re:return U=$u(O.type,O.key,O.props,null,V.mode,U),U.ref=ja(V,null,O),U.return=V,U;case we:return O=Ud(O,V.mode,U),O.return=V,O;case Me:var ee=O._init;return Z(V,ee(O._payload),U)}if(Hn(O)||ve(O))return O=Qs(O,V.mode,U,null),O.return=V,O;vu(V,O)}return null}function Y(V,O,U,ee){var _e=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return _e!==null?null:S(V,O,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:return U.key===_e?C(V,O,U,ee):null;case we:return U.key===_e?z(V,O,U,ee):null;case Me:return _e=U._init,Y(V,O,_e(U._payload),ee)}if(Hn(U)||ve(U))return _e!==null?null:X(V,O,U,ee,null);vu(V,U)}return null}function oe(V,O,U,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return V=V.get(U)||null,S(O,V,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Re:return V=V.get(ee.key===null?U:ee.key)||null,C(O,V,ee,_e);case we:return V=V.get(ee.key===null?U:ee.key)||null,z(O,V,ee,_e);case Me:var Te=ee._init;return oe(V,O,U,Te(ee._payload),_e)}if(Hn(ee)||ve(ee))return V=V.get(U)||null,X(O,V,ee,_e,null);vu(O,ee)}return null}function pe(V,O,U,ee){for(var _e=null,Te=null,Ie=O,Ce=O=0,Vt=null;Ie!==null&&Ce<U.length;Ce++){Ie.index>Ce?(Vt=Ie,Ie=null):Vt=Ie.sibling;var Ge=Y(V,Ie,U[Ce],ee);if(Ge===null){Ie===null&&(Ie=Vt);break}r&&Ie&&Ge.alternate===null&&s(V,Ie),O=g(Ge,O,Ce),Te===null?_e=Ge:Te.sibling=Ge,Te=Ge,Ie=Vt}if(Ce===U.length)return a(V,Ie),ct&&zs(V,Ce),_e;if(Ie===null){for(;Ce<U.length;Ce++)Ie=Z(V,U[Ce],ee),Ie!==null&&(O=g(Ie,O,Ce),Te===null?_e=Ie:Te.sibling=Ie,Te=Ie);return ct&&zs(V,Ce),_e}for(Ie=h(V,Ie);Ce<U.length;Ce++)Vt=oe(Ie,V,Ce,U[Ce],ee),Vt!==null&&(r&&Vt.alternate!==null&&Ie.delete(Vt.key===null?Ce:Vt.key),O=g(Vt,O,Ce),Te===null?_e=Vt:Te.sibling=Vt,Te=Vt);return r&&Ie.forEach(function(os){return s(V,os)}),ct&&zs(V,Ce),_e}function me(V,O,U,ee){var _e=ve(U);if(typeof _e!="function")throw Error(t(150));if(U=_e.call(U),U==null)throw Error(t(151));for(var Te=_e=null,Ie=O,Ce=O=0,Vt=null,Ge=U.next();Ie!==null&&!Ge.done;Ce++,Ge=U.next()){Ie.index>Ce?(Vt=Ie,Ie=null):Vt=Ie.sibling;var os=Y(V,Ie,Ge.value,ee);if(os===null){Ie===null&&(Ie=Vt);break}r&&Ie&&os.alternate===null&&s(V,Ie),O=g(os,O,Ce),Te===null?_e=os:Te.sibling=os,Te=os,Ie=Vt}if(Ge.done)return a(V,Ie),ct&&zs(V,Ce),_e;if(Ie===null){for(;!Ge.done;Ce++,Ge=U.next())Ge=Z(V,Ge.value,ee),Ge!==null&&(O=g(Ge,O,Ce),Te===null?_e=Ge:Te.sibling=Ge,Te=Ge);return ct&&zs(V,Ce),_e}for(Ie=h(V,Ie);!Ge.done;Ce++,Ge=U.next())Ge=oe(Ie,V,Ce,Ge.value,ee),Ge!==null&&(r&&Ge.alternate!==null&&Ie.delete(Ge.key===null?Ce:Ge.key),O=g(Ge,O,Ce),Te===null?_e=Ge:Te.sibling=Ge,Te=Ge);return r&&Ie.forEach(function(tS){return s(V,tS)}),ct&&zs(V,Ce),_e}function _t(V,O,U,ee){if(typeof U=="object"&&U!==null&&U.type===P&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Re:e:{for(var _e=U.key,Te=O;Te!==null;){if(Te.key===_e){if(_e=U.type,_e===P){if(Te.tag===7){a(V,Te.sibling),O=f(Te,U.props.children),O.return=V,V=O;break e}}else if(Te.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Me&&Mm(_e)===Te.type){a(V,Te.sibling),O=f(Te,U.props),O.ref=ja(V,Te,U),O.return=V,V=O;break e}a(V,Te);break}else s(V,Te);Te=Te.sibling}U.type===P?(O=Qs(U.props.children,V.mode,ee,U.key),O.return=V,V=O):(ee=$u(U.type,U.key,U.props,null,V.mode,ee),ee.ref=ja(V,O,U),ee.return=V,V=ee)}return v(V);case we:e:{for(Te=U.key;O!==null;){if(O.key===Te)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(V,O.sibling),O=f(O,U.children||[]),O.return=V,V=O;break e}else{a(V,O);break}else s(V,O);O=O.sibling}O=Ud(U,V.mode,ee),O.return=V,V=O}return v(V);case Me:return Te=U._init,_t(V,O,Te(U._payload),ee)}if(Hn(U))return pe(V,O,U,ee);if(ve(U))return me(V,O,U,ee);vu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,O!==null&&O.tag===6?(a(V,O.sibling),O=f(O,U),O.return=V,V=O):(a(V,O),O=Fd(U,V.mode,ee),O.return=V,V=O),v(V)):a(V,O)}return _t}var $o=Vm(!0),Fm=Vm(!1),Eu=Qi(null),wu=null,Ho=null,Gh=null;function Qh(){Gh=Ho=wu=null}function Yh(r){var s=Eu.current;st(Eu),r._currentValue=s}function Xh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function qo(r,s){wu=r,Gh=Ho=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Sn=!0),r.firstContext=null)}function sr(r){var s=r._currentValue;if(Gh!==r)if(r={context:r,memoizedValue:s,next:null},Ho===null){if(wu===null)throw Error(t(308));Ho=r,wu.dependencies={lanes:0,firstContext:r}}else Ho=Ho.next=r;return s}var Bs=null;function Jh(r){Bs===null?Bs=[r]:Bs.push(r)}function Um(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,Jh(s)):(a.next=f.next,f.next=a),s.interleaved=a,Ti(r,h)}function Ti(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ji=!1;function Zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Zi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Ke&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Ti(r,a)}return f=h.interleaved,f===null?(s.next=s,Jh(h)):(s.next=f.next,f.next=s),h.interleaved=s,Ti(r,a)}function Tu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Bi(r,a)}}function zm(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Iu(r,s,a,h){var f=r.updateQueue;Ji=!1;var g=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var C=S,z=C.next;C.next=null,v===null?g=z:v.next=z,v=C;var X=r.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=z:S.next=z,X.lastBaseUpdate=C))}if(g!==null){var Z=f.baseState;v=0,X=z=C=null,S=g;do{var Y=S.lane,oe=S.eventTime;if((h&Y)===Y){X!==null&&(X=X.next={eventTime:oe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var pe=r,me=S;switch(Y=s,oe=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Z=pe.call(oe,Z,Y);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Y=typeof pe=="function"?pe.call(oe,Z,Y):pe,Y==null)break e;Z=se({},Z,Y);break e;case 2:Ji=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,Y=f.effects,Y===null?f.effects=[S]:Y.push(S))}else oe={eventTime:oe,lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(z=X=oe,C=Z):X=X.next=oe,v|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);if(X===null&&(C=Z),f.baseState=C,f.firstBaseUpdate=z,f.lastBaseUpdate=X,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);qs|=v,r.lanes=v,r.memoizedState=Z}}function Bm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var za={},Kr=Qi(za),Ba=Qi(za),$a=Qi(za);function $s(r){if(r===za)throw Error(t(174));return r}function ed(r,s){switch(rt($a,s),rt(Ba,r),rt(Kr,za),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:pt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=pt(s,r)}st(Kr),rt(Kr,s)}function Wo(){st(Kr),st(Ba),st($a)}function $m(r){$s($a.current);var s=$s(Kr.current),a=pt(s,r.type);s!==a&&(rt(Ba,r),rt(Kr,a))}function td(r){Ba.current===r&&(st(Kr),st(Ba))}var ht=Qi(0);function Su(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nd=[];function rd(){for(var r=0;r<nd.length;r++)nd[r]._workInProgressVersionPrimary=null;nd.length=0}var Au=ce.ReactCurrentDispatcher,id=ce.ReactCurrentBatchConfig,Hs=0,dt=null,Ct=null,Lt=null,Ru=!1,Ha=!1,qa=0,II=0;function Qt(){throw Error(t(321))}function sd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Ir(r[a],s[a]))return!1;return!0}function od(r,s,a,h,f,g){if(Hs=g,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Au.current=r===null||r.memoizedState===null?CI:PI,r=a(h,f),Ha){g=0;do{if(Ha=!1,qa=0,25<=g)throw Error(t(301));g+=1,Lt=Ct=null,s.updateQueue=null,Au.current=kI,r=a(h,f)}while(Ha)}if(Au.current=ku,s=Ct!==null&&Ct.next!==null,Hs=0,Lt=Ct=dt=null,Ru=!1,s)throw Error(t(300));return r}function ad(){var r=qa!==0;return qa=0,r}function Gr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?dt.memoizedState=Lt=r:Lt=Lt.next=r,Lt}function or(){if(Ct===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=Ct.next;var s=Lt===null?dt.memoizedState:Lt.next;if(s!==null)Lt=s,Ct=r;else{if(r===null)throw Error(t(310));Ct=r,r={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Lt===null?dt.memoizedState=Lt=r:Lt=Lt.next=r}return Lt}function Wa(r,s){return typeof s=="function"?s(r):s}function ld(r){var s=or(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=Ct,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var v=f.next;f.next=g.next,g.next=v}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var S=v=null,C=null,z=g;do{var X=z.lane;if((Hs&X)===X)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:r(h,z.action);else{var Z={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(S=C=Z,v=h):C=C.next=Z,dt.lanes|=X,qs|=X}z=z.next}while(z!==null&&z!==g);C===null?v=h:C.next=S,Ir(h,s.memoizedState)||(Sn=!0),s.memoizedState=h,s.baseState=v,s.baseQueue=C,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,dt.lanes|=g,qs|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ud(r){var s=or(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do g=r(g,v.action),v=v.next;while(v!==f);Ir(g,s.memoizedState)||(Sn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function Hm(){}function qm(r,s){var a=dt,h=or(),f=s(),g=!Ir(h.memoizedState,f);if(g&&(h.memoizedState=f,Sn=!0),h=h.queue,cd(Gm.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||Lt!==null&&Lt.memoizedState.tag&1){if(a.flags|=2048,Ka(9,Km.bind(null,a,h,f,s),void 0,null),Mt===null)throw Error(t(349));Hs&30||Wm(a,s,f)}return f}function Wm(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Km(r,s,a,h){s.value=a,s.getSnapshot=h,Qm(s)&&Ym(r)}function Gm(r,s,a){return a(function(){Qm(s)&&Ym(r)})}function Qm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Ir(r,a)}catch{return!0}}function Ym(r){var s=Ti(r,1);s!==null&&Pr(s,r,1,-1)}function Xm(r){var s=Gr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:r},s.queue=r,r=r.dispatch=RI.bind(null,dt,r),[s.memoizedState,r]}function Ka(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=dt.updateQueue,s===null?(s={lastEffect:null,stores:null},dt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Jm(){return or().memoizedState}function Cu(r,s,a,h){var f=Gr();dt.flags|=r,f.memoizedState=Ka(1|s,a,void 0,h===void 0?null:h)}function Pu(r,s,a,h){var f=or();h=h===void 0?null:h;var g=void 0;if(Ct!==null){var v=Ct.memoizedState;if(g=v.destroy,h!==null&&sd(h,v.deps)){f.memoizedState=Ka(s,a,g,h);return}}dt.flags|=r,f.memoizedState=Ka(1|s,a,g,h)}function Zm(r,s){return Cu(8390656,8,r,s)}function cd(r,s){return Pu(2048,8,r,s)}function eg(r,s){return Pu(4,2,r,s)}function tg(r,s){return Pu(4,4,r,s)}function ng(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function rg(r,s,a){return a=a!=null?a.concat([r]):null,Pu(4,4,ng.bind(null,s,r),a)}function hd(){}function ig(r,s){var a=or();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function sg(r,s){var a=or();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&sd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function og(r,s,a){return Hs&21?(Ir(a,s)||(a=Ds(),dt.lanes|=a,qs|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Sn=!0),r.memoizedState=a)}function SI(r,s){var a=Be;Be=a!==0&&4>a?a:4,r(!0);var h=id.transition;id.transition={};try{r(!1),s()}finally{Be=a,id.transition=h}}function ag(){return or().memoizedState}function AI(r,s,a){var h=rs(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},lg(r))ug(s,a);else if(a=Um(r,s,a,h),a!==null){var f=cn();Pr(a,r,h,f),cg(a,s,h)}}function RI(r,s,a){var h=rs(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(lg(r))ug(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,S=g(v,a);if(f.hasEagerState=!0,f.eagerState=S,Ir(S,v)){var C=s.interleaved;C===null?(f.next=f,Jh(s)):(f.next=C.next,C.next=f),s.interleaved=f;return}}catch{}finally{}a=Um(r,s,f,h),a!==null&&(f=cn(),Pr(a,r,h,f),cg(a,s,h))}}function lg(r){var s=r.alternate;return r===dt||s!==null&&s===dt}function ug(r,s){Ha=Ru=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function cg(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Bi(r,a)}}var ku={readContext:sr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},CI={readContext:sr,useCallback:function(r,s){return Gr().memoizedState=[r,s===void 0?null:s],r},useContext:sr,useEffect:Zm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Cu(4194308,4,ng.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Cu(4,2,r,s)},useMemo:function(r,s){var a=Gr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=Gr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=AI.bind(null,dt,r),[h.memoizedState,r]},useRef:function(r){var s=Gr();return r={current:r},s.memoizedState=r},useState:Xm,useDebugValue:hd,useDeferredValue:function(r){return Gr().memoizedState=r},useTransition:function(){var r=Xm(!1),s=r[0];return r=SI.bind(null,r[1]),Gr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=dt,f=Gr();if(ct){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Mt===null)throw Error(t(349));Hs&30||Wm(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,Zm(Gm.bind(null,h,g,r),[r]),h.flags|=2048,Ka(9,Km.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=Gr(),s=Mt.identifierPrefix;if(ct){var a=wi,h=Ei;a=(h&~(1<<32-an(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=qa++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=II++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},PI={readContext:sr,useCallback:ig,useContext:sr,useEffect:cd,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:ld,useRef:Jm,useState:function(){return ld(Wa)},useDebugValue:hd,useDeferredValue:function(r){var s=or();return og(s,Ct.memoizedState,r)},useTransition:function(){var r=ld(Wa)[0],s=or().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:qm,useId:ag,unstable_isNewReconciler:!1},kI={readContext:sr,useCallback:ig,useContext:sr,useEffect:cd,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:sg,useReducer:ud,useRef:Jm,useState:function(){return ud(Wa)},useDebugValue:hd,useDeferredValue:function(r){var s=or();return Ct===null?s.memoizedState=r:og(s,Ct.memoizedState,r)},useTransition:function(){var r=ud(Wa)[0],s=or().memoizedState;return[r,s]},useMutableSource:Hm,useSyncExternalStore:qm,useId:ag,unstable_isNewReconciler:!1};function Ar(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function dd(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Nu={isMounted:function(r){return(r=r._reactInternals)?yn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=cn(),f=rs(r),g=Ii(h,f);g.payload=s,a!=null&&(g.callback=a),s=Zi(r,g,f),s!==null&&(Pr(s,r,f,h),Tu(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=cn(),f=rs(r),g=Ii(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Zi(r,g,f),s!==null&&(Pr(s,r,f,h),Tu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=cn(),h=rs(r),f=Ii(a,h);f.tag=2,s!=null&&(f.callback=s),s=Zi(r,f,h),s!==null&&(Pr(s,r,h,a),Tu(s,r,h))}};function hg(r,s,a,h,f,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,v):s.prototype&&s.prototype.isPureReactComponent?!Da(a,h)||!Da(f,g):!0}function dg(r,s,a){var h=!1,f=Yi,g=s.contextType;return typeof g=="object"&&g!==null?g=sr(g):(f=In(s)?Us:Gt.current,h=s.contextTypes,g=(h=h!=null)?Uo(r,f):Yi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nu,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function fg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&Nu.enqueueReplaceState(s,s.state,null)}function fd(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Zh(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=sr(g):(g=In(s)?Us:Gt.current,f.context=Uo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dd(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Nu.enqueueReplaceState(f,f.state,null),Iu(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ko(r,s){try{var a="",h=s;do a+=ye(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function pd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function md(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var NI=typeof WeakMap=="function"?WeakMap:Map;function pg(r,s,a){a=Ii(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Vu||(Vu=!0,Nd=h),md(r,s)},a}function mg(r,s,a){a=Ii(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){md(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){md(r,s),typeof h!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function gg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new NI;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=HI.bind(null,r,s,a),s.then(r,r))}function yg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function _g(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Ii(-1,1),s.tag=2,Zi(a,s,1))),a.lanes|=1),r)}var xI=ce.ReactCurrentOwner,Sn=!1;function un(r,s,a,h){s.child=r===null?Fm(s,null,a,h):$o(s,r.child,a,h)}function vg(r,s,a,h,f){a=a.render;var g=s.ref;return qo(s,f),h=od(r,s,a,h,g,f),a=ad(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Si(r,s,f)):(ct&&a&&$h(s),s.flags|=1,un(r,s,h,f),s.child)}function Eg(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Vd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,wg(r,s,g,h,f)):(r=$u(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:Da,a(v,h)&&r.ref===s.ref)return Si(r,s,f)}return s.flags|=1,r=ss(g,h),r.ref=s.ref,r.return=s,s.child=r}function wg(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Da(g,h)&&r.ref===s.ref)if(Sn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(Sn=!0);else return s.lanes=r.lanes,Si(r,s,f)}return gd(r,s,a,h,f)}function Tg(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Qo,Un),Un|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,rt(Qo,Un),Un|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,rt(Qo,Un),Un|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,rt(Qo,Un),Un|=h;return un(r,s,f,a),s.child}function Ig(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function gd(r,s,a,h,f){var g=In(a)?Us:Gt.current;return g=Uo(s,g),qo(s,f),a=od(r,s,a,h,g,f),h=ad(),r!==null&&!Sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Si(r,s,f)):(ct&&h&&$h(s),s.flags|=1,un(r,s,a,f),s.child)}function Sg(r,s,a,h,f){if(In(a)){var g=!0;pu(s)}else g=!1;if(qo(s,f),s.stateNode===null)Ou(r,s),dg(s,a,h),fd(s,a,h,f),h=!0;else if(r===null){var v=s.stateNode,S=s.memoizedProps;v.props=S;var C=v.context,z=a.contextType;typeof z=="object"&&z!==null?z=sr(z):(z=In(a)?Us:Gt.current,z=Uo(s,z));var X=a.getDerivedStateFromProps,Z=typeof X=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==h||C!==z)&&fg(s,v,h,z),Ji=!1;var Y=s.memoizedState;v.state=Y,Iu(s,h,v,f),C=s.memoizedState,S!==h||Y!==C||Tn.current||Ji?(typeof X=="function"&&(dd(s,a,X,h),C=s.memoizedState),(S=Ji||hg(s,a,S,h,Y,C,z))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=C),v.props=h,v.state=C,v.context=z,h=S):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,jm(r,s),S=s.memoizedProps,z=s.type===s.elementType?S:Ar(s.type,S),v.props=z,Z=s.pendingProps,Y=v.context,C=a.contextType,typeof C=="object"&&C!==null?C=sr(C):(C=In(a)?Us:Gt.current,C=Uo(s,C));var oe=a.getDerivedStateFromProps;(X=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Z||Y!==C)&&fg(s,v,h,C),Ji=!1,Y=s.memoizedState,v.state=Y,Iu(s,h,v,f);var pe=s.memoizedState;S!==Z||Y!==pe||Tn.current||Ji?(typeof oe=="function"&&(dd(s,a,oe,h),pe=s.memoizedState),(z=Ji||hg(s,a,z,h,Y,pe,C)||!1)?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,pe,C),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,pe,C)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),v.props=h,v.state=pe,v.context=C,h=z):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),h=!1)}return yd(r,s,a,h,g,f)}function yd(r,s,a,h,f,g){Ig(r,s);var v=(s.flags&128)!==0;if(!h&&!v)return f&&km(s,a,!1),Si(r,s,g);h=s.stateNode,xI.current=s;var S=v&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&v?(s.child=$o(s,r.child,null,g),s.child=$o(s,null,S,g)):un(r,s,S,g),s.memoizedState=h.state,f&&km(s,a,!0),s.child}function Ag(r){var s=r.stateNode;s.pendingContext?Cm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Cm(r,s.context,!1),ed(r,s.containerInfo)}function Rg(r,s,a,h,f){return Bo(),Kh(f),s.flags|=256,un(r,s,a,h),s.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function vd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Cg(r,s,a){var h=s.pendingProps,f=ht.current,g=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(f&2)!==0),S?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),rt(ht,f&1),r===null)return Wh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=h.children,r=h.fallback,g?(h=s.mode,g=s.child,v={mode:"hidden",children:v},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=Hu(v,h,0,null),r=Qs(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=vd(a),s.memoizedState=_d,r):Ed(s,v));if(f=r.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return OI(r,s,v,h,S,f,a);if(g){g=h.fallback,v=s.mode,f=r.child,S=f.sibling;var C={mode:"hidden",children:h.children};return!(v&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=C,s.deletions=null):(h=ss(f,C),h.subtreeFlags=f.subtreeFlags&14680064),S!==null?g=ss(S,g):(g=Qs(g,v,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,v=r.child.memoizedState,v=v===null?vd(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=r.childLanes&~a,s.memoizedState=_d,h}return g=r.child,r=g.sibling,h=ss(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Ed(r,s){return s=Hu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function xu(r,s,a,h){return h!==null&&Kh(h),$o(s,r.child,null,a),r=Ed(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function OI(r,s,a,h,f,g,v){if(a)return s.flags&256?(s.flags&=-257,h=pd(Error(t(422))),xu(r,s,v,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Hu({mode:"visible",children:h.children},f,0,null),g=Qs(g,f,v,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&$o(s,r.child,null,v),s.child.memoizedState=vd(v),s.memoizedState=_d,g);if(!(s.mode&1))return xu(r,s,v,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var S=h.dgst;return h=S,g=Error(t(419)),h=pd(g,h,void 0),xu(r,s,v,h)}if(S=(v&r.childLanes)!==0,Sn||S){if(h=Mt,h!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|v)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ti(r,f),Pr(h,r,f,-1))}return Md(),h=pd(Error(t(421))),xu(r,s,v,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=qI.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Fn=Gi(f.nextSibling),Vn=s,ct=!0,Sr=null,r!==null&&(rr[ir++]=Ei,rr[ir++]=wi,rr[ir++]=js,Ei=r.id,wi=r.overflow,js=s),s=Ed(s,h.children),s.flags|=4096,s)}function Pg(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Xh(r.return,s,a)}function wd(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function kg(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(un(r,s,h.children,a),h=ht.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Pg(r,a,s);else if(r.tag===19)Pg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(rt(ht,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Su(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),wd(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Su(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}wd(s,!0,a,null,g);break;case"together":wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ou(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Si(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),qs|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=ss(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ss(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function DI(r,s,a){switch(s.tag){case 3:Ag(s),Bo();break;case 5:$m(s);break;case 1:In(s.type)&&pu(s);break;case 4:ed(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;rt(Eu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(rt(ht,ht.current&1),s.flags|=128,null):a&s.child.childLanes?Cg(r,s,a):(rt(ht,ht.current&1),r=Si(r,s,a),r!==null?r.sibling:null);rt(ht,ht.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return kg(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(ht,ht.current),h)break;return null;case 22:case 23:return s.lanes=0,Tg(r,s,a)}return Si(r,s,a)}var Ng,Td,xg,Og;Ng=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Td=function(){},xg=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,$s(Kr.current);var g=null;switch(a){case"input":f=sn(r,f),h=sn(r,h),g=[];break;case"select":f=se({},f,{value:void 0}),h=se({},h,{value:void 0}),g=[];break;case"textarea":f=Cs(r,f),h=Cs(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=hu)}oi(a,h);var v;a=null;for(z in f)if(!h.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var S=f[z];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?g||(g=[]):(g=g||[]).push(z,null));for(z in h){var C=h[z];if(S=f!=null?f[z]:void 0,h.hasOwnProperty(z)&&C!==S&&(C!=null||S!=null))if(z==="style")if(S){for(v in S)!S.hasOwnProperty(v)||C&&C.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in C)C.hasOwnProperty(v)&&S[v]!==C[v]&&(a||(a={}),a[v]=C[v])}else a||(g||(g=[]),g.push(z,a)),a=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,S=S?S.__html:void 0,C!=null&&S!==C&&(g=g||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(g=g||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&it("scroll",r),g||S===C||(g=[])):(g=g||[]).push(z,C))}a&&(g=g||[]).push("style",a);var z=g;(s.updateQueue=z)&&(s.flags|=4)}},Og=function(r,s,a,h){a!==h&&(s.flags|=4)};function Ga(r,s){if(!ct)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function bI(r,s,a){var h=s.pendingProps;switch(Hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return In(s.type)&&fu(),Yt(s),null;case 3:return h=s.stateNode,Wo(),st(Tn),st(Gt),rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(_u(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Sr!==null&&(Dd(Sr),Sr=null))),Td(r,s),Yt(s),null;case 5:td(s);var f=$s($a.current);if(a=s.type,r!==null&&s.stateNode!=null)xg(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Yt(s),null}if(r=$s(Kr.current),_u(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[Wr]=s,h[Fa]=g,r=(s.mode&1)!==0,a){case"dialog":it("cancel",h),it("close",h);break;case"iframe":case"object":case"embed":it("load",h);break;case"video":case"audio":for(f=0;f<La.length;f++)it(La[f],h);break;case"source":it("error",h);break;case"img":case"image":case"link":it("error",h),it("load",h);break;case"details":it("toggle",h);break;case"input":Mr(h,g),it("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},it("invalid",h);break;case"textarea":Vr(h,g),it("invalid",h)}oi(a,g),f=null;for(var v in g)if(g.hasOwnProperty(v)){var S=g[v];v==="children"?typeof S=="string"?h.textContent!==S&&(g.suppressHydrationWarning!==!0&&cu(h.textContent,S,r),f=["children",S]):typeof S=="number"&&h.textContent!==""+S&&(g.suppressHydrationWarning!==!0&&cu(h.textContent,S,r),f=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&it("scroll",h)}switch(a){case"input":zn(h),si(h,g,!0);break;case"textarea":zn(h),Kn(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=hu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=nt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=v.createElement(a,{is:h.is}):(r=v.createElement(a),a==="select"&&(v=r,h.multiple?v.multiple=!0:h.size&&(v.size=h.size))):r=v.createElementNS(r,a),r[Wr]=s,r[Fa]=h,Ng(r,s,!1,!1),s.stateNode=r;e:{switch(v=ai(a,h),a){case"dialog":it("cancel",r),it("close",r),f=h;break;case"iframe":case"object":case"embed":it("load",r),f=h;break;case"video":case"audio":for(f=0;f<La.length;f++)it(La[f],r);f=h;break;case"source":it("error",r),f=h;break;case"img":case"image":case"link":it("error",r),it("load",r),f=h;break;case"details":it("toggle",r),f=h;break;case"input":Mr(r,h),f=sn(r,h),it("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=se({},h,{value:void 0}),it("invalid",r);break;case"textarea":Vr(r,h),f=Cs(r,h),it("invalid",r);break;default:f=h}oi(a,f),S=f;for(g in S)if(S.hasOwnProperty(g)){var C=S[g];g==="style"?on(r,C):g==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Mi(r,C)):g==="children"?typeof C=="string"?(a!=="textarea"||C!=="")&&Qn(r,C):typeof C=="number"&&Qn(r,""+C):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?C!=null&&g==="onScroll"&&it("scroll",r):C!=null&&ie(r,g,C,v))}switch(a){case"input":zn(r),si(r,h,!1);break;case"textarea":zn(r),Kn(r);break;case"option":h.value!=null&&r.setAttribute("value",""+He(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?qn(r,!!h.multiple,g,!1):h.defaultValue!=null&&qn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=hu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(r&&s.stateNode!=null)Og(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=$s($a.current),$s(Kr.current),_u(s)){if(h=s.stateNode,a=s.memoizedProps,h[Wr]=s,(g=h.nodeValue!==a)&&(r=Vn,r!==null))switch(r.tag){case 3:cu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Wr]=s,s.stateNode=h}return Yt(s),null;case 13:if(st(ht),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ct&&Fn!==null&&s.mode&1&&!(s.flags&128))Lm(),Bo(),s.flags|=98560,g=!1;else if(g=_u(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Wr]=s}else Bo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Yt(s),g=!1}else Sr!==null&&(Dd(Sr),Sr=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||ht.current&1?Pt===0&&(Pt=3):Md())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return Wo(),Td(r,s),r===null&&Ma(s.stateNode.containerInfo),Yt(s),null;case 10:return Yh(s.type._context),Yt(s),null;case 17:return In(s.type)&&fu(),Yt(s),null;case 19:if(st(ht),g=s.memoizedState,g===null)return Yt(s),null;if(h=(s.flags&128)!==0,v=g.rendering,v===null)if(h)Ga(g,!1);else{if(Pt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(v=Su(r),v!==null){for(s.flags|=128,Ga(g,!1),h=v.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,r=v.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return rt(ht,ht.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ne()>Yo&&(s.flags|=128,h=!0,Ga(g,!1),s.lanes=4194304)}else{if(!h)if(r=Su(v),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ga(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!ct)return Yt(s),null}else 2*Ne()-g.renderingStartTime>Yo&&a!==1073741824&&(s.flags|=128,h=!0,Ga(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ne(),s.sibling=null,a=ht.current,rt(ht,h?a&1|2:a&1),s):(Yt(s),null);case 22:case 23:return Ld(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Un&1073741824&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function LI(r,s){switch(Hh(s),s.tag){case 1:return In(s.type)&&fu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Wo(),st(Tn),st(Gt),rd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return td(s),null;case 13:if(st(ht),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Bo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return st(ht),null;case 4:return Wo(),null;case 10:return Yh(s.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Du=!1,Xt=!1,MI=typeof WeakSet=="function"?WeakSet:Set,de=null;function Go(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){mt(r,s,h)}else a.current=null}function Id(r,s,a){try{a()}catch(h){mt(r,s,h)}}var Dg=!1;function VI(r,s){if(Lh=qi,r=hm(),Ch(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,z=0,X=0,Z=r,Y=null;t:for(;;){for(var oe;Z!==a||f!==0&&Z.nodeType!==3||(S=v+f),Z!==g||h!==0&&Z.nodeType!==3||(C=v+h),Z.nodeType===3&&(v+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Y=Z,Z=oe;for(;;){if(Z===r)break t;if(Y===a&&++z===f&&(S=v),Y===g&&++X===h&&(C=v),(oe=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=oe}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mh={focusedElem:r,selectionRange:a},qi=!1,de=s;de!==null;)if(s=de,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,de=r;else for(;de!==null;){s=de;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,_t=pe.memoizedState,V=s.stateNode,O=V.getSnapshotBeforeUpdate(s.elementType===s.type?me:Ar(s.type,me),_t);V.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){mt(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,de=r;break}de=s.return}return pe=Dg,Dg=!1,pe}function Qa(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&Id(s,a,g)}f=f.next}while(f!==h)}}function bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Sd(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function bg(r){var s=r.alternate;s!==null&&(r.alternate=null,bg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Wr],delete s[Fa],delete s[jh],delete s[vI],delete s[EI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Lg(r){return r.tag===5||r.tag===3||r.tag===4}function Mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ad(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hu));else if(h!==4&&(r=r.child,r!==null))for(Ad(r,s,a),r=r.sibling;r!==null;)Ad(r,s,a),r=r.sibling}function Rd(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Rd(r,s,a),r=r.sibling;r!==null;)Rd(r,s,a),r=r.sibling}var zt=null,Rr=!1;function es(r,s,a){for(a=a.child;a!==null;)Vg(r,s,a),a=a.sibling}function Vg(r,s,a){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(xs,a)}catch{}switch(a.tag){case 5:Xt||Go(a,s);case 6:var h=zt,f=Rr;zt=null,es(r,s,a),zt=h,Rr=f,zt!==null&&(Rr?(r=zt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):zt.removeChild(a.stateNode));break;case 18:zt!==null&&(Rr?(r=zt,a=a.stateNode,r.nodeType===8?Uh(r.parentNode,a):r.nodeType===1&&Uh(r,a),wr(r)):Uh(zt,a.stateNode));break;case 4:h=zt,f=Rr,zt=a.stateNode.containerInfo,Rr=!0,es(r,s,a),zt=h,Rr=f;break;case 0:case 11:case 14:case 15:if(!Xt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&Id(a,s,v),f=f.next}while(f!==h)}es(r,s,a);break;case 1:if(!Xt&&(Go(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(S){mt(a,s,S)}es(r,s,a);break;case 21:es(r,s,a);break;case 22:a.mode&1?(Xt=(h=Xt)||a.memoizedState!==null,es(r,s,a),Xt=h):es(r,s,a);break;default:es(r,s,a)}}function Fg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new MI),s.forEach(function(h){var f=WI.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Cr(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 5:zt=S.stateNode,Rr=!1;break e;case 3:zt=S.stateNode.containerInfo,Rr=!0;break e;case 4:zt=S.stateNode.containerInfo,Rr=!0;break e}S=S.return}if(zt===null)throw Error(t(160));Vg(g,v,f),zt=null,Rr=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(z){mt(f,s,z)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ug(s,r),s=s.sibling}function Ug(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Cr(s,r),Qr(r),h&4){try{Qa(3,r,r.return),bu(3,r)}catch(me){mt(r,r.return,me)}try{Qa(5,r,r.return)}catch(me){mt(r,r.return,me)}}break;case 1:Cr(s,r),Qr(r),h&512&&a!==null&&Go(a,a.return);break;case 5:if(Cr(s,r),Qr(r),h&512&&a!==null&&Go(a,a.return),r.flags&32){var f=r.stateNode;try{Qn(f,"")}catch(me){mt(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,v=a!==null?a.memoizedProps:g,S=r.type,C=r.updateQueue;if(r.updateQueue=null,C!==null)try{S==="input"&&g.type==="radio"&&g.name!=null&&ii(f,g),ai(S,v);var z=ai(S,g);for(v=0;v<C.length;v+=2){var X=C[v],Z=C[v+1];X==="style"?on(f,Z):X==="dangerouslySetInnerHTML"?Mi(f,Z):X==="children"?Qn(f,Z):ie(f,X,Z,z)}switch(S){case"input":$n(f,g);break;case"textarea":Wn(f,g);break;case"select":var Y=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?qn(f,!!g.multiple,oe,!1):Y!==!!g.multiple&&(g.defaultValue!=null?qn(f,!!g.multiple,g.defaultValue,!0):qn(f,!!g.multiple,g.multiple?[]:"",!1))}f[Fa]=g}catch(me){mt(r,r.return,me)}}break;case 6:if(Cr(s,r),Qr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){mt(r,r.return,me)}}break;case 3:if(Cr(s,r),Qr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(s.containerInfo)}catch(me){mt(r,r.return,me)}break;case 4:Cr(s,r),Qr(r);break;case 13:Cr(s,r),Qr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(kd=Ne())),h&4&&Fg(r);break;case 22:if(X=a!==null&&a.memoizedState!==null,r.mode&1?(Xt=(z=Xt)||X,Cr(s,r),Xt=z):Cr(s,r),Qr(r),h&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!X&&r.mode&1)for(de=r,X=r.child;X!==null;){for(Z=de=X;de!==null;){switch(Y=de,oe=Y.child,Y.tag){case 0:case 11:case 14:case 15:Qa(4,Y,Y.return);break;case 1:Go(Y,Y.return);var pe=Y.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Y,a=Y.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){mt(h,a,me)}}break;case 5:Go(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Bg(Z);continue}}oe!==null?(oe.return=Y,de=oe):Bg(Z)}X=X.sibling}e:for(X=null,Z=r;;){if(Z.tag===5){if(X===null){X=Z;try{f=Z.stateNode,z?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(S=Z.stateNode,C=Z.memoizedProps.style,v=C!=null&&C.hasOwnProperty("display")?C.display:null,S.style.display=Ur("display",v))}catch(me){mt(r,r.return,me)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(me){mt(r,r.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Cr(s,r),Qr(r),h&4&&Fg(r);break;case 21:break;default:Cr(s,r),Qr(r)}}function Qr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Lg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Qn(f,""),h.flags&=-33);var g=Mg(r);Rd(r,g,f);break;case 3:case 4:var v=h.stateNode.containerInfo,S=Mg(r);Ad(r,S,v);break;default:throw Error(t(161))}}catch(C){mt(r,r.return,C)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function FI(r,s,a){de=r,jg(r)}function jg(r,s,a){for(var h=(r.mode&1)!==0;de!==null;){var f=de,g=f.child;if(f.tag===22&&h){var v=f.memoizedState!==null||Du;if(!v){var S=f.alternate,C=S!==null&&S.memoizedState!==null||Xt;S=Du;var z=Xt;if(Du=v,(Xt=C)&&!z)for(de=f;de!==null;)v=de,C=v.child,v.tag===22&&v.memoizedState!==null?$g(f):C!==null?(C.return=v,de=C):$g(f);for(;g!==null;)de=g,jg(g),g=g.sibling;de=f,Du=S,Xt=z}zg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,de=g):zg(r)}}function zg(r){for(;de!==null;){var s=de;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Xt||bu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Xt)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Ar(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Bm(s,g,h);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Bm(s,v,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var C=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&a.focus();break;case"img":C.src&&(a.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var z=s.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&wr(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xt||s.flags&512&&Sd(s)}catch(Y){mt(s,s.return,Y)}}if(s===r){de=null;break}if(a=s.sibling,a!==null){a.return=s.return,de=a;break}de=s.return}}function Bg(r){for(;de!==null;){var s=de;if(s===r){de=null;break}var a=s.sibling;if(a!==null){a.return=s.return,de=a;break}de=s.return}}function $g(r){for(;de!==null;){var s=de;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bu(4,s)}catch(C){mt(s,a,C)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(C){mt(s,f,C)}}var g=s.return;try{Sd(s)}catch(C){mt(s,g,C)}break;case 5:var v=s.return;try{Sd(s)}catch(C){mt(s,v,C)}}}catch(C){mt(s,s.return,C)}if(s===r){de=null;break}var S=s.sibling;if(S!==null){S.return=s.return,de=S;break}de=s.return}}var UI=Math.ceil,Lu=ce.ReactCurrentDispatcher,Cd=ce.ReactCurrentOwner,ar=ce.ReactCurrentBatchConfig,Ke=0,Mt=null,Tt=null,Bt=0,Un=0,Qo=Qi(0),Pt=0,Ya=null,qs=0,Mu=0,Pd=0,Xa=null,An=null,kd=0,Yo=1/0,Ai=null,Vu=!1,Nd=null,ts=null,Fu=!1,ns=null,Uu=0,Ja=0,xd=null,ju=-1,zu=0;function cn(){return Ke&6?Ne():ju!==-1?ju:ju=Ne()}function rs(r){return r.mode&1?Ke&2&&Bt!==0?Bt&-Bt:TI.transition!==null?(zu===0&&(zu=Ds()),zu):(r=Be,r!==0||(r=window.event,r=r===void 0?16:Ra(r.type)),r):1}function Pr(r,s,a,h){if(50<Ja)throw Ja=0,xd=null,Error(t(185));zi(r,a,h),(!(Ke&2)||r!==Mt)&&(r===Mt&&(!(Ke&2)&&(Mu|=a),Pt===4&&is(r,Bt)),Rn(r,h),a===1&&Ke===0&&!(s.mode&1)&&(Yo=Ne()+500,mu&&Xi()))}function Rn(r,s){var a=r.callbackNode;fi(r,s);var h=Os(r,r===Mt?Bt:0);if(h===0)a!==null&&he(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&he(a),s===1)r.tag===0?wI(qg.bind(null,r)):Nm(qg.bind(null,r)),yI(function(){!(Ke&6)&&Xi()}),a=null;else{switch($i(h)){case 1:a=Dt;break;case 4:a=vn;break;case 16:a=et;break;case 536870912:a=Ns;break;default:a=et}a=Zg(a,Hg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Hg(r,s){if(ju=-1,zu=0,Ke&6)throw Error(t(327));var a=r.callbackNode;if(Xo()&&r.callbackNode!==a)return null;var h=Os(r,r===Mt?Bt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Bu(r,h);else{s=h;var f=Ke;Ke|=2;var g=Kg();(Mt!==r||Bt!==s)&&(Ai=null,Yo=Ne()+500,Ks(r,s));do try{BI();break}catch(S){Wg(r,S)}while(!0);Qh(),Lu.current=g,Ke=f,Tt!==null?s=0:(Mt=null,Bt=0,s=Pt)}if(s!==0){if(s===2&&(f=bn(r),f!==0&&(h=f,s=Od(r,f))),s===1)throw a=Ya,Ks(r,0),is(r,h),Rn(r,Ne()),a;if(s===6)is(r,h);else{if(f=r.current.alternate,!(h&30)&&!jI(f)&&(s=Bu(r,h),s===2&&(g=bn(r),g!==0&&(h=g,s=Od(r,g))),s===1))throw a=Ya,Ks(r,0),is(r,h),Rn(r,Ne()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Gs(r,An,Ai);break;case 3:if(is(r,h),(h&130023424)===h&&(s=kd+500-Ne(),10<s)){if(Os(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){cn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Fh(Gs.bind(null,r,An,Ai),s);break}Gs(r,An,Ai);break;case 4:if(is(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var v=31-an(h);g=1<<v,v=s[v],v>f&&(f=v),h&=~g}if(h=f,h=Ne()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*UI(h/1960))-h,10<h){r.timeoutHandle=Fh(Gs.bind(null,r,An,Ai),h);break}Gs(r,An,Ai);break;case 5:Gs(r,An,Ai);break;default:throw Error(t(329))}}}return Rn(r,Ne()),r.callbackNode===a?Hg.bind(null,r):null}function Od(r,s){var a=Xa;return r.current.memoizedState.isDehydrated&&(Ks(r,s).flags|=256),r=Bu(r,s),r!==2&&(s=An,An=a,s!==null&&Dd(s)),r}function Dd(r){An===null?An=r:An.push.apply(An,r)}function jI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Ir(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(r,s){for(s&=~Pd,s&=~Mu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-an(s),h=1<<a;r[a]=-1,s&=~h}}function qg(r){if(Ke&6)throw Error(t(327));Xo();var s=Os(r,0);if(!(s&1))return Rn(r,Ne()),null;var a=Bu(r,s);if(r.tag!==0&&a===2){var h=bn(r);h!==0&&(s=h,a=Od(r,h))}if(a===1)throw a=Ya,Ks(r,0),is(r,s),Rn(r,Ne()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Gs(r,An,Ai),Rn(r,Ne()),null}function bd(r,s){var a=Ke;Ke|=1;try{return r(s)}finally{Ke=a,Ke===0&&(Yo=Ne()+500,mu&&Xi())}}function Ws(r){ns!==null&&ns.tag===0&&!(Ke&6)&&Xo();var s=Ke;Ke|=1;var a=ar.transition,h=Be;try{if(ar.transition=null,Be=1,r)return r()}finally{Be=h,ar.transition=a,Ke=s,!(Ke&6)&&Xi()}}function Ld(){Un=Qo.current,st(Qo)}function Ks(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,gI(a)),Tt!==null)for(a=Tt.return;a!==null;){var h=a;switch(Hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&fu();break;case 3:Wo(),st(Tn),st(Gt),rd();break;case 5:td(h);break;case 4:Wo();break;case 13:st(ht);break;case 19:st(ht);break;case 10:Yh(h.type._context);break;case 22:case 23:Ld()}a=a.return}if(Mt=r,Tt=r=ss(r.current,null),Bt=Un=s,Pt=0,Ya=null,Pd=Mu=qs=0,An=Xa=null,Bs!==null){for(s=0;s<Bs.length;s++)if(a=Bs[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var v=g.next;g.next=f,h.next=v}a.pending=h}Bs=null}return r}function Wg(r,s){do{var a=Tt;try{if(Qh(),Au.current=ku,Ru){for(var h=dt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Ru=!1}if(Hs=0,Lt=Ct=dt=null,Ha=!1,qa=0,Cd.current=null,a===null||a.return===null){Pt=1,Ya=s,Tt=null;break}e:{var g=r,v=a.return,S=a,C=s;if(s=Bt,S.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,X=S,Z=X.tag;if(!(X.mode&1)&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var oe=yg(v);if(oe!==null){oe.flags&=-257,_g(oe,v,S,g,s),oe.mode&1&&gg(g,z,s),s=oe,C=z;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(C),s.updateQueue=me}else pe.add(C);break e}else{if(!(s&1)){gg(g,z,s),Md();break e}C=Error(t(426))}}else if(ct&&S.mode&1){var _t=yg(v);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),_g(_t,v,S,g,s),Kh(Ko(C,S));break e}}g=C=Ko(C,S),Pt!==4&&(Pt=2),Xa===null?Xa=[g]:Xa.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var V=pg(g,C,s);zm(g,V);break e;case 1:S=C;var O=g.type,U=g.stateNode;if(!(g.flags&128)&&(typeof O.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(ts===null||!ts.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var ee=mg(g,S,s);zm(g,ee);break e}}g=g.return}while(g!==null)}Qg(a)}catch(_e){s=_e,Tt===a&&a!==null&&(Tt=a=a.return);continue}break}while(!0)}function Kg(){var r=Lu.current;return Lu.current=ku,r===null?ku:r}function Md(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Mt===null||!(qs&268435455)&&!(Mu&268435455)||is(Mt,Bt)}function Bu(r,s){var a=Ke;Ke|=2;var h=Kg();(Mt!==r||Bt!==s)&&(Ai=null,Ks(r,s));do try{zI();break}catch(f){Wg(r,f)}while(!0);if(Qh(),Ke=a,Lu.current=h,Tt!==null)throw Error(t(261));return Mt=null,Bt=0,Pt}function zI(){for(;Tt!==null;)Gg(Tt)}function BI(){for(;Tt!==null&&!Xe();)Gg(Tt)}function Gg(r){var s=Jg(r.alternate,r,Un);r.memoizedProps=r.pendingProps,s===null?Qg(r):Tt=s,Cd.current=null}function Qg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=LI(a,s),a!==null){a.flags&=32767,Tt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,Tt=null;return}}else if(a=bI(a,s,Un),a!==null){Tt=a;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);Pt===0&&(Pt=5)}function Gs(r,s,a){var h=Be,f=ar.transition;try{ar.transition=null,Be=1,$I(r,s,a,h)}finally{ar.transition=f,Be=h}return null}function $I(r,s,a,h){do Xo();while(ns!==null);if(Ke&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(tt(r,g),r===Mt&&(Tt=Mt=null,Bt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Fu||(Fu=!0,Zg(et,function(){return Xo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=ar.transition,ar.transition=null;var v=Be;Be=1;var S=Ke;Ke|=4,Cd.current=null,VI(r,a),Ug(a,r),uI(Mh),qi=!!Lh,Mh=Lh=null,r.current=a,FI(a),Et(),Ke=S,Be=v,ar.transition=g}else r.current=a;if(Fu&&(Fu=!1,ns=r,Uu=f),g=r.pendingLanes,g===0&&(ts=null),Bl(a.stateNode),Rn(r,Ne()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Vu)throw Vu=!1,r=Nd,Nd=null,r;return Uu&1&&r.tag!==0&&Xo(),g=r.pendingLanes,g&1?r===xd?Ja++:(Ja=0,xd=r):Ja=0,Xi(),null}function Xo(){if(ns!==null){var r=$i(Uu),s=ar.transition,a=Be;try{if(ar.transition=null,Be=16>r?16:r,ns===null)var h=!1;else{if(r=ns,ns=null,Uu=0,Ke&6)throw Error(t(331));var f=Ke;for(Ke|=4,de=r.current;de!==null;){var g=de,v=g.child;if(de.flags&16){var S=g.deletions;if(S!==null){for(var C=0;C<S.length;C++){var z=S[C];for(de=z;de!==null;){var X=de;switch(X.tag){case 0:case 11:case 15:Qa(8,X,g)}var Z=X.child;if(Z!==null)Z.return=X,de=Z;else for(;de!==null;){X=de;var Y=X.sibling,oe=X.return;if(bg(X),X===z){de=null;break}if(Y!==null){Y.return=oe,de=Y;break}de=oe}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var _t=me.sibling;me.sibling=null,me=_t}while(me!==null)}}de=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,de=v;else e:for(;de!==null;){if(g=de,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Qa(9,g,g.return)}var V=g.sibling;if(V!==null){V.return=g.return,de=V;break e}de=g.return}}var O=r.current;for(de=O;de!==null;){v=de;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,de=U;else e:for(v=O;de!==null;){if(S=de,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:bu(9,S)}}catch(_e){mt(S,S.return,_e)}if(S===v){de=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,de=ee;break e}de=S.return}}if(Ke=f,Xi(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(xs,r)}catch{}h=!0}return h}finally{Be=a,ar.transition=s}}return!1}function Yg(r,s,a){s=Ko(a,s),s=pg(r,s,1),r=Zi(r,s,1),s=cn(),r!==null&&(zi(r,1,s),Rn(r,s))}function mt(r,s,a){if(r.tag===3)Yg(r,r,a);else for(;s!==null;){if(s.tag===3){Yg(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ts===null||!ts.has(h))){r=Ko(a,r),r=mg(s,r,1),s=Zi(s,r,1),r=cn(),s!==null&&(zi(s,1,r),Rn(s,r));break}}s=s.return}}function HI(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=cn(),r.pingedLanes|=r.suspendedLanes&a,Mt===r&&(Bt&a)===a&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>Ne()-kd?Ks(r,0):Pd|=a),Rn(r,s)}function Xg(r,s){s===0&&(r.mode&1?(s=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):s=1);var a=cn();r=Ti(r,s),r!==null&&(zi(r,s,a),Rn(r,a))}function qI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Xg(r,a)}function WI(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Xg(r,a)}var Jg;Jg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Tn.current)Sn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Sn=!1,DI(r,s,a);Sn=!!(r.flags&131072)}else Sn=!1,ct&&s.flags&1048576&&xm(s,yu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ou(r,s),r=s.pendingProps;var f=Uo(s,Gt.current);qo(s,a),f=od(null,s,h,r,f,a);var g=ad();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,In(h)?(g=!0,pu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Zh(s),f.updater=Nu,s.stateNode=f,f._reactInternals=s,fd(s,h,r,a),s=yd(null,s,h,!0,g,a)):(s.tag=0,ct&&g&&$h(s),un(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Ou(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=GI(h),r=Ar(h,r),f){case 0:s=gd(null,s,h,r,a);break e;case 1:s=Sg(null,s,h,r,a);break e;case 11:s=vg(null,s,h,r,a);break e;case 14:s=Eg(null,s,h,Ar(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Ar(h,f),gd(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Ar(h,f),Sg(r,s,h,f,a);case 3:e:{if(Ag(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,jm(r,s),Iu(s,h,null,a);var v=s.memoizedState;if(h=v.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Ko(Error(t(423)),s),s=Rg(r,s,h,a,f);break e}else if(h!==f){f=Ko(Error(t(424)),s),s=Rg(r,s,h,a,f);break e}else for(Fn=Gi(s.stateNode.containerInfo.firstChild),Vn=s,ct=!0,Sr=null,a=Fm(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bo(),h===f){s=Si(r,s,a);break e}un(r,s,h,a)}s=s.child}return s;case 5:return $m(s),r===null&&Wh(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,v=f.children,Vh(h,f)?v=null:g!==null&&Vh(h,g)&&(s.flags|=32),Ig(r,s),un(r,s,v,a),s.child;case 6:return r===null&&Wh(s),null;case 13:return Cg(r,s,a);case 4:return ed(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=$o(s,null,h,a):un(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Ar(h,f),vg(r,s,h,f,a);case 7:return un(r,s,s.pendingProps,a),s.child;case 8:return un(r,s,s.pendingProps.children,a),s.child;case 12:return un(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,v=f.value,rt(Eu,h._currentValue),h._currentValue=v,g!==null)if(Ir(g.value,v)){if(g.children===f.children&&!Tn.current){s=Si(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var S=g.dependencies;if(S!==null){v=g.child;for(var C=S.firstContext;C!==null;){if(C.context===h){if(g.tag===1){C=Ii(-1,a&-a),C.tag=2;var z=g.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?C.next=C:(C.next=X.next,X.next=C),z.pending=C}}g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),Xh(g.return,a,s),S.lanes|=a;break}C=C.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),Xh(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}un(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,qo(s,a),f=sr(f),h=h(f),s.flags|=1,un(r,s,h,a),s.child;case 14:return h=s.type,f=Ar(h,s.pendingProps),f=Ar(h.type,f),Eg(r,s,h,f,a);case 15:return wg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Ar(h,f),Ou(r,s),s.tag=1,In(h)?(r=!0,pu(s)):r=!1,qo(s,a),dg(s,h,f),fd(s,h,f,a),yd(null,s,h,!0,r,a);case 19:return kg(r,s,a);case 22:return Tg(r,s,a)}throw Error(t(156,s.tag))};function Zg(r,s){return J(r,s)}function KI(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(r,s,a,h){return new KI(r,s,a,h)}function Vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function GI(r){if(typeof r=="function")return Vd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===L)return 11;if(r===Pe)return 14}return 2}function ss(r,s){var a=r.alternate;return a===null?(a=lr(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function $u(r,s,a,h,f,g){var v=2;if(h=r,typeof r=="function")Vd(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case P:return Qs(a.children,f,g,s);case I:v=8,f|=8;break;case R:return r=lr(12,a,s,f|2),r.elementType=R,r.lanes=g,r;case A:return r=lr(13,a,s,f),r.elementType=A,r.lanes=g,r;case Ze:return r=lr(19,a,s,f),r.elementType=Ze,r.lanes=g,r;case Ve:return Hu(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:v=10;break e;case N:v=9;break e;case L:v=11;break e;case Pe:v=14;break e;case Me:v=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=lr(v,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Qs(r,s,a,h){return r=lr(7,r,h,s),r.lanes=a,r}function Hu(r,s,a,h){return r=lr(22,r,h,s),r.elementType=Ve,r.lanes=a,r.stateNode={isHidden:!1},r}function Fd(r,s,a){return r=lr(6,r,null,s),r.lanes=a,r}function Ud(r,s,a){return s=lr(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function QI(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jd(r,s,a,h,f,g,v,S,C){return r=new QI(r,s,a,S,C),s===1?(s=1,g===!0&&(s|=8)):s=0,g=lr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(g),r}function YI(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function ey(r){if(!r)return Yi;r=r._reactInternals;e:{if(yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(In(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(In(a))return Pm(r,a,s)}return s}function ty(r,s,a,h,f,g,v,S,C){return r=jd(a,h,!0,r,f,g,v,S,C),r.context=ey(null),a=r.current,h=cn(),f=rs(a),g=Ii(h,f),g.callback=s??null,Zi(a,g,f),r.current.lanes=f,zi(r,f,h),Rn(r,h),r}function qu(r,s,a,h){var f=s.current,g=cn(),v=rs(f);return a=ey(a),s.context===null?s.context=a:s.pendingContext=a,s=Ii(g,v),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Zi(f,s,v),r!==null&&(Pr(r,f,v,g),Tu(r,f,v)),v}function Wu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ny(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function zd(r,s){ny(r,s),(r=r.alternate)&&ny(r,s)}function XI(){return null}var ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bd(r){this._internalRoot=r}Ku.prototype.render=Bd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));qu(r,s,null,null)},Ku.prototype.unmount=Bd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ws(function(){qu(null,r,null,null)}),s[_i]=null}};function Ku(r){this._internalRoot=r}Ku.prototype.unstable_scheduleHydration=function(r){if(r){var s=Kl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Br.length&&s!==0&&s<Br[a].priority;a++);Br.splice(a,0,r),a===0&&Yl(r)}};function $d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function iy(){}function JI(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var z=Wu(v);g.call(z)}}var v=ty(s,h,r,0,null,!1,!1,"",iy);return r._reactRootContainer=v,r[_i]=v.current,Ma(r.nodeType===8?r.parentNode:r),Ws(),v}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var S=h;h=function(){var z=Wu(C);S.call(z)}}var C=jd(r,0,!1,null,null,!1,!1,"",iy);return r._reactRootContainer=C,r[_i]=C.current,Ma(r.nodeType===8?r.parentNode:r),Ws(function(){qu(s,C,a,h)}),C}function Qu(r,s,a,h,f){var g=a._reactRootContainer;if(g){var v=g;if(typeof f=="function"){var S=f;f=function(){var C=Wu(v);S.call(C)}}qu(s,v,r,f)}else v=JI(a,s,r,f,h);return Wu(v)}ql=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Ui(s.pendingLanes);a!==0&&(Bi(s,a|1),Rn(s,Ne()),!(Ke&6)&&(Yo=Ne()+500,Xi()))}break;case 13:Ws(function(){var h=Ti(r,1);if(h!==null){var f=cn();Pr(h,r,1,f)}}),zd(r,1)}},wo=function(r){if(r.tag===13){var s=Ti(r,134217728);if(s!==null){var a=cn();Pr(s,r,134217728,a)}zd(r,134217728)}},Wl=function(r){if(r.tag===13){var s=rs(r),a=Ti(r,s);if(a!==null){var h=cn();Pr(a,r,s,h)}zd(r,s)}},Kl=function(){return Be},Gl=function(r,s){var a=Be;try{return Be=r,s()}finally{Be=a}},yr=function(r,s,a){switch(s){case"input":if($n(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=du(h);if(!f)throw Error(t(90));xn(h),$n(h,f)}}}break;case"textarea":Wn(r,a);break;case"select":s=a.value,s!=null&&qn(r,!!a.multiple,s,!1)}},mn=bd,Ps=Ws;var ZI={usingClientEntryPoint:!1,Events:[Ua,Vo,du,Jn,at,bd]},Za={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eS={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ge(r),r===null?null:r.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||XI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{xs=Yu.inject(eS),Dn=Yu}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZI,Cn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(s))throw Error(t(200));return YI(r,s,null,a)},Cn.createRoot=function(r,s){if(!$d(r))throw Error(t(299));var a=!1,h="",f=ry;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=jd(r,1,!1,null,null,a,!1,h,f),r[_i]=s.current,Ma(r.nodeType===8?r.parentNode:r),new Bd(s)},Cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ge(s),r=r===null?null:r.stateNode,r},Cn.flushSync=function(r){return Ws(r)},Cn.hydrate=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!0,a)},Cn.hydrateRoot=function(r,s,a){if(!$d(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",v=ry;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=ty(s,null,r,1,a??null,f,!1,g,v),r[_i]=s.current,Ma(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new Ku(s)},Cn.render=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!1,a)},Cn.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(Ws(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1},Cn.unstable_batchedUpdates=bd,Cn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Gu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Qu(r,s,a,!1,h)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var dy;function lS(){if(dy)return Wd.exports;dy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wd.exports=aS(),Wd.exports}var fy;function uS(){if(fy)return Xu;fy=1;var n=lS();return Xu.createRoot=n.createRoot,Xu.hydrateRoot=n.hydrateRoot,Xu}var cS=uS();const hS=Av(cS);function Rv(n,e){return function(){return n.apply(e,arguments)}}const{toString:dS}=Object.prototype,{getPrototypeOf:tp}=Object,Wc=(n=>e=>{const t=dS.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),br=n=>(n=n.toLowerCase(),e=>Wc(e)===n),Kc=n=>e=>typeof e===n,{isArray:pa}=Array,_l=Kc("undefined");function fS(n){return n!==null&&!_l(n)&&n.constructor!==null&&!_l(n.constructor)&&jn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Cv=br("ArrayBuffer");function pS(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Cv(n.buffer),e}const mS=Kc("string"),jn=Kc("function"),Pv=Kc("number"),Gc=n=>n!==null&&typeof n=="object",gS=n=>n===!0||n===!1,ac=n=>{if(Wc(n)!=="object")return!1;const e=tp(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},yS=br("Date"),_S=br("File"),vS=br("Blob"),ES=br("FileList"),wS=n=>Gc(n)&&jn(n.pipe),TS=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||jn(n.append)&&((e=Wc(n))==="formdata"||e==="object"&&jn(n.toString)&&n.toString()==="[object FormData]"))},IS=br("URLSearchParams"),[SS,AS,RS,CS]=["ReadableStream","Request","Response","Headers"].map(br),PS=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),pa(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let d;for(i=0;i<c;i++)d=l[i],e.call(null,n[d],d,n)}}function kv(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,o;for(;i-- >0;)if(o=t[i],e===o.toLowerCase())return o;return null}const Js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nv=n=>!_l(n)&&n!==Js;function Ef(){const{caseless:n}=Nv(this)&&this||{},e={},t=(i,o)=>{const l=n&&kv(e,o)||o;ac(e[l])&&ac(i)?e[l]=Ef(e[l],i):ac(i)?e[l]=Ef({},i):pa(i)?e[l]=i.slice():e[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Nl(arguments[i],t);return e}const kS=(n,e,t,{allOwnKeys:i}={})=>(Nl(e,(o,l)=>{t&&jn(o)?n[l]=Rv(o,t):n[l]=o},{allOwnKeys:i}),n),NS=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),xS=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},OS=(n,e,t,i)=>{let o,l,c;const d={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),l=o.length;l-- >0;)c=o[l],(!i||i(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&tp(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},DS=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},bS=n=>{if(!n)return null;if(pa(n))return n;let e=n.length;if(!Pv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},LS=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&tp(Uint8Array)),MS=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=i.next())&&!o.done;){const l=o.value;e.call(n,l[0],l[1])}},VS=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},FS=br("HTMLFormElement"),US=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,o){return i.toUpperCase()+o}),py=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),jS=br("RegExp"),xv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Nl(t,(o,l)=>{let c;(c=e(o,l,n))!==!1&&(i[l]=c||o)}),Object.defineProperties(n,i)},zS=n=>{xv(n,(e,t)=>{if(jn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(jn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},BS=(n,e)=>{const t={},i=o=>{o.forEach(l=>{t[l]=!0})};return pa(n)?i(n):i(String(n).split(e)),t},$S=()=>{},HS=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Qd="abcdefghijklmnopqrstuvwxyz",my="0123456789",Ov={DIGIT:my,ALPHA:Qd,ALPHA_DIGIT:Qd+Qd.toUpperCase()+my},qS=(n=16,e=Ov.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function WS(n){return!!(n&&jn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const KS=n=>{const e=new Array(10),t=(i,o)=>{if(Gc(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;const l=pa(i)?[]:{};return Nl(i,(c,d)=>{const m=t(c,o+1);!_l(m)&&(l[d]=m)}),e[o]=void 0,l}}return i};return t(n,0)},GS=br("AsyncFunction"),QS=n=>n&&(Gc(n)||jn(n))&&jn(n.then)&&jn(n.catch),Dv=((n,e)=>n?setImmediate:e?((t,i)=>(Js.addEventListener("message",({source:o,data:l})=>{o===Js&&l===t&&i.length&&i.shift()()},!1),o=>{i.push(o),Js.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",jn(Js.postMessage)),YS=typeof queueMicrotask<"u"?queueMicrotask.bind(Js):typeof process<"u"&&process.nextTick||Dv,H={isArray:pa,isArrayBuffer:Cv,isBuffer:fS,isFormData:TS,isArrayBufferView:pS,isString:mS,isNumber:Pv,isBoolean:gS,isObject:Gc,isPlainObject:ac,isReadableStream:SS,isRequest:AS,isResponse:RS,isHeaders:CS,isUndefined:_l,isDate:yS,isFile:_S,isBlob:vS,isRegExp:jS,isFunction:jn,isStream:wS,isURLSearchParams:IS,isTypedArray:LS,isFileList:ES,forEach:Nl,merge:Ef,extend:kS,trim:PS,stripBOM:NS,inherits:xS,toFlatObject:OS,kindOf:Wc,kindOfTest:br,endsWith:DS,toArray:bS,forEachEntry:MS,matchAll:VS,isHTMLForm:FS,hasOwnProperty:py,hasOwnProp:py,reduceDescriptors:xv,freezeMethods:zS,toObjectSet:BS,toCamelCase:US,noop:$S,toFiniteNumber:HS,findKey:kv,global:Js,isContextDefined:Nv,ALPHABET:Ov,generateString:qS,isSpecCompliantForm:WS,toJSONObject:KS,isAsyncFn:GS,isThenable:QS,setImmediate:Dv,asap:YS};function De(n,e,t,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}H.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const bv=De.prototype,Lv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Lv[n]={value:n}});Object.defineProperties(De,Lv);Object.defineProperty(bv,"isAxiosError",{value:!0});De.from=(n,e,t,i,o,l)=>{const c=Object.create(bv);return H.toFlatObject(n,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),De.call(c,n.message,e,t,i,o),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const XS=null;function wf(n){return H.isPlainObject(n)||H.isArray(n)}function Mv(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function gy(n,e,t){return n?n.concat(e).map(function(o,l){return o=Mv(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function JS(n){return H.isArray(n)&&!n.some(wf)}const ZS=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Qc(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,F){return!H.isUndefined(F[q])});const i=t.metaTokens,o=t.visitor||E,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(o))throw new TypeError("visitor must be a function");function y(j){if(j===null)return"";if(H.isDate(j))return j.toISOString();if(!m&&H.isBlob(j))throw new De("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(j)||H.isTypedArray(j)?m&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function E(j,q,F){let ue=j;if(j&&!F&&typeof j=="object"){if(H.endsWith(q,"{}"))q=i?q:q.slice(0,-2),j=JSON.stringify(j);else if(H.isArray(j)&&JS(j)||(H.isFileList(j)||H.endsWith(q,"[]"))&&(ue=H.toArray(j)))return q=Mv(q),ue.forEach(function(ie,ce){!(H.isUndefined(ie)||ie===null)&&e.append(c===!0?gy([q],ce,l):c===null?q:q+"[]",y(ie))}),!1}return wf(j)?!0:(e.append(gy(F,q,l),y(j)),!1)}const T=[],b=Object.assign(ZS,{defaultVisitor:E,convertValue:y,isVisitable:wf});function B(j,q){if(!H.isUndefined(j)){if(T.indexOf(j)!==-1)throw Error("Circular reference detected in "+q.join("."));T.push(j),H.forEach(j,function(ue,ae){(!(H.isUndefined(ue)||ue===null)&&o.call(e,ue,H.isString(ae)?ae.trim():ae,q,b))===!0&&B(ue,q?q.concat(ae):[ae])}),T.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return B(n),e}function yy(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function np(n,e){this._pairs=[],n&&Qc(n,this,e)}const Vv=np.prototype;Vv.append=function(e,t){this._pairs.push([e,t])};Vv.toString=function(e){const t=e?function(i){return e.call(this,i,yy)}:yy;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function eA(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fv(n,e,t){if(!e)return n;const i=t&&t.encode||eA;H.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=H.isURLSearchParams(e)?e.toString():new np(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class _y{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Uv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tA=typeof URLSearchParams<"u"?URLSearchParams:np,nA=typeof FormData<"u"?FormData:null,rA=typeof Blob<"u"?Blob:null,iA={isBrowser:!0,classes:{URLSearchParams:tA,FormData:nA,Blob:rA},protocols:["http","https","file","blob","url","data"]},rp=typeof window<"u"&&typeof document<"u",Tf=typeof navigator=="object"&&navigator||void 0,sA=rp&&(!Tf||["ReactNative","NativeScript","NS"].indexOf(Tf.product)<0),oA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aA=rp&&window.location.href||"http://localhost",lA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rp,hasStandardBrowserEnv:sA,hasStandardBrowserWebWorkerEnv:oA,navigator:Tf,origin:aA},Symbol.toStringTag,{value:"Module"})),tn={...lA,...iA};function uA(n,e){return Qc(n,new tn.classes.URLSearchParams,Object.assign({visitor:function(t,i,o,l){return tn.isNode&&H.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function cA(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function hA(n){const e={},t=Object.keys(n);let i;const o=t.length;let l;for(i=0;i<o;i++)l=t[i],e[l]=n[l];return e}function jv(n){function e(t,i,o,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&H.isArray(o)?o.length:c,m?(H.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!d):((!o[c]||!H.isObject(o[c]))&&(o[c]=[]),e(t,i,o[c],l)&&H.isArray(o[c])&&(o[c]=hA(o[c])),!d)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(i,o)=>{e(cA(i),o,t,0)}),t}return null}function dA(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const xl={transitional:Uv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",o=i.indexOf("application/json")>-1,l=H.isObject(e);if(l&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return o?JSON.stringify(jv(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return uA(e,this.formSerializer).toString();if((d=H.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Qc(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),dA(e)):e}],transformResponse:[function(e){const t=this.transitional||xl.transitional,i=t&&t.forcedJSONParsing,o=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(i&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?De.from(d,De.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{xl.headers[n]={}});const fA=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pA=n=>{const e={};let t,i,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!t||e[t]&&fA[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},vy=Symbol("internals");function tl(n){return n&&String(n).trim().toLowerCase()}function lc(n){return n===!1||n==null?n:H.isArray(n)?n.map(lc):String(n)}function mA(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const gA=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Yd(n,e,t,i,o){if(H.isFunction(i))return i.call(this,e,t);if(o&&(e=t),!!H.isString(e)){if(H.isString(i))return e.indexOf(i)!==-1;if(H.isRegExp(i))return i.test(e)}}function yA(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function _A(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(o,l,c){return this[i].call(this,e,o,l,c)},configurable:!0})})}let kn=class{constructor(e){e&&this.set(e)}set(e,t,i){const o=this;function l(d,m,y){const E=tl(m);if(!E)throw new Error("header name must be a non-empty string");const T=H.findKey(o,E);(!T||o[T]===void 0||y===!0||y===void 0&&o[T]!==!1)&&(o[T||m]=lc(d))}const c=(d,m)=>H.forEach(d,(y,E)=>l(y,E,m));if(H.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(H.isString(e)&&(e=e.trim())&&!gA(e))c(pA(e),t);else if(H.isHeaders(e))for(const[d,m]of e.entries())l(m,d,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=tl(e),e){const i=H.findKey(this,e);if(i){const o=this[i];if(!t)return o;if(t===!0)return mA(o);if(H.isFunction(t))return t.call(this,o,i);if(H.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tl(e),e){const i=H.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Yd(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let o=!1;function l(c){if(c=tl(c),c){const d=H.findKey(i,c);d&&(!t||Yd(i,i[d],d,t))&&(delete i[d],o=!0)}}return H.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let i=t.length,o=!1;for(;i--;){const l=t[i];(!e||Yd(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,i={};return H.forEach(this,(o,l)=>{const c=H.findKey(i,l);if(c){t[c]=lc(o),delete t[l];return}const d=e?yA(l):String(l).trim();d!==l&&delete t[l],t[d]=lc(o),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(i,o)=>{i!=null&&i!==!1&&(t[o]=e&&H.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[vy]=this[vy]={accessors:{}}).accessors,o=this.prototype;function l(c){const d=tl(c);i[d]||(_A(o,c),i[d]=!0)}return H.isArray(e)?e.forEach(l):l(e),this}};kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(kn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});H.freezeMethods(kn);function Xd(n,e){const t=this||xl,i=e||t,o=kn.from(i.headers);let l=i.data;return H.forEach(n,function(d){l=d.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function zv(n){return!!(n&&n.__CANCEL__)}function ma(n,e,t){De.call(this,n??"canceled",De.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(ma,De,{__CANCEL__:!0});function Bv(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new De("Request failed with status code "+t.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function vA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function EA(n,e){n=n||10;const t=new Array(n),i=new Array(n);let o=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const y=Date.now(),E=i[l];c||(c=y),t[o]=m,i[o]=y;let T=l,b=0;for(;T!==o;)b+=t[T++],T=T%n;if(o=(o+1)%n,o===l&&(l=(l+1)%n),y-c<e)return;const B=E&&y-E;return B?Math.round(b*1e3/B):void 0}}function wA(n,e){let t=0,i=1e3/e,o,l;const c=(y,E=Date.now())=>{t=E,o=null,l&&(clearTimeout(l),l=null),n.apply(null,y)};return[(...y)=>{const E=Date.now(),T=E-t;T>=i?c(y,E):(o=y,l||(l=setTimeout(()=>{l=null,c(o)},i-T)))},()=>o&&c(o)]}const wc=(n,e,t=3)=>{let i=0;const o=EA(50,250);return wA(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-i,y=o(m),E=c<=d;i=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:y||void 0,estimated:y&&d&&E?(d-c)/y:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},Ey=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},wy=n=>(...e)=>H.asap(()=>n(...e)),TA=tn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,tn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,IA=tn.hasStandardBrowserEnv?{write(n,e,t,i,o,l){const c=[n+"="+encodeURIComponent(e)];H.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),H.isString(i)&&c.push("path="+i),H.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function AA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function $v(n,e){return n&&!SA(e)?AA(n,e):e}const Ty=n=>n instanceof kn?{...n}:n;function no(n,e){e=e||{};const t={};function i(y,E,T,b){return H.isPlainObject(y)&&H.isPlainObject(E)?H.merge.call({caseless:b},y,E):H.isPlainObject(E)?H.merge({},E):H.isArray(E)?E.slice():E}function o(y,E,T,b){if(H.isUndefined(E)){if(!H.isUndefined(y))return i(void 0,y,T,b)}else return i(y,E,T,b)}function l(y,E){if(!H.isUndefined(E))return i(void 0,E)}function c(y,E){if(H.isUndefined(E)){if(!H.isUndefined(y))return i(void 0,y)}else return i(void 0,E)}function d(y,E,T){if(T in e)return i(y,E);if(T in n)return i(void 0,y)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(y,E,T)=>o(Ty(y),Ty(E),T,!0)};return H.forEach(Object.keys(Object.assign({},n,e)),function(E){const T=m[E]||o,b=T(n[E],e[E],E);H.isUndefined(b)&&T!==d||(t[E]=b)}),t}const Hv=n=>{const e=no({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=kn.from(c),e.url=Fv($v(e.baseURL,e.url),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(H.isFormData(t)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[y,...E]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([y||"multipart/form-data",...E].join("; "))}}if(tn.hasStandardBrowserEnv&&(i&&H.isFunction(i)&&(i=i(e)),i||i!==!1&&TA(e.url))){const y=o&&l&&IA.read(l);y&&c.set(o,y)}return e},RA=typeof XMLHttpRequest<"u",CA=RA&&function(n){return new Promise(function(t,i){const o=Hv(n);let l=o.data;const c=kn.from(o.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:y}=o,E,T,b,B,j;function q(){B&&B(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let F=new XMLHttpRequest;F.open(o.method.toUpperCase(),o.url,!0),F.timeout=o.timeout;function ue(){if(!F)return;const ie=kn.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),Re={data:!d||d==="text"||d==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:ie,config:n,request:F};Bv(function(P){t(P),q()},function(P){i(P),q()},Re),F=null}"onloadend"in F?F.onloadend=ue:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(ue)},F.onabort=function(){F&&(i(new De("Request aborted",De.ECONNABORTED,n,F)),F=null)},F.onerror=function(){i(new De("Network Error",De.ERR_NETWORK,n,F)),F=null},F.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const Re=o.transitional||Uv;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),i(new De(ce,Re.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,n,F)),F=null},l===void 0&&c.setContentType(null),"setRequestHeader"in F&&H.forEach(c.toJSON(),function(ce,Re){F.setRequestHeader(Re,ce)}),H.isUndefined(o.withCredentials)||(F.withCredentials=!!o.withCredentials),d&&d!=="json"&&(F.responseType=o.responseType),y&&([b,j]=wc(y,!0),F.addEventListener("progress",b)),m&&F.upload&&([T,B]=wc(m),F.upload.addEventListener("progress",T),F.upload.addEventListener("loadend",B)),(o.cancelToken||o.signal)&&(E=ie=>{F&&(i(!ie||ie.type?new ma(null,n,F):ie),F.abort(),F=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const ae=vA(o.url);if(ae&&tn.protocols.indexOf(ae)===-1){i(new De("Unsupported protocol "+ae+":",De.ERR_BAD_REQUEST,n));return}F.send(l||null)})},PA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,o;const l=function(y){if(!o){o=!0,d();const E=y instanceof Error?y:this.reason;i.abort(E instanceof De?E:new ma(E instanceof Error?E.message:E))}};let c=e&&setTimeout(()=>{c=null,l(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(l):y.removeEventListener("abort",l)}),n=null)};n.forEach(y=>y.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>H.asap(d),m}},kA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,o;for(;i<t;)o=i+e,yield n.slice(i,o),i=o},NA=async function*(n,e){for await(const t of xA(n))yield*kA(t,e)},xA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Iy=(n,e,t,i)=>{const o=NA(n,e);let l=0,c,d=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:y,value:E}=await o.next();if(y){d(),m.close();return}let T=E.byteLength;if(t){let b=l+=T;t(b)}m.enqueue(new Uint8Array(E))}catch(y){throw d(y),y}},cancel(m){return d(m),o.return()}},{highWaterMark:2})},Yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",qv=Yc&&typeof ReadableStream=="function",OA=Yc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Wv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},DA=qv&&Wv(()=>{let n=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Sy=64*1024,If=qv&&Wv(()=>H.isReadableStream(new Response("").body)),Tc={stream:If&&(n=>n.body)};Yc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Tc[e]&&(Tc[e]=H.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,i)})})})(new Response);const bA=async n=>{if(n==null)return 0;if(H.isBlob(n))return n.size;if(H.isSpecCompliantForm(n))return(await new Request(tn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(H.isArrayBufferView(n)||H.isArrayBuffer(n))return n.byteLength;if(H.isURLSearchParams(n)&&(n=n+""),H.isString(n))return(await OA(n)).byteLength},LA=async(n,e)=>{const t=H.toFiniteNumber(n.getContentLength());return t??bA(e)},MA=Yc&&(async n=>{let{url:e,method:t,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:y,headers:E,withCredentials:T="same-origin",fetchOptions:b}=Hv(n);y=y?(y+"").toLowerCase():"text";let B=PA([o,l&&l.toAbortSignal()],c),j;const q=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let F;try{if(m&&DA&&t!=="get"&&t!=="head"&&(F=await LA(E,i))!==0){let Re=new Request(e,{method:"POST",body:i,duplex:"half"}),we;if(H.isFormData(i)&&(we=Re.headers.get("content-type"))&&E.setContentType(we),Re.body){const[P,I]=Ey(F,wc(wy(m)));i=Iy(Re.body,Sy,P,I)}}H.isString(T)||(T=T?"include":"omit");const ue="credentials"in Request.prototype;j=new Request(e,{...b,signal:B,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:i,duplex:"half",credentials:ue?T:void 0});let ae=await fetch(j);const ie=If&&(y==="stream"||y==="response");if(If&&(d||ie&&q)){const Re={};["status","statusText","headers"].forEach(R=>{Re[R]=ae[R]});const we=H.toFiniteNumber(ae.headers.get("content-length")),[P,I]=d&&Ey(we,wc(wy(d),!0))||[];ae=new Response(Iy(ae.body,Sy,P,()=>{I&&I(),q&&q()}),Re)}y=y||"text";let ce=await Tc[H.findKey(Tc,y)||"text"](ae,n);return!ie&&q&&q(),await new Promise((Re,we)=>{Bv(Re,we,{data:ce,headers:kn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:n,request:j})})}catch(ue){throw q&&q(),ue&&ue.name==="TypeError"&&/fetch/i.test(ue.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,n,j),{cause:ue.cause||ue}):De.from(ue,ue&&ue.code,n,j)}}),Sf={http:XS,xhr:CA,fetch:MA};H.forEach(Sf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Ay=n=>`- ${n}`,VA=n=>H.isFunction(n)||n===null||n===!1,Kv={getAdapter:n=>{n=H.isArray(n)?n:[n];const{length:e}=n;let t,i;const o={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!VA(t)&&(i=Sf[(c=String(t)).toLowerCase()],i===void 0))throw new De(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(Ay).join(`
`):" "+Ay(l[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Sf};function Jd(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ma(null,n)}function Ry(n){return Jd(n),n.headers=kn.from(n.headers),n.data=Xd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Kv.getAdapter(n.adapter||xl.adapter)(n).then(function(i){return Jd(n),i.data=Xd.call(n,n.transformResponse,i),i.headers=kn.from(i.headers),i},function(i){return zv(i)||(Jd(n),i&&i.response&&(i.response.data=Xd.call(n,n.transformResponse,i.response),i.response.headers=kn.from(i.response.headers))),Promise.reject(i)})}const Gv="1.7.9",Xc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xc[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Cy={};Xc.transitional=function(e,t,i){function o(l,c){return"[Axios v"+Gv+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(e===!1)throw new De(o(c," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!Cy[c]&&(Cy[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Xc.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function FA(n,e,t){if(typeof n!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const l=i[o],c=e[l];if(c){const d=n[l],m=d===void 0||c(d,l,n);if(m!==!0)throw new De("option "+l+" must be "+m,De.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new De("Unknown option "+l,De.ERR_BAD_OPTION)}}const uc={assertOptions:FA,validators:Xc},Yr=uc.validators;let to=class{constructor(e){this.defaults=e,this.interceptors={request:new _y,response:new _y}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=no(this.defaults,t);const{transitional:i,paramsSerializer:o,headers:l}=t;i!==void 0&&uc.assertOptions(i,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),o!=null&&(H.isFunction(o)?t.paramsSerializer={serialize:o}:uc.assertOptions(o,{encode:Yr.function,serialize:Yr.function},!0)),uc.assertOptions(t,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&H.merge(l.common,l[t.method]);l&&H.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),t.headers=kn.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(t)===!1||(m=m&&q.synchronous,d.unshift(q.fulfilled,q.rejected))});const y=[];this.interceptors.response.forEach(function(q){y.push(q.fulfilled,q.rejected)});let E,T=0,b;if(!m){const j=[Ry.bind(this),void 0];for(j.unshift.apply(j,d),j.push.apply(j,y),b=j.length,E=Promise.resolve(t);T<b;)E=E.then(j[T++],j[T++]);return E}b=d.length;let B=t;for(T=0;T<b;){const j=d[T++],q=d[T++];try{B=j(B)}catch(F){q.call(this,F);break}}try{E=Ry.call(this,B)}catch(j){return Promise.reject(j)}for(T=0,b=y.length;T<b;)E=E.then(y[T++],y[T++]);return E}getUri(e){e=no(this.defaults,e);const t=$v(e.baseURL,e.url);return Fv(t,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){to.prototype[e]=function(t,i){return this.request(no(i||{},{method:e,url:t,data:(i||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,d){return this.request(no(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}to.prototype[e]=t(),to.prototype[e+"Form"]=t(!0)});let UA=class Qv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,d){i.reason||(i.reason=new ma(l,c,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Qv(function(o){e=o}),cancel:e}}};function jA(n){return function(t){return n.apply(null,t)}}function zA(n){return H.isObject(n)&&n.isAxiosError===!0}const Af={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Af).forEach(([n,e])=>{Af[e]=n});function Yv(n){const e=new to(n),t=Rv(to.prototype.request,e);return H.extend(t,to.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Yv(no(n,o))},t}const gt=Yv(xl);gt.Axios=to;gt.CanceledError=ma;gt.CancelToken=UA;gt.isCancel=zv;gt.VERSION=Gv;gt.toFormData=Qc;gt.AxiosError=De;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=jA;gt.isAxiosError=zA;gt.mergeConfig=no;gt.AxiosHeaders=kn;gt.formToJSON=n=>jv(H.isHTMLForm(n)?new FormData(n):n);gt.getAdapter=Kv.getAdapter;gt.HttpStatusCode=Af;gt.default=gt;const{Axios:mD,AxiosError:gD,CanceledError:yD,isCancel:_D,CancelToken:vD,VERSION:ED,all:wD,Cancel:TD,isAxiosError:ID,spread:SD,toFormData:AD,AxiosHeaders:RD,HttpStatusCode:CD,formToJSON:PD,getAdapter:kD,mergeConfig:ND}=gt;/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Xv,setPrototypeOf:Py,isFrozen:BA,getPrototypeOf:$A,getOwnPropertyDescriptor:HA}=Object;let{freeze:dn,seal:pr,create:Jv}=Object,{apply:Rf,construct:Cf}=typeof Reflect<"u"&&Reflect;dn||(dn=function(e){return e});pr||(pr=function(e){return e});Rf||(Rf=function(e,t,i){return e.apply(t,i)});Cf||(Cf=function(e,t){return new e(...t)});const Ju=fn(Array.prototype.forEach),qA=fn(Array.prototype.lastIndexOf),ky=fn(Array.prototype.pop),nl=fn(Array.prototype.push),WA=fn(Array.prototype.splice),cc=fn(String.prototype.toLowerCase),Zd=fn(String.prototype.toString),Ny=fn(String.prototype.match),rl=fn(String.prototype.replace),KA=fn(String.prototype.indexOf),GA=fn(String.prototype.trim),kr=fn(Object.prototype.hasOwnProperty),hn=fn(RegExp.prototype.test),il=QA(TypeError);function fn(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return Rf(n,e,i)}}function QA(n){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Cf(n,t)}}function Fe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cc;Py&&Py(n,null);let i=e.length;for(;i--;){let o=e[i];if(typeof o=="string"){const l=t(o);l!==o&&(BA(e)||(e[i]=l),o=l)}n[o]=!0}return n}function YA(n){for(let e=0;e<n.length;e++)kr(n,e)||(n[e]=null);return n}function Ys(n){const e=Jv(null);for(const[t,i]of Xv(n))kr(n,t)&&(Array.isArray(i)?e[t]=YA(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Ys(i):e[t]=i);return e}function sl(n,e){for(;n!==null;){const i=HA(n,e);if(i){if(i.get)return fn(i.get);if(typeof i.value=="function")return fn(i.value)}n=$A(n)}function t(){return null}return t}const xy=dn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ef=dn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tf=dn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XA=dn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),nf=dn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),JA=dn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Oy=dn(["#text"]),Dy=dn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),rf=dn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),by=dn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zu=dn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ZA=pr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),e0=pr(/<%[\w\W]*|[\w\W]*%>/gm),t0=pr(/\$\{[\w\W]*/gm),n0=pr(/^data-[\-\w.\u00B7-\uFFFF]+$/),r0=pr(/^aria-[\-\w]+$/),Zv=pr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),i0=pr(/^(?:\w+script|data):/i),s0=pr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),eE=pr(/^html$/i),o0=pr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ly=Object.freeze({__proto__:null,ARIA_ATTR:r0,ATTR_WHITESPACE:s0,CUSTOM_ELEMENT:o0,DATA_ATTR:n0,DOCTYPE_NAME:eE,ERB_EXPR:e0,IS_ALLOWED_URI:Zv,IS_SCRIPT_OR_DATA:i0,MUSTACHE_EXPR:ZA,TMPLIT_EXPR:t0});const ol={element:1,text:3,progressingInstruction:7,comment:8,document:9},a0=function(){return typeof window>"u"?null:window},l0=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));const l="dompurify"+(i?"#"+i:"");try{return e.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},My=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function tE(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a0();const e=ge=>tE(ge);if(e.version="3.2.4",e.removed=[],!n||!n.document||n.document.nodeType!==ol.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const i=t,o=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:d,Element:m,NodeFilter:y,NamedNodeMap:E=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:T,DOMParser:b,trustedTypes:B}=n,j=m.prototype,q=sl(j,"cloneNode"),F=sl(j,"remove"),ue=sl(j,"nextSibling"),ae=sl(j,"childNodes"),ie=sl(j,"parentNode");if(typeof c=="function"){const ge=t.createElement("template");ge.content&&ge.content.ownerDocument&&(t=ge.content.ownerDocument)}let ce,Re="";const{implementation:we,createNodeIterator:P,createDocumentFragment:I,getElementsByTagName:R}=t,{importNode:k}=i;let N=My();e.isSupported=typeof Xv=="function"&&typeof ie=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:L,ERB_EXPR:A,TMPLIT_EXPR:Ze,DATA_ATTR:Pe,ARIA_ATTR:Me,IS_SCRIPT_OR_DATA:Ve,ATTR_WHITESPACE:te,CUSTOM_ELEMENT:ve}=Ly;let{IS_ALLOWED_URI:se}=Ly,D=null;const W=Fe({},[...xy,...ef,...tf,...nf,...Oy]);let re=null;const Oe=Fe({},[...Dy,...rf,...by,...Zu]);let ye=Object.seal(Jv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,ze=null,He=!0,Qe=!0,yt=!1,zn=!0,xn=!1,Bn=!0,sn=!1,Mr=!1,ii=!1,$n=!1,si=!1,mr=!1,Hn=!0,qn=!1;const Cs="user-content-";let Vr=!0,Wn=!1,Kn={},nt=null;const pt=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Gn=null;const Mi=Fe({},["audio","video","img","source","image","track"]);let Qn=null;const Fr=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yn="http://www.w3.org/1998/Math/MathML",Ur="http://www.w3.org/2000/svg",on="http://www.w3.org/1999/xhtml";let Xn=on,oi=!1,ai=null;const li=Fe({},[Yn,Ur,on],Zd);let gr=Fe({},["mi","mo","mn","ms","mtext"]),yr=Fe({},["annotation-xml"]);const pn=Fe({},["title","style","font","a","script"]);let Wt=null;const Vi=["application/xhtml+xml","text/html"],Jn="text/html";let at=null,mn=null;const Ps=t.createElement("form"),Zn=function(x){return x instanceof RegExp||x instanceof Function},ui=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(mn&&mn===x)){if((!x||typeof x!="object")&&(x={}),x=Ys(x),Wt=Vi.indexOf(x.PARSER_MEDIA_TYPE)===-1?Jn:x.PARSER_MEDIA_TYPE,at=Wt==="application/xhtml+xml"?Zd:cc,D=kr(x,"ALLOWED_TAGS")?Fe({},x.ALLOWED_TAGS,at):W,re=kr(x,"ALLOWED_ATTR")?Fe({},x.ALLOWED_ATTR,at):Oe,ai=kr(x,"ALLOWED_NAMESPACES")?Fe({},x.ALLOWED_NAMESPACES,Zd):li,Qn=kr(x,"ADD_URI_SAFE_ATTR")?Fe(Ys(Fr),x.ADD_URI_SAFE_ATTR,at):Fr,Gn=kr(x,"ADD_DATA_URI_TAGS")?Fe(Ys(Mi),x.ADD_DATA_URI_TAGS,at):Mi,nt=kr(x,"FORBID_CONTENTS")?Fe({},x.FORBID_CONTENTS,at):pt,be=kr(x,"FORBID_TAGS")?Fe({},x.FORBID_TAGS,at):{},ze=kr(x,"FORBID_ATTR")?Fe({},x.FORBID_ATTR,at):{},Kn=kr(x,"USE_PROFILES")?x.USE_PROFILES:!1,He=x.ALLOW_ARIA_ATTR!==!1,Qe=x.ALLOW_DATA_ATTR!==!1,yt=x.ALLOW_UNKNOWN_PROTOCOLS||!1,zn=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xn=x.SAFE_FOR_TEMPLATES||!1,Bn=x.SAFE_FOR_XML!==!1,sn=x.WHOLE_DOCUMENT||!1,$n=x.RETURN_DOM||!1,si=x.RETURN_DOM_FRAGMENT||!1,mr=x.RETURN_TRUSTED_TYPE||!1,ii=x.FORCE_BODY||!1,Hn=x.SANITIZE_DOM!==!1,qn=x.SANITIZE_NAMED_PROPS||!1,Vr=x.KEEP_CONTENT!==!1,Wn=x.IN_PLACE||!1,se=x.ALLOWED_URI_REGEXP||Zv,Xn=x.NAMESPACE||on,gr=x.MATHML_TEXT_INTEGRATION_POINTS||gr,yr=x.HTML_INTEGRATION_POINTS||yr,ye=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&Zn(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ye.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&Zn(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ye.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ye.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xn&&(Qe=!1),si&&($n=!0),Kn&&(D=Fe({},Oy),re=[],Kn.html===!0&&(Fe(D,xy),Fe(re,Dy)),Kn.svg===!0&&(Fe(D,ef),Fe(re,rf),Fe(re,Zu)),Kn.svgFilters===!0&&(Fe(D,tf),Fe(re,rf),Fe(re,Zu)),Kn.mathMl===!0&&(Fe(D,nf),Fe(re,by),Fe(re,Zu))),x.ADD_TAGS&&(D===W&&(D=Ys(D)),Fe(D,x.ADD_TAGS,at)),x.ADD_ATTR&&(re===Oe&&(re=Ys(re)),Fe(re,x.ADD_ATTR,at)),x.ADD_URI_SAFE_ATTR&&Fe(Qn,x.ADD_URI_SAFE_ATTR,at),x.FORBID_CONTENTS&&(nt===pt&&(nt=Ys(nt)),Fe(nt,x.FORBID_CONTENTS,at)),Vr&&(D["#text"]=!0),sn&&Fe(D,["html","head","body"]),D.table&&(Fe(D,["tbody"]),delete be.tbody),x.TRUSTED_TYPES_POLICY){if(typeof x.TRUSTED_TYPES_POLICY.createHTML!="function")throw il('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof x.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw il('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ce=x.TRUSTED_TYPES_POLICY,Re=ce.createHTML("")}else ce===void 0&&(ce=l0(B,o)),ce!==null&&typeof Re=="string"&&(Re=ce.createHTML(""));dn&&dn(x),mn=x}},lt=Fe({},[...ef,...tf,...XA]),ci=Fe({},[...nf,...JA]),On=function(x){let J=ie(x);(!J||!J.tagName)&&(J={namespaceURI:Xn,tagName:"template"});const he=cc(x.tagName),Xe=cc(J.tagName);return ai[x.namespaceURI]?x.namespaceURI===Ur?J.namespaceURI===on?he==="svg":J.namespaceURI===Yn?he==="svg"&&(Xe==="annotation-xml"||gr[Xe]):!!lt[he]:x.namespaceURI===Yn?J.namespaceURI===on?he==="math":J.namespaceURI===Ur?he==="math"&&yr[Xe]:!!ci[he]:x.namespaceURI===on?J.namespaceURI===Ur&&!yr[Xe]||J.namespaceURI===Yn&&!gr[Xe]?!1:!ci[he]&&(pn[he]||!lt[he]):!!(Wt==="application/xhtml+xml"&&ai[x.namespaceURI]):!1},Ot=function(x){nl(e.removed,{element:x});try{ie(x).removeChild(x)}catch{F(x)}},er=function(x,J){try{nl(e.removed,{attribute:J.getAttributeNode(x),from:J})}catch{nl(e.removed,{attribute:null,from:J})}if(J.removeAttribute(x),x==="is")if($n||si)try{Ot(J)}catch{}else try{J.setAttribute(x,"")}catch{}},hi=function(x){let J=null,he=null;if(ii)x="<remove></remove>"+x;else{const Ne=Ny(x,/^[\r\n\t ]+/);he=Ne&&Ne[0]}Wt==="application/xhtml+xml"&&Xn===on&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");const Xe=ce?ce.createHTML(x):x;if(Xn===on)try{J=new b().parseFromString(Xe,Wt)}catch{}if(!J||!J.documentElement){J=we.createDocument(Xn,"template",null);try{J.documentElement.innerHTML=oi?Re:Xe}catch{}}const Et=J.body||J.documentElement;return x&&he&&Et.insertBefore(t.createTextNode(he),Et.childNodes[0]||null),Xn===on?R.call(J,sn?"html":"body")[0]:sn?J.documentElement:Et},gn=function(x){return P.call(x.ownerDocument||x,x,y.SHOW_ELEMENT|y.SHOW_COMMENT|y.SHOW_TEXT|y.SHOW_PROCESSING_INSTRUCTION|y.SHOW_CDATA_SECTION,null)},di=function(x){return x instanceof T&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof E)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},yo=function(x){return typeof d=="function"&&x instanceof d};function Kt(ge,x,J){Ju(ge,he=>{he.call(e,x,J,mn)})}const ks=function(x){let J=null;if(Kt(N.beforeSanitizeElements,x,null),di(x))return Ot(x),!0;const he=at(x.nodeName);if(Kt(N.uponSanitizeElement,x,{tagName:he,allowedTags:D}),x.hasChildNodes()&&!yo(x.firstElementChild)&&hn(/<[/\w]/g,x.innerHTML)&&hn(/<[/\w]/g,x.textContent)||x.nodeType===ol.progressingInstruction||Bn&&x.nodeType===ol.comment&&hn(/<[/\w]/g,x.data))return Ot(x),!0;if(!D[he]||be[he]){if(!be[he]&&jr(he)&&(ye.tagNameCheck instanceof RegExp&&hn(ye.tagNameCheck,he)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(he)))return!1;if(Vr&&!nt[he]){const Xe=ie(x)||x.parentNode,Et=ae(x)||x.childNodes;if(Et&&Xe){const Ne=Et.length;for(let At=Ne-1;At>=0;--At){const Dt=q(Et[At],!0);Dt.__removalCount=(x.__removalCount||0)+1,Xe.insertBefore(Dt,ue(x))}}}return Ot(x),!0}return x instanceof m&&!On(x)||(he==="noscript"||he==="noembed"||he==="noframes")&&hn(/<\/no(script|embed|frames)/i,x.innerHTML)?(Ot(x),!0):(xn&&x.nodeType===ol.text&&(J=x.textContent,Ju([L,A,Ze],Xe=>{J=rl(J,Xe," ")}),x.textContent!==J&&(nl(e.removed,{element:x.cloneNode()}),x.textContent=J)),Kt(N.afterSanitizeElements,x,null),!1)},yn=function(x,J,he){if(Hn&&(J==="id"||J==="name")&&(he in t||he in Ps))return!1;if(!(Qe&&!ze[J]&&hn(Pe,J))){if(!(He&&hn(Me,J))){if(!re[J]||ze[J]){if(!(jr(x)&&(ye.tagNameCheck instanceof RegExp&&hn(ye.tagNameCheck,x)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(x))&&(ye.attributeNameCheck instanceof RegExp&&hn(ye.attributeNameCheck,J)||ye.attributeNameCheck instanceof Function&&ye.attributeNameCheck(J))||J==="is"&&ye.allowCustomizedBuiltInElements&&(ye.tagNameCheck instanceof RegExp&&hn(ye.tagNameCheck,he)||ye.tagNameCheck instanceof Function&&ye.tagNameCheck(he))))return!1}else if(!Qn[J]){if(!hn(se,rl(he,te,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&x!=="script"&&KA(he,"data:")===0&&Gn[x])){if(!(yt&&!hn(Ve,rl(he,te,"")))){if(he)return!1}}}}}}return!0},jr=function(x){return x!=="annotation-xml"&&Ny(x,ve)},_n=function(x){Kt(N.beforeSanitizeAttributes,x,null);const{attributes:J}=x;if(!J||di(x))return;const he={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0};let Xe=J.length;for(;Xe--;){const Et=J[Xe],{name:Ne,namespaceURI:At,value:Dt}=Et,vn=at(Ne);let et=Ne==="value"?Dt:GA(Dt);if(he.attrName=vn,he.attrValue=et,he.keepAttr=!0,he.forceKeepAttr=void 0,Kt(N.uponSanitizeAttribute,x,he),et=he.attrValue,qn&&(vn==="id"||vn==="name")&&(er(Ne,x),et=Cs+et),Bn&&hn(/((--!?|])>)|<\/(style|title)/i,et)){er(Ne,x);continue}if(he.forceKeepAttr||(er(Ne,x),!he.keepAttr))continue;if(!zn&&hn(/\/>/i,et)){er(Ne,x);continue}xn&&Ju([L,A,Ze],Ns=>{et=rl(et,Ns," ")});const Fi=at(x.nodeName);if(yn(Fi,vn,et)){if(ce&&typeof B=="object"&&typeof B.getAttributeType=="function"&&!At)switch(B.getAttributeType(Fi,vn)){case"TrustedHTML":{et=ce.createHTML(et);break}case"TrustedScriptURL":{et=ce.createScriptURL(et);break}}try{At?x.setAttributeNS(At,Ne,et):x.setAttribute(Ne,et),di(x)?Ot(x):ky(e.removed)}catch{}}}Kt(N.afterSanitizeAttributes,x,null)},_o=function ge(x){let J=null;const he=gn(x);for(Kt(N.beforeSanitizeShadowDOM,x,null);J=he.nextNode();)Kt(N.uponSanitizeShadowNode,J,null),ks(J),_n(J),J.content instanceof l&&ge(J.content);Kt(N.afterSanitizeShadowDOM,x,null)};return e.sanitize=function(ge){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,he=null,Xe=null,Et=null;if(oi=!ge,oi&&(ge="<!-->"),typeof ge!="string"&&!yo(ge))if(typeof ge.toString=="function"){if(ge=ge.toString(),typeof ge!="string")throw il("dirty is not a string, aborting")}else throw il("toString is not a function");if(!e.isSupported)return ge;if(Mr||ui(x),e.removed=[],typeof ge=="string"&&(Wn=!1),Wn){if(ge.nodeName){const Dt=at(ge.nodeName);if(!D[Dt]||be[Dt])throw il("root node is forbidden and cannot be sanitized in-place")}}else if(ge instanceof d)J=hi("<!---->"),he=J.ownerDocument.importNode(ge,!0),he.nodeType===ol.element&&he.nodeName==="BODY"||he.nodeName==="HTML"?J=he:J.appendChild(he);else{if(!$n&&!xn&&!sn&&ge.indexOf("<")===-1)return ce&&mr?ce.createHTML(ge):ge;if(J=hi(ge),!J)return $n?null:mr?Re:""}J&&ii&&Ot(J.firstChild);const Ne=gn(Wn?ge:J);for(;Xe=Ne.nextNode();)ks(Xe),_n(Xe),Xe.content instanceof l&&_o(Xe.content);if(Wn)return ge;if($n){if(si)for(Et=I.call(J.ownerDocument);J.firstChild;)Et.appendChild(J.firstChild);else Et=J;return(re.shadowroot||re.shadowrootmode)&&(Et=k.call(i,Et,!0)),Et}let At=sn?J.outerHTML:J.innerHTML;return sn&&D["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&hn(eE,J.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+At),xn&&Ju([L,A,Ze],Dt=>{At=rl(At,Dt," ")}),ce&&mr?ce.createHTML(At):At},e.setConfig=function(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ui(ge),Mr=!0},e.clearConfig=function(){mn=null,Mr=!1},e.isValidAttribute=function(ge,x,J){mn||ui({});const he=at(ge),Xe=at(x);return yn(he,Xe,J)},e.addHook=function(ge,x){typeof x=="function"&&nl(N[ge],x)},e.removeHook=function(ge,x){if(x!==void 0){const J=qA(N[ge],x);return J===-1?void 0:WA(N[ge],J,1)[0]}return ky(N[ge])},e.removeHooks=function(ge){N[ge]=[]},e.removeAllHooks=function(){N=My()},e}var u0=tE(),nE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vy=fs.createContext&&fs.createContext(nE),c0=["attr","size","title"];function h0(n,e){if(n==null)return{};var t=d0(n,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function d0(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ic(){return Ic=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ic.apply(this,arguments)}function Fy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Sc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fy(Object(t),!0).forEach(function(i){f0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f0(n,e,t){return e=p0(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p0(n){var e=m0(n,"string");return typeof e=="symbol"?e:e+""}function m0(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rE(n){return n&&n.map((e,t)=>fs.createElement(e.tag,Sc({key:t},e.attr),rE(e.child)))}function Li(n){return e=>fs.createElement(g0,Ic({attr:Sc({},n.attr)},e),rE(n.child))}function g0(n){var e=t=>{var{attr:i,size:o,title:l}=n,c=h0(n,c0),d=o||t.size||"1em",m;return t.className&&(m=t.className),n.className&&(m=(m?m+" ":"")+n.className),fs.createElement("svg",Ic({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:m,style:Sc(Sc({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&fs.createElement("title",null,l),n.children)};return Vy!==void 0?fs.createElement(Vy.Consumer,null,t=>e(t)):e(nE)}function y0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(n)}function _0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(n)}function v0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(n)}function E0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(n)}function w0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(n)}function T0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"},child:[]}]})(n)}function Uy(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(n)}function I0(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(n)}function sf(n){return Li({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(n)}var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},S0=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],d=n[t++],m=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,d=c?n[o+1]:0,m=o+2<n.length,y=m?n[o+2]:0,E=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|y>>6,B=y&63;m||(B=64,c||(b=64)),i.push(t[E],t[T],t[b],t[B])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):S0(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new A0;const b=l<<2|d>>4;if(i.push(b),y!==64){const B=d<<4&240|y>>2;if(i.push(B),T!==64){const j=y<<6&192|T;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class A0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R0=function(n){const e=iE(n);return sE.encodeByteArray(e,!0)},Ac=function(n){return R0(n).replace(/\./g,"")},oE=function(n){try{return sE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=()=>C0().__FIREBASE_DEFAULTS__,k0=()=>{if(typeof process>"u"||typeof jy>"u")return;const n=jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},N0=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&oE(n[1]);return e&&JSON.parse(e)},Jc=()=>{try{return P0()||k0()||N0()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aE=n=>{var e,t;return(t=(e=Jc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},x0=n=>{const e=aE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},lE=()=>{var n;return(n=Jc())===null||n===void 0?void 0:n.config},uE=n=>{var e;return(e=Jc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ac(JSON.stringify(t)),Ac(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function L0(){var n;const e=(n=Jc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function V0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F0(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function U0(){return!L0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hE(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function j0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="FirebaseError";class Lr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=z0,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?B0(l,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Lr(o,d,i)}}function B0(n,e){return n.replace($0,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const $0=/\{\$([^}]+)}/g;function H0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Rc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(zy(l)&&zy(c)){if(!Rc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function zy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function ll(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function q0(n,e){const t=new W0(n,e);return t.subscribe.bind(t)}class W0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");K0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=of),o.error===void 0&&(o.error=of),o.complete===void 0&&(o.complete=of);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function K0(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=1e3,Q0=2,Y0=4*60*60*1e3,X0=.5;function By(n,e=G0,t=Q0){const i=e*Math.pow(t,n),o=Math.round(X0*i*(Math.random()-.5)*2);return Math.min(Y0,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class xr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new O0;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Z0(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z0(n){return n===Xs?void 0:n}function eR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new J0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const nR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},rR=Ue.INFO,iR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},sR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=iR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zc{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const oR=(n,e)=>e.some(t=>n instanceof t);let $y,Hy;function aR(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,Pf=new WeakMap,pE=new WeakMap,af=new WeakMap,ip=new WeakMap;function uR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ps(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&fE.set(t,n)}).catch(()=>{}),ip.set(e,n),e}function cR(n){if(Pf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Pf.set(n,e)}let kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function hR(n){kf=n(kf)}function dR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(lf(this),e,...t);return pE.set(i,e.sort?e.sort():[e]),ps(i)}:lR().includes(n)?function(...e){return n.apply(lf(this),e),ps(fE.get(this))}:function(...e){return ps(n.apply(lf(this),e))}}function fR(n){return typeof n=="function"?dR(n):(n instanceof IDBTransaction&&cR(n),oR(n,aR())?new Proxy(n,kf):n)}function ps(n){if(n instanceof IDBRequest)return uR(n);if(af.has(n))return af.get(n);const e=fR(n);return e!==n&&(af.set(n,e),ip.set(e,n)),e}const lf=n=>ip.get(n);function mE(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),d=ps(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ps(c.result),m.oldVersion,m.newVersion,ps(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const pR=["get","getKey","getAll","getAllKeys","count"],mR=["put","add","delete","clear"],uf=new Map;function qy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=mR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||pR.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,o?"readwrite":"readonly");let y=m.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&m.done]))[0]};return uf.set(e,l),l}hR(n=>({...n,get:(e,t,i)=>qy(e,t)||n.get(e,t,i),has:(e,t)=>!!qy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function yR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nf="@firebase/app",Wy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Zc("@firebase/app"),_R="@firebase/app-compat",vR="@firebase/analytics-compat",ER="@firebase/analytics",wR="@firebase/app-check-compat",TR="@firebase/app-check",IR="@firebase/auth",SR="@firebase/auth-compat",AR="@firebase/database",RR="@firebase/data-connect",CR="@firebase/database-compat",PR="@firebase/functions",kR="@firebase/functions-compat",NR="@firebase/installations",xR="@firebase/installations-compat",OR="@firebase/messaging",DR="@firebase/messaging-compat",bR="@firebase/performance",LR="@firebase/performance-compat",MR="@firebase/remote-config",VR="@firebase/remote-config-compat",FR="@firebase/storage",UR="@firebase/storage-compat",jR="@firebase/firestore",zR="@firebase/vertexai",BR="@firebase/firestore-compat",$R="firebase",HR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",qR={[Nf]:"fire-core",[_R]:"fire-core-compat",[ER]:"fire-analytics",[vR]:"fire-analytics-compat",[TR]:"fire-app-check",[wR]:"fire-app-check-compat",[IR]:"fire-auth",[SR]:"fire-auth-compat",[AR]:"fire-rtdb",[RR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[PR]:"fire-fn",[kR]:"fire-fn-compat",[NR]:"fire-iid",[xR]:"fire-iid-compat",[OR]:"fire-fcm",[DR]:"fire-fcm-compat",[bR]:"fire-perf",[LR]:"fire-perf-compat",[MR]:"fire-rc",[VR]:"fire-rc-compat",[FR]:"fire-gcs",[UR]:"fire-gcs-compat",[jR]:"fire-fst",[BR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,WR=new Map,Of=new Map;function Ky(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ni(n){const e=n.name;if(Of.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,n);for(const t of Cc.values())Ky(t,n);for(const t of WR.values())Ky(t,n);return!0}function Dl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ur(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new uo("app","Firebase",KR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=HR;function gE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(t||(t=lE()),!t)throw ms.create("no-options");const l=Cc.get(o);if(l){if(Rc(t,l.options)&&Rc(i,l.config))return l;throw ms.create("duplicate-app",{appName:o})}const c=new tR(o);for(const m of Of.values())c.addComponent(m);const d=new GR(t,i,c);return Cc.set(o,d),d}function yE(n=xf){const e=Cc.get(n);if(!e&&n===xf&&lE())return gE();if(!e)throw ms.create("no-app",{appName:n});return e}function hr(n,e,t){var i;let o=(i=qR[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(d.join(" "));return}ni(new xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebase-heartbeat-database",YR=1,vl="firebase-heartbeat-store";let cf=null;function _E(){return cf||(cf=mE(QR,YR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ms.create("idb-open",{originalErrorMessage:n.message})})),cf}async function XR(n){try{const t=(await _E()).transaction(vl),i=await t.objectStore(vl).get(vE(n));return await t.done,i}catch(e){if(e instanceof Lr)xi.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(t.message)}}}async function Gy(n,e){try{const i=(await _E()).transaction(vl,"readwrite");await i.objectStore(vl).put(e,vE(n)),await i.done}catch(t){if(t instanceof Lr)xi.warn(t.message);else{const i=ms.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}function vE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,ZR=30;class eC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new nC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Qy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>ZR){const c=rC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qy(),{heartbeatsToSend:i,unsentEntries:o}=tC(this._heartbeatsCache.heartbeats),l=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return xi.warn(t),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function tC(n,e=JR){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Yy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class nC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hE()?dE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yy(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}function rC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n){ni(new xr("platform-logger",e=>new gR(e),"PRIVATE")),ni(new xr("heartbeat",e=>new eC(e),"PRIVATE")),hr(Nf,Wy,n),hr(Nf,Wy,"esm2017"),hr("fire-js","")}iC("");var sC="firebase",oC="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(sC,oC,"app");function sp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function EE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=EE,wE=new uo("auth","Firebase",EE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Zc("@firebase/auth");function lC(n,...e){Pc.logLevel<=Ue.WARN&&Pc.warn(`Auth (${ga}): ${n}`,...e)}function hc(n,...e){Pc.logLevel<=Ue.ERROR&&Pc.error(`Auth (${ga}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(n,...e){throw op(n,...e)}function Jr(n,...e){return op(n,...e)}function TE(n,e,t){const i=Object.assign(Object.assign({},aC()),{[e]:t});return new uo("auth","Firebase",i).create(e,{appName:n.name})}function ki(n){return TE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return wE.create(n,...e)}function Se(n,e,...t){if(!n)throw op(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hc(e),new Error(e)}function Oi(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uC(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uC()||cE()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=b0()||V0()}get(){return cC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new bl(3e4,6e4);function As(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Rs(n,e,t,i,o={}){return SE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ol(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:m},l);return M0()||(y.referrerPolicy="no-referrer"),IE.fetch()(AE(n,n.config.apiHost,t,d),y)})}async function SE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},dC),e);try{const o=new mC(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ec(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ec(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw ec(n,"user-disabled",c);const E=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw TE(n,E,y);Or(n,E)}}catch(o){if(o instanceof Lr)throw o;Or(n,"network-request-failed",{message:String(o)})}}async function Ll(n,e,t,i,o={}){const l=await Rs(n,e,t,i,o);return"mfaPendingCredential"in l&&Or(n,"multi-factor-auth-required",{_serverResponse:l}),l}function AE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?ap(n.config,o):`${n.config.apiScheme}://${o}`}function pC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jr(this.auth,"network-request-failed")),fC.get())})}}function ec(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jr(n,e,i);return o.customData._tokenResponse=t,o}function Jy(n){return n!==void 0&&n.enterprise!==void 0}class gC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return pC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yC(n,e){return Rs(n,"GET","/v2/recaptchaConfig",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(n,e){return Rs(n,"POST","/v1/accounts:delete",e)}async function RE(n,e){return Rs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(n,e=!1){const t=rn(n),i=await t.getIdToken(e),o=lp(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:dl(hf(o.auth_time)),issuedAtTime:dl(hf(o.iat)),expirationTime:dl(hf(o.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function hf(n){return Number(n)*1e3}function lp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oE(t);return o?JSON.parse(o):(hc("Failed to decode base64 JWT payload"),null)}catch(o){return hc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Zy(n){const e=lp(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Lr&&EC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function EC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await El(n,RE(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?CE(l.providerUserInfo):[],d=IC(n.providerData,c),m=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),E=m?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bf(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(n,T)}async function TC(n){const e=rn(n);await kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function CE(n){return n.map(e=>{var{providerId:t}=e,i=sp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e){const t=await SE(n,{},async()=>{const i=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=AE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",IE.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AC(n,e){return Rs(n,"POST","/v2/accounts:revokeToken",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Zy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await SC(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new ra;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await El(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vC(this,e)}reload(){return TC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await El(this,_C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,c,d,m,y,E;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,B=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,j=(c=t.photoURL)!==null&&c!==void 0?c:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,F=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,ue=(y=t.createdAt)!==null&&y!==void 0?y:void 0,ae=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:ce,isAnonymous:Re,providerData:we,stsTokenManager:P}=t;Se(ie&&P,e,"internal-error");const I=ra.fromJSON(this.name,P);Se(typeof ie=="string",e,"internal-error"),as(T,e.name),as(b,e.name),Se(typeof ce=="boolean",e,"internal-error"),Se(typeof Re=="boolean",e,"internal-error"),as(B,e.name),as(j,e.name),as(q,e.name),as(F,e.name),as(ue,e.name),as(ae,e.name);const R=new Ci({uid:ie,auth:e,email:b,emailVerified:ce,displayName:T,isAnonymous:Re,photoURL:j,phoneNumber:B,tenantId:q,stsTokenManager:I,createdAt:ue,lastLoginAt:ae});return we&&Array.isArray(we)&&(R.providerData=we.map(k=>Object.assign({},k))),F&&(R._redirectEventId=F),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new ra;o.updateFromServerResponse(t);const l=new Ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await kc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?CE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new ra;d.updateFromIdToken(i);const m=new Ci({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new bf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function Pi(n){Oi(n instanceof Function,"Expected a class definition");let e=e_.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,e_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}PE.type="NONE";const t_=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n,e,t){return`firebase:${n}:${e}:${t}`}class ia{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=dc(this.userKey,o.apiKey,l),this.fullPersistenceKey=dc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ia(Pi(t_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Pi(t_);const c=dc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const E=await y._get(c);if(E){const T=Ci._fromJSON(e,E);y!==l&&(d=T),l=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new ia(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new ia(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bE(e))return"Blackberry";if(LE(e))return"Webos";if(NE(e))return"Safari";if((e.includes("chrome/")||xE(e))&&!e.includes("edge/"))return"Chrome";if(DE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function kE(n=nn()){return/firefox\//i.test(n)}function NE(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xE(n=nn()){return/crios\//i.test(n)}function OE(n=nn()){return/iemobile/i.test(n)}function DE(n=nn()){return/android/i.test(n)}function bE(n=nn()){return/blackberry/i.test(n)}function LE(n=nn()){return/webos/i.test(n)}function up(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RC(n=nn()){var e;return up(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CC(){return F0()&&document.documentMode===10}function ME(n=nn()){return up(n)||DE(n)||LE(n)||bE(n)||/windows phone/i.test(n)||OE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,e=[]){let t;switch(n){case"Browser":t=n_(nn());break;case"Worker":t=`${n_(nn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ga}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(n,e={}){return Rs(n,"GET","/v2/passwordPolicy",As(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=6;class xC{constructor(e){var t,i,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:NC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RE(this,{idToken:e}),i=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ur(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ki(this));const t=e?rn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kC(this),t=new xC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await AC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,o);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function co(n){return rn(n)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=q0(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DC(n){eh=n}function FE(n){return eh.loadJS(n)}function bC(){return eh.recaptchaEnterpriseScript}function LC(){return eh.gapiScript}function MC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class VC{constructor(){this.enterprise=new FC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const UC="recaptcha-enterprise",UE="NO_RECAPTCHA";class jC{constructor(e){this.type=UC,this.auth=co(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{yC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new gC(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(m=>{d(m)})})}function o(l,c,d){const m=window.grecaptcha;Jy(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(UE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Jy(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bC();m.length!==0&&(m+=d),FE(m).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function i_(n,e,t,i=!1,o=!1){const l=new jC(n);let c;if(o)c=UE;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Lf(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await i_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await i_(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n,e){const t=Dl(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Rc(l,e??{}))return o;Or(o,"already-initialized")}return t.initialize({options:e})}function BC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $C(n,e,t){const i=co(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=jE(e),{host:c,port:d}=HC(e),m=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),qC()}function jE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HC(n){const e=jE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:s_(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:s_(c)}}}function s_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function WC(n,e){return Rs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(n,e){return Ll(n,"POST","/v1/accounts:signInWithPassword",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(n,e){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}async function QC(n,e){return Ll(n,"POST","/v1/accounts:signInWithEmailLink",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends cp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new wl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new wl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lf(e,t,"signInWithPassword",KC);case"emailLink":return GC(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lf(e,i,"signUpPassword",WC);case"emailLink":return QC(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n,e){return Ll(n,"POST","/v1/accounts:signInWithIdp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="http://localhost";class ro extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=sp(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new ro(i,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return sa(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,sa(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}buildRequest(){const e={requestUri:YC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ol(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JC(n){const e=al(ll(n)).link,t=e?al(ll(e)).deep_link_id:null,i=al(ll(n)).deep_link_id;return(i?al(ll(i)).link:null)||i||t||e||n}class hp{constructor(e){var t,i,o,l,c,d;const m=al(ll(e)),y=(t=m.apiKey)!==null&&t!==void 0?t:null,E=(i=m.oobCode)!==null&&i!==void 0?i:null,T=XC((o=m.mode)!==null&&o!==void 0?o:null);Se(y&&E&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=E,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=JC(e);try{return new hp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return wl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=hp.parseLink(t);return Se(i,"argument-error"),wl._fromEmailAndCode(e,i.code,i.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends zE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ml{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return us.credential(t,i)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ml{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Ml{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return hs.credential(t,i)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(n,e){return Ll(n,"POST","/v1/accounts:signUp",As(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Ci._fromIdTokenResponse(e,i,o),c=o_(i);return new io({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=o_(i);return new io({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function o_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends Lr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Nc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Nc(e,t,i,o)}}function BE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nc._fromErrorAndOperation(n,l,e,i):l})}async function eP(n,e,t=!1){const i=await El(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return io._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,e,t=!1){const{auth:i}=n;if(ur(i.app))return Promise.reject(ki(i));const o="reauthenticate";try{const l=await El(n,BE(i,o,e,n),t);Se(l.idToken,i,"internal-error");const c=lp(l.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(n.uid===d,i,"user-mismatch"),io._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Or(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(n,e,t=!1){if(ur(n.app))return Promise.reject(ki(n));const i="signIn",o=await BE(n,i,e),l=await io._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function nP(n,e){return $E(co(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE(n){const e=co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rP(n,e,t){if(ur(n.app))return Promise.reject(ki(n));const i=co(n),c=await Lf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZC).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&HE(n),m}),d=await io._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function iP(n,e,t){return ur(n.app)?Promise.reject(ki(n)):nP(rn(n),ya.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&HE(n),i})}function sP(n,e,t,i){return rn(n).onIdTokenChanged(e,t,i)}function oP(n,e,t){return rn(n).beforeAuthStateChanged(e,t)}function aP(n,e,t,i){return rn(n).onAuthStateChanged(e,t,i)}function lP(n){return rn(n).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1e3,cP=10;class WE extends qE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ME(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);CC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WE.type="LOCAL";const hP=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends qE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KE.type="SESSION";const GE=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new th(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),m=await dP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const y=dp("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===y)switch(b.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(E),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function pP(n){Zr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function mP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function yP(){return QE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firebaseLocalStorageDb",_P=1,Oc="firebaseLocalStorage",XE="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nh(n,e){return n.transaction([Oc],e?"readwrite":"readonly").objectStore(Oc)}function vP(){const n=indexedDB.deleteDatabase(YE);return new Vl(n).toPromise()}function Mf(){const n=indexedDB.open(YE,_P);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Oc,{keyPath:XE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Oc)?e(i):(i.close(),await vP(),e(await Mf()))})})}async function a_(n,e,t){const i=nh(n,!0).put({[XE]:e,value:t});return new Vl(i).toPromise()}async function EP(n,e){const t=nh(n,!1).get(e),i=await new Vl(t).toPromise();return i===void 0?null:i.value}function l_(n,e){const t=nh(n,!0).delete(e);return new Vl(t).toPromise()}const wP=800,TP=3;class JE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>TP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(yP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mP(),!this.activeServiceWorker)return;this.sender=new fP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mf();return await a_(e,xc,"1"),await l_(e,xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>a_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>EP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>l_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=nh(o,!1).getAll();return new Vl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JE.type="LOCAL";const IP=JE;new bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e){return e?Pi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function AP(n){return $E(n.auth,new fp(n),n.bypassAuthState)}function RP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),tP(t,new fp(n),n.bypassAuthState)}async function CP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),eP(t,new fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AP;case"linkViaPopup":case"linkViaRedirect":return CP;case"reauthViaPopup":case"reauthViaRedirect":return RP;default:Or(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new bl(2e3,1e4);class na extends ZE{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PP.get())};e()}}na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="pendingRedirect",fc=new Map;class NP extends ZE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const i=await xP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xP(n,e){const t=bP(e),i=DP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function OP(n,e){fc.set(n._key(),e)}function DP(n){return Pi(n._redirectPersistence)}function bP(n){return dc(kP,n.config.apiKey,n.name)}async function LP(n,e,t=!1){if(ur(n.app))return Promise.reject(ki(n));const i=co(n),o=SP(i,e),c=await new NP(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=10*60*1e3;class VP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!ew(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MP&&this.cachedEventUids.clear(),this.cachedEventUids.has(u_(e))}saveEventToCache(e){this.cachedEventUids.add(u_(e)),this.lastProcessedEventTime=Date.now()}}function u_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ew({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ew(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,e={}){return Rs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zP=/^https?/;async function BP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await UP(n);for(const t of e)try{if($P(t))return}catch{}Or(n,"unauthorized-domain")}function $P(n){const e=Df(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!zP.test(t))return!1;if(jP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new bl(3e4,6e4);function c_(){const n=Zr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qP(n){return new Promise((e,t)=>{var i,o,l;function c(){c_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c_(),t(Jr(n,"network-request-failed"))},timeout:HP.get()})}if(!((o=(i=Zr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Zr().gapi)===null||l===void 0)&&l.load)c();else{const d=MC("iframefcb");return Zr()[d]=()=>{gapi.load?c():t(Jr(n,"network-request-failed"))},FE(`${LC()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw pc=null,e})}let pc=null;function WP(n){return pc=pc||qP(n),pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new bl(5e3,15e3),GP="__/auth/iframe",QP="emulator/auth/iframe",YP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JP(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ap(e,QP):`https://${n.config.authDomain}/${GP}`,i={apiKey:e.apiKey,appName:n.name,v:ga},o=XP.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ol(i).slice(1)}`}async function ZP(n){const e=await WP(n),t=Zr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:JP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YP,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const c=Jr(n,"network-request-failed"),d=Zr().setTimeout(()=>{l(c)},KP.get());function m(){Zr().clearTimeout(d),o(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tk=500,nk=600,rk="_blank",ik="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sk(n,e,t,i=tk,o=nk){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},ek),{width:i.toString(),height:o.toString(),top:l,left:c}),y=nn().toLowerCase();t&&(d=xE(y)?rk:t),kE(y)&&(e=e||ik,m.scrollbars="yes");const E=Object.entries(m).reduce((b,[B,j])=>`${b}${B}=${j},`,"");if(RC(y)&&d!=="_self")return ok(e||"",d),new h_(null);const T=window.open(e||"",d,E);Se(T,n,"popup-blocked");try{T.focus()}catch{}return new h_(T)}function ok(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="__/auth/handler",lk="emulator/auth/handler",uk=encodeURIComponent("fac");async function d_(n,e,t,i,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ga,eventId:o};if(e instanceof zE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",H0(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))c[E]=T}if(e instanceof Ml){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(c.scopes=E.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const m=await n._getAppCheckToken(),y=m?`#${uk}=${encodeURIComponent(m)}`:"";return`${ck(n)}?${Ol(d).slice(1)}${y}`}function ck({config:n}){return n.emulator?ap(n,lk):`https://${n.authDomain}/${ak}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class hk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GE,this._completeRedirectFn=LP,this._overrideRedirectResult=OP}async _openPopup(e,t,i,o){var l;Oi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await d_(e,t,i,Df(),o);return sk(e,c,dp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await d_(e,t,i,Df(),o);return pP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Oi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ZP(e),i=new VP(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(df,{type:df},o=>{var l;const c=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[df];c!==void 0&&t(!!c),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ME()||NE()||up()}}const dk=hk;var f_="@firebase/auth",p_="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mk(n){ni(new xr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VE(n)},y=new OC(i,o,l,m);return BC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ni(new xr("auth-internal",e=>{const t=co(e.getProvider("auth").getImmediate());return(i=>new fk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(f_,p_,pk(n)),hr(f_,p_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=5*60,yk=uE("authIdTokenMaxAge")||gk;let m_=null;const _k=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>yk)return;const o=t==null?void 0:t.token;m_!==o&&(m_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vk(n=yE()){const e=Dl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zC(n,{popupRedirectResolver:dk,persistence:[IP,hP,GE]}),i=uE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=_k(l.toString());oP(t,c,()=>c(t.currentUser)),sP(t,d=>c(d))}}const o=aE("auth");return o&&$C(t,`http://${o}`),t}function Ek(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}DC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=Jr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",Ek().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mk("Browser");const tw="@firebase/installations",pp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=1e4,rw=`w:${pp}`,iw="FIS_v2",wk="https://firebaseinstallations.googleapis.com/v1",Tk=60*60*1e3,Ik="installations",Sk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new uo(Ik,Sk,Ak);function sw(n){return n instanceof Lr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow({projectId:n}){return`${wk}/projects/${n}/installations`}function aw(n){return{token:n.token,requestStatus:2,expiresIn:Ck(n.expiresIn),creationTime:Date.now()}}async function lw(n,e){const i=(await e.json()).error;return so.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function uw({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Rk(n,{refreshToken:e}){const t=uw(n);return t.append("Authorization",Pk(e)),t}async function cw(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Ck(n){return Number(n.replace("s","000"))}function Pk(n){return`${iw} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=ow(n),o=uw(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:t,authVersion:iw,appId:n.appId,sdkVersion:rw},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await cw(()=>fetch(i,d));if(m.ok){const y=await m.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:aw(y.authToken)}}else throw await lw("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/^[cdef][\w-]{21}$/,Vf="";function Ok(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Dk(n);return xk.test(t)?t:Vf}catch{return Vf}}function Dk(n){return Nk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Map;function fw(n,e){const t=rh(n);pw(t,e),bk(t,e)}function pw(n,e){const t=dw.get(n);if(t)for(const i of t)i(e)}function bk(n,e){const t=Lk();t&&t.postMessage({key:n,fid:e}),Mk()}let Zs=null;function Lk(){return!Zs&&"BroadcastChannel"in self&&(Zs=new BroadcastChannel("[Firebase] FID Change"),Zs.onmessage=n=>{pw(n.data.key,n.data.fid)}),Zs}function Mk(){dw.size===0&&Zs&&(Zs.close(),Zs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebase-installations-database",Fk=1,oo="firebase-installations-store";let ff=null;function mp(){return ff||(ff=mE(Vk,Fk,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(oo)}}})),ff}async function Dc(n,e){const t=rh(n),o=(await mp()).transaction(oo,"readwrite"),l=o.objectStore(oo),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&fw(n,e.fid),e}async function mw(n){const e=rh(n),i=(await mp()).transaction(oo,"readwrite");await i.objectStore(oo).delete(e),await i.done}async function ih(n,e){const t=rh(n),o=(await mp()).transaction(oo,"readwrite"),l=o.objectStore(oo),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!c||c.fid!==d.fid)&&fw(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(n){let e;const t=await ih(n.appConfig,i=>{const o=Uk(i),l=jk(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Vf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Uk(n){const e=n||{fid:Ok(),registrationStatus:0};return gw(e)}function jk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=zk(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Bk(n)}:{installationEntry:e}}async function zk(n,e){try{const t=await kk(n,e);return Dc(n.appConfig,t)}catch(t){throw sw(t)&&t.customData.serverCode===409?await mw(n.appConfig):await Dc(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Bk(n){let e=await g_(n.appConfig);for(;e.registrationStatus===1;)await hw(100),e=await g_(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await gp(n);return i||t}return e}function g_(n){return ih(n,e=>{if(!e)throw so.create("installation-not-found");return gw(e)})}function gw(n){return $k(n)?{fid:n.fid,registrationStatus:0}:n}function $k(n){return n.registrationStatus===1&&n.registrationTime+nw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hk({appConfig:n,heartbeatServiceProvider:e},t){const i=qk(n,t),o=Rk(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:rw,appId:n.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},m=await cw(()=>fetch(i,d));if(m.ok){const y=await m.json();return aw(y)}else throw await lw("Generate Auth Token",m)}function qk(n,{fid:e}){return`${ow(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(n,e=!1){let t;const i=await ih(n.appConfig,l=>{if(!yw(l))throw so.create("not-registered");const c=l.authToken;if(!e&&Gk(c))return l;if(c.requestStatus===1)return t=Wk(n,e),l;{if(!navigator.onLine)throw so.create("app-offline");const d=Yk(l);return t=Kk(n,d),d}});return t?await t:i.authToken}async function Wk(n,e){let t=await y_(n.appConfig);for(;t.authToken.requestStatus===1;)await hw(100),t=await y_(n.appConfig);const i=t.authToken;return i.requestStatus===0?yp(n,e):i}function y_(n){return ih(n,e=>{if(!yw(e))throw so.create("not-registered");const t=e.authToken;return Xk(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Kk(n,e){try{const t=await Hk(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Dc(n.appConfig,i),t}catch(t){if(sw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await mw(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Dc(n.appConfig,i)}throw t}}function yw(n){return n!==void 0&&n.registrationStatus===2}function Gk(n){return n.requestStatus===2&&!Qk(n)}function Qk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Tk}function Yk(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Xk(n){return n.requestStatus===1&&n.requestTime+nw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(n){const e=n,{installationEntry:t,registrationPromise:i}=await gp(e);return i?i.catch(console.error):yp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(n,e=!1){const t=n;return await e1(t),(await yp(t,e)).token}async function e1(n){const{registrationPromise:e}=await gp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){if(!n||!n.options)throw pf("App Configuration");if(!n.name)throw pf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw pf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function pf(n){return so.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="installations",n1="installations-internal",r1=n=>{const e=n.getProvider("app").getImmediate(),t=t1(e),i=Dl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},i1=n=>{const e=n.getProvider("app").getImmediate(),t=Dl(e,_w).getImmediate();return{getId:()=>Jk(t),getToken:o=>Zk(t,o)}};function s1(){ni(new xr(_w,r1,"PUBLIC")),ni(new xr(n1,i1,"PRIVATE"))}s1();hr(tw,pp);hr(tw,pp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="analytics",o1="firebase_id",a1="origin",l1=60*1e3,u1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_p="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn=new Zc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},dr=new uo("analytics","Analytics",c1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(n){if(!n.startsWith(_p)){const e=dr.create("invalid-gtag-resource",{gtagURL:n});return Nn.warn(e.message),""}return n}function vw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function d1(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function f1(n,e){const t=d1("firebase-js-sdk-policy",{createScriptURL:h1}),i=document.createElement("script"),o=`${_p}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function p1(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function m1(n,e,t,i,o,l){const c=i[o];try{if(c)await e[c];else{const m=(await vw(t)).find(y=>y.measurementId===o);m&&await e[m.appId]}}catch(d){Nn.error(d)}n("config",o,l)}async function g1(n,e,t,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await vw(t);for(const m of c){const y=d.find(T=>T.measurementId===m),E=y&&e[y.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,o||{})}catch(l){Nn.error(l)}}function y1(n,e,t,i){async function o(l,...c){try{if(l==="event"){const[d,m]=c;await g1(n,e,t,d,m)}else if(l==="config"){const[d,m]=c;await m1(n,e,t,i,d,m)}else if(l==="consent"){const[d,m]=c;n("consent",d,m)}else if(l==="get"){const[d,m,y]=c;n("get",d,m,y)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){Nn.error(d)}}return o}function _1(n,e,t,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=y1(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function v1(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_p)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=30,w1=1e3;class T1{constructor(e={},t=w1){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ew=new T1;function I1(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function S1(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:I1(i)},l=u1.replace("{app-id}",t),c=await fetch(l,o);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function A1(n,e=Ew,t){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw dr.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw dr.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new P1;return setTimeout(async()=>{d.abort()},l1),ww({appId:i,apiKey:o,measurementId:l},c,d,e)}async function ww(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=Ew){var l;const{appId:c,measurementId:d}=n;try{await R1(i,e)}catch(m){if(d)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:c,measurementId:d};throw m}try{const m=await S1(n);return o.deleteThrottleMetadata(c),m}catch(m){const y=m;if(!C1(y)){if(o.deleteThrottleMetadata(c),d)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:d};throw m}const E=Number((l=y==null?void 0:y.customData)===null||l===void 0?void 0:l.httpStatus)===503?By(t,o.intervalMillis,E1):By(t,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(c,T),Nn.debug(`Calling attemptFetch again in ${E} millis`),ww(n,T,i,o)}}function R1(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),i(dr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C1(n){if(!(n instanceof Lr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class P1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function k1(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(){if(hE())try{await dE()}catch(n){return Nn.warn(dr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Nn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function x1(n,e,t,i,o,l,c){var d;const m=A1(n);m.then(B=>{t[B.measurementId]=B.appId,n.options.measurementId&&B.measurementId!==n.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>Nn.error(B)),e.push(m);const y=N1().then(B=>{if(B)return i.getId()}),[E,T]=await Promise.all([m,y]);v1(l)||f1(l,E.measurementId),o("js",new Date);const b=(d=c==null?void 0:c.config)!==null&&d!==void 0?d:{};return b[a1]="firebase",b.update=!0,T!=null&&(b[o1]=T),o("config",E.measurementId,b),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.app=e}_delete(){return delete fl[this.app.options.appId],Promise.resolve()}}let fl={},v_=[];const E_={};let mf="dataLayer",D1="gtag",w_,Tw,T_=!1;function b1(){const n=[];if(cE()&&n.push("This is a browser extension environment."),j0()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=dr.create("invalid-analytics-context",{errorInfo:e});Nn.warn(t.message)}}function L1(n,e,t){b1();const i=n.options.appId;if(!i)throw dr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw dr.create("no-api-key");if(fl[i]!=null)throw dr.create("already-exists",{id:i});if(!T_){p1(mf);const{wrappedGtag:l,gtagCore:c}=_1(fl,v_,E_,mf,D1);Tw=l,w_=c,T_=!0}return fl[i]=x1(n,v_,E_,e,w_,mf,t),new O1(n)}function M1(n,e,t,i){n=rn(n),k1(Tw,fl[n.app.options.appId],e,t,i).catch(o=>Nn.error(o))}const I_="@firebase/analytics",S_="0.10.11";function V1(){ni(new xr(__,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return L1(i,o,t)},"PUBLIC")),ni(new xr("analytics-internal",n,"PRIVATE")),hr(I_,S_),hr(I_,S_,"esm2017");function n(e){try{const t=e.getProvider(__).getImmediate();return{logEvent:(i,o,l)=>M1(t,i,o,l)}}catch(t){throw dr.create("interop-component-reg-failed",{reason:t})}}}V1();var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,Iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function R(){}R.prototype=I.prototype,P.D=I.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(k,N,L){for(var A=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)A[Ze-2]=arguments[Ze];return I.prototype[N].apply(k,A)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,R){R||(R=0);var k=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)k[N]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(N=0;16>N;++N)k[N]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=P.g[0],R=P.g[1],N=P.g[2];var L=P.g[3],A=I+(L^R&(N^L))+k[0]+3614090360&4294967295;I=R+(A<<7&4294967295|A>>>25),A=L+(N^I&(R^N))+k[1]+3905402710&4294967295,L=I+(A<<12&4294967295|A>>>20),A=N+(R^L&(I^R))+k[2]+606105819&4294967295,N=L+(A<<17&4294967295|A>>>15),A=R+(I^N&(L^I))+k[3]+3250441966&4294967295,R=N+(A<<22&4294967295|A>>>10),A=I+(L^R&(N^L))+k[4]+4118548399&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(N^I&(R^N))+k[5]+1200080426&4294967295,L=I+(A<<12&4294967295|A>>>20),A=N+(R^L&(I^R))+k[6]+2821735955&4294967295,N=L+(A<<17&4294967295|A>>>15),A=R+(I^N&(L^I))+k[7]+4249261313&4294967295,R=N+(A<<22&4294967295|A>>>10),A=I+(L^R&(N^L))+k[8]+1770035416&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(N^I&(R^N))+k[9]+2336552879&4294967295,L=I+(A<<12&4294967295|A>>>20),A=N+(R^L&(I^R))+k[10]+4294925233&4294967295,N=L+(A<<17&4294967295|A>>>15),A=R+(I^N&(L^I))+k[11]+2304563134&4294967295,R=N+(A<<22&4294967295|A>>>10),A=I+(L^R&(N^L))+k[12]+1804603682&4294967295,I=R+(A<<7&4294967295|A>>>25),A=L+(N^I&(R^N))+k[13]+4254626195&4294967295,L=I+(A<<12&4294967295|A>>>20),A=N+(R^L&(I^R))+k[14]+2792965006&4294967295,N=L+(A<<17&4294967295|A>>>15),A=R+(I^N&(L^I))+k[15]+1236535329&4294967295,R=N+(A<<22&4294967295|A>>>10),A=I+(N^L&(R^N))+k[1]+4129170786&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^N&(I^R))+k[6]+3225465664&4294967295,L=I+(A<<9&4294967295|A>>>23),A=N+(I^R&(L^I))+k[11]+643717713&4294967295,N=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(N^L))+k[0]+3921069994&4294967295,R=N+(A<<20&4294967295|A>>>12),A=I+(N^L&(R^N))+k[5]+3593408605&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^N&(I^R))+k[10]+38016083&4294967295,L=I+(A<<9&4294967295|A>>>23),A=N+(I^R&(L^I))+k[15]+3634488961&4294967295,N=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(N^L))+k[4]+3889429448&4294967295,R=N+(A<<20&4294967295|A>>>12),A=I+(N^L&(R^N))+k[9]+568446438&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^N&(I^R))+k[14]+3275163606&4294967295,L=I+(A<<9&4294967295|A>>>23),A=N+(I^R&(L^I))+k[3]+4107603335&4294967295,N=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(N^L))+k[8]+1163531501&4294967295,R=N+(A<<20&4294967295|A>>>12),A=I+(N^L&(R^N))+k[13]+2850285829&4294967295,I=R+(A<<5&4294967295|A>>>27),A=L+(R^N&(I^R))+k[2]+4243563512&4294967295,L=I+(A<<9&4294967295|A>>>23),A=N+(I^R&(L^I))+k[7]+1735328473&4294967295,N=L+(A<<14&4294967295|A>>>18),A=R+(L^I&(N^L))+k[12]+2368359562&4294967295,R=N+(A<<20&4294967295|A>>>12),A=I+(R^N^L)+k[5]+4294588738&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^N)+k[8]+2272392833&4294967295,L=I+(A<<11&4294967295|A>>>21),A=N+(L^I^R)+k[11]+1839030562&4294967295,N=L+(A<<16&4294967295|A>>>16),A=R+(N^L^I)+k[14]+4259657740&4294967295,R=N+(A<<23&4294967295|A>>>9),A=I+(R^N^L)+k[1]+2763975236&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^N)+k[4]+1272893353&4294967295,L=I+(A<<11&4294967295|A>>>21),A=N+(L^I^R)+k[7]+4139469664&4294967295,N=L+(A<<16&4294967295|A>>>16),A=R+(N^L^I)+k[10]+3200236656&4294967295,R=N+(A<<23&4294967295|A>>>9),A=I+(R^N^L)+k[13]+681279174&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^N)+k[0]+3936430074&4294967295,L=I+(A<<11&4294967295|A>>>21),A=N+(L^I^R)+k[3]+3572445317&4294967295,N=L+(A<<16&4294967295|A>>>16),A=R+(N^L^I)+k[6]+76029189&4294967295,R=N+(A<<23&4294967295|A>>>9),A=I+(R^N^L)+k[9]+3654602809&4294967295,I=R+(A<<4&4294967295|A>>>28),A=L+(I^R^N)+k[12]+3873151461&4294967295,L=I+(A<<11&4294967295|A>>>21),A=N+(L^I^R)+k[15]+530742520&4294967295,N=L+(A<<16&4294967295|A>>>16),A=R+(N^L^I)+k[2]+3299628645&4294967295,R=N+(A<<23&4294967295|A>>>9),A=I+(N^(R|~L))+k[0]+4096336452&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~N))+k[7]+1126891415&4294967295,L=I+(A<<10&4294967295|A>>>22),A=N+(I^(L|~R))+k[14]+2878612391&4294967295,N=L+(A<<15&4294967295|A>>>17),A=R+(L^(N|~I))+k[5]+4237533241&4294967295,R=N+(A<<21&4294967295|A>>>11),A=I+(N^(R|~L))+k[12]+1700485571&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~N))+k[3]+2399980690&4294967295,L=I+(A<<10&4294967295|A>>>22),A=N+(I^(L|~R))+k[10]+4293915773&4294967295,N=L+(A<<15&4294967295|A>>>17),A=R+(L^(N|~I))+k[1]+2240044497&4294967295,R=N+(A<<21&4294967295|A>>>11),A=I+(N^(R|~L))+k[8]+1873313359&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~N))+k[15]+4264355552&4294967295,L=I+(A<<10&4294967295|A>>>22),A=N+(I^(L|~R))+k[6]+2734768916&4294967295,N=L+(A<<15&4294967295|A>>>17),A=R+(L^(N|~I))+k[13]+1309151649&4294967295,R=N+(A<<21&4294967295|A>>>11),A=I+(N^(R|~L))+k[4]+4149444226&4294967295,I=R+(A<<6&4294967295|A>>>26),A=L+(R^(I|~N))+k[11]+3174756917&4294967295,L=I+(A<<10&4294967295|A>>>22),A=N+(I^(L|~R))+k[2]+718787259&4294967295,N=L+(A<<15&4294967295|A>>>17),A=R+(L^(N|~I))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+L&4294967295}i.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var R=I-this.blockSize,k=this.B,N=this.h,L=0;L<I;){if(N==0)for(;L<=R;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<I;)if(k[N++]=P.charCodeAt(L++),N==this.blockSize){o(this,k),N=0;break}}else for(;L<I;)if(k[N++]=P[L++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=I},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var R=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=R&255,R/=256;for(this.u(P),P=Array(16),I=R=0;4>I;++I)for(var k=0;32>k;k+=8)P[R++]=this.g[I]>>>k&255;return P};function l(P,I){var R=d;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=I(P)}function c(P,I){this.h=I;for(var R=[],k=!0,N=P.length-1;0<=N;N--){var L=P[N]|0;k&&L==I||(R[N]=L,k=!1)}this.g=R}var d={};function m(P){return-128<=P&&128>P?l(P,function(I){return new c([I|0],0>I?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return F(y(-P));for(var I=[],R=1,k=0;P>=R;k++)I[k]=P/R|0,R*=4294967296;return new c(I,0)}function E(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return F(E(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),k=T,N=0;N<P.length;N+=8){var L=Math.min(8,P.length-N),A=parseInt(P.substring(N,N+L),I);8>L?(L=y(Math.pow(I,L)),k=k.j(L).add(y(A))):(k=k.j(R),k=k.add(y(A)))}return k}var T=m(0),b=m(1),B=m(16777216);n=c.prototype,n.m=function(){if(q(this))return-F(this).m();for(var P=0,I=1,R=0;R<this.g.length;R++){var k=this.i(R);P+=(0<=k?k:4294967296+k)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if(q(this))return"-"+F(this).toString(P);for(var I=y(Math.pow(P,6)),R=this,k="";;){var N=ce(R,I).g;R=ue(R,N.j(I));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=N,j(R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function q(P){return P.h==-1}n.l=function(P){return P=ue(this,P),q(P)?-1:j(P)?0:1};function F(P){for(var I=P.g.length,R=[],k=0;k<I;k++)R[k]=~P.g[k];return new c(R,~P.h).add(b)}n.abs=function(){return q(this)?F(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],k=0,N=0;N<=I;N++){var L=k+(this.i(N)&65535)+(P.i(N)&65535),A=(L>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);k=A>>>16,L&=65535,A&=65535,R[N]=A<<16|L}return new c(R,R[R.length-1]&-2147483648?-1:0)};function ue(P,I){return P.add(F(I))}n.j=function(P){if(j(this)||j(P))return T;if(q(this))return q(P)?F(this).j(F(P)):F(F(this).j(P));if(q(P))return F(this.j(F(P)));if(0>this.l(B)&&0>P.l(B))return y(this.m()*P.m());for(var I=this.g.length+P.g.length,R=[],k=0;k<2*I;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<P.g.length;N++){var L=this.i(k)>>>16,A=this.i(k)&65535,Ze=P.i(N)>>>16,Pe=P.i(N)&65535;R[2*k+2*N]+=A*Pe,ae(R,2*k+2*N),R[2*k+2*N+1]+=L*Pe,ae(R,2*k+2*N+1),R[2*k+2*N+1]+=A*Ze,ae(R,2*k+2*N+1),R[2*k+2*N+2]+=L*Ze,ae(R,2*k+2*N+2)}for(k=0;k<I;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=I;k<2*I;k++)R[k]=0;return new c(R,0)};function ae(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function ie(P,I){this.g=P,this.h=I}function ce(P,I){if(j(I))throw Error("division by zero");if(j(P))return new ie(T,T);if(q(P))return I=ce(F(P),I),new ie(F(I.g),F(I.h));if(q(I))return I=ce(P,F(I)),new ie(F(I.g),I.h);if(30<P.g.length){if(q(P)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var R=b,k=I;0>=k.l(P);)R=Re(R),k=Re(k);var N=we(R,1),L=we(k,1);for(k=we(k,2),R=we(R,2);!j(k);){var A=L.add(k);0>=A.l(P)&&(N=N.add(R),L=A),k=we(k,1),R=we(R,1)}return I=ue(P,N.j(I)),new ie(N,I)}for(N=T;0<=P.l(I);){for(R=Math.max(1,Math.floor(P.m()/I.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=y(R),A=L.j(I);q(A)||0<A.l(P);)R-=k,L=y(R),A=L.j(I);j(L)&&(L=b),N=N.add(L),P=ue(P,A)}return new ie(N,P)}n.A=function(P){return ce(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],k=0;k<I;k++)R[k]=this.i(k)&P.i(k);return new c(R,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],k=0;k<I;k++)R[k]=this.i(k)|P.i(k);return new c(R,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),R=[],k=0;k<I;k++)R[k]=this.i(k)^P.i(k);return new c(R,this.h^P.h)};function Re(P){for(var I=P.g.length+1,R=[],k=0;k<I;k++)R[k]=P.i(k)<<1|P.i(k-1)>>>31;return new c(R,P.h)}function we(P,I){var R=I>>5;I%=32;for(var k=P.g.length-R,N=[],L=0;L<k;L++)N[L]=0<I?P.i(L+R)>>>I|P.i(L+R+1)<<32-I:P.i(L+R);return new c(N,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Iw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=E,gs=c}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sw,ul,Aw,mc,Ff,Rw,Cw,Pw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,p){if(p)e:{var _=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var M=u[w];if(!(M in _))break e;_=_[M]}u=u[u.length-1],w=_[u],p=p(w),p!=w&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,w=!1,M={next:function(){if(!w&&_<u.length){var $=_++;return{value:p($,u[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function E(u,p,_){return u.call.apply(u.bind,arguments)}function T(u,p,_){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),u.apply(p,M)}}return function(){return u.apply(p,arguments)}}function b(u,p,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,b.apply(null,arguments)}function B(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function j(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(w,M,$){for(var ne=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)ne[Je-2]=arguments[Je];return p.prototype[M].apply(w,ne)}}function q(u){const p=u.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=u[w];return _}return[]}function F(u,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const M=u.length||0,$=w.length||0;u.length=M+$;for(let ne=0;ne<$;ne++)u[M+ne]=w[ne]}else u.push(w)}}class ue{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ae(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var Re=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function we(u,p,_){for(const w in u)p.call(_,u[w],w,u)}function P(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let _,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(_ in w)u[_]=w[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(w,_)&&(u[_]=w[_])}}function N(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function L(u){d.setTimeout(()=>{throw u},0)}function A(){var u=ve;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ze{constructor(){this.h=this.g=null}add(p,_){const w=Pe.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Pe=new ue(()=>new Me,u=>u.reset());class Me{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ve,te=!1,ve=new Ze,se=()=>{const u=d.Promise.resolve(void 0);Ve=()=>{u.then(D)}};var D=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(_){L(_)}var p=Pe;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}te=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,p),d.removeEventListener("test",_,p)}catch{}return u}();function ye(u,p){if(re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Re){e:{try{ce(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ye.aa.h.call(this)}}j(ye,re);var be={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),He=0;function Qe(u,p,_,w,M){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=M,this.key=++He,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zn(u){this.src=u,this.g={},this.h=0}zn.prototype.add=function(u,p,_,w,M){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var ne=Bn(u,p,w,M);return-1<ne?(p=u[ne],_||(p.fa=!1)):(p=new Qe(p,this.src,$,!!w,M),p.fa=_,u.push(p)),p};function xn(u,p){var _=p.type;if(_ in u.g){var w=u.g[_],M=Array.prototype.indexOf.call(w,p,void 0),$;($=0<=M)&&Array.prototype.splice.call(w,M,1),$&&(yt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Bn(u,p,_,w){for(var M=0;M<u.length;++M){var $=u[M];if(!$.da&&$.listener==p&&$.capture==!!_&&$.ha==w)return M}return-1}var sn="closure_lm_"+(1e6*Math.random()|0),Mr={};function ii(u,p,_,w,M){if(Array.isArray(p)){for(var $=0;$<p.length;$++)ii(u,p[$],_,w,M);return null}return _=Kn(_),u&&u[ze]?u.K(p,_,y(w)?!!w.capture:!1,M):$n(u,p,_,!1,w,M)}function $n(u,p,_,w,M,$){if(!p)throw Error("Invalid event type");var ne=y(M)?!!M.capture:!!M,Je=Vr(u);if(Je||(u[sn]=Je=new zn(u)),_=Je.add(p,_,w,ne,$),_.proxy)return _;if(w=si(),_.proxy=w,w.src=u,w.listener=_,u.addEventListener)Oe||(M=ne),M===void 0&&(M=!1),u.addEventListener(p.toString(),w,M);else if(u.attachEvent)u.attachEvent(qn(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function si(){function u(_){return p.call(u.src,u.listener,_)}const p=Cs;return u}function mr(u,p,_,w,M){if(Array.isArray(p))for(var $=0;$<p.length;$++)mr(u,p[$],_,w,M);else w=y(w)?!!w.capture:!!w,_=Kn(_),u&&u[ze]?(u=u.i,p=String(p).toString(),p in u.g&&($=u.g[p],_=Bn($,_,w,M),-1<_&&(yt($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete u.g[p],u.h--)))):u&&(u=Vr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Bn(p,_,w,M)),(_=-1<u?p[u]:null)&&Hn(_))}function Hn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ze])xn(p.i,u);else{var _=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(_,w,u.capture):p.detachEvent?p.detachEvent(qn(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=Vr(p))?(xn(_,u),_.h==0&&(_.src=null,p[sn]=null)):yt(u)}}}function qn(u){return u in Mr?Mr[u]:Mr[u]="on"+u}function Cs(u,p){if(u.da)u=!0;else{p=new ye(p,this);var _=u.listener,w=u.ha||u.src;u.fa&&Hn(u),u=_.call(w,p)}return u}function Vr(u){return u=u[sn],u instanceof zn?u:null}var Wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(u){return typeof u=="function"?u:(u[Wn]||(u[Wn]=function(p){return u.handleEvent(p)}),u[Wn])}function nt(){W.call(this),this.i=new zn(this),this.M=this,this.F=null}j(nt,W),nt.prototype[ze]=!0,nt.prototype.removeEventListener=function(u,p,_,w){mr(this,u,p,_,w)};function pt(u,p){var _,w=u.F;if(w)for(_=[];w;w=w.F)_.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new re(p,u);else if(p instanceof re)p.target=p.target||u;else{var M=p;p=new re(w,u),k(p,M)}if(M=!0,_)for(var $=_.length-1;0<=$;$--){var ne=p.g=_[$];M=Gn(ne,w,!0,p)&&M}if(ne=p.g=u,M=Gn(ne,w,!0,p)&&M,M=Gn(ne,w,!1,p)&&M,_)for($=0;$<_.length;$++)ne=p.g=_[$],M=Gn(ne,w,!1,p)&&M}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],w=0;w<_.length;w++)yt(_[w]);delete u.g[p],u.h--}}this.F=null},nt.prototype.K=function(u,p,_,w){return this.i.add(String(u),p,!1,_,w)},nt.prototype.L=function(u,p,_,w){return this.i.add(String(u),p,!0,_,w)};function Gn(u,p,_,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,$=0;$<p.length;++$){var ne=p[$];if(ne&&!ne.da&&ne.capture==_){var Je=ne.listener,Rt=ne.ha||ne.src;ne.fa&&xn(u.i,ne),M=Je.call(Rt,w)!==!1&&M}}return M&&!w.defaultPrevented}function Mi(u,p,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(u,p||0)}function Qn(u){u.g=Mi(()=>{u.g=null,u.i&&(u.i=!1,Qn(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Fr extends W{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yn(u){W.call(this),this.h=u,this.g={}}j(Yn,W);var Ur=[];function on(u){we(u.g,function(p,_){this.g.hasOwnProperty(_)&&Hn(p)},u),u.g={}}Yn.prototype.N=function(){Yn.aa.N.call(this),on(this)},Yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=d.JSON.stringify,oi=d.JSON.parse,ai=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function li(){}li.prototype.h=null;function gr(u){return u.h||(u.h=u.i())}function yr(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wt(){re.call(this,"d")}j(Wt,re);function Vi(){re.call(this,"c")}j(Vi,re);var Jn={},at=null;function mn(){return at=at||new nt}Jn.La="serverreachability";function Ps(u){re.call(this,Jn.La,u)}j(Ps,re);function Zn(u){const p=mn();pt(p,new Ps(p))}Jn.STAT_EVENT="statevent";function ui(u,p){re.call(this,Jn.STAT_EVENT,u),this.stat=p}j(ui,re);function lt(u){const p=mn();pt(p,new ui(p,u))}Jn.Ma="timingevent";function ci(u,p){re.call(this,Jn.Ma,u),this.size=p}j(ci,re);function On(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function Ot(){this.g=!0}Ot.prototype.xa=function(){this.g=!1};function er(u,p,_,w,M,$){u.info(function(){if(u.g)if($)for(var ne="",Je=$.split("&"),Rt=0;Rt<Je.length;Rt++){var qe=Je[Rt].split("=");if(1<qe.length){var bt=qe[0];qe=qe[1];var wt=bt.split("_");ne=2<=wt.length&&wt[1]=="type"?ne+(bt+"="+qe+"&"):ne+(bt+"=redacted&")}}else ne=null;else ne=$;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+p+`
`+_+`
`+ne})}function hi(u,p,_,w,M,$,ne){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+p+`
`+_+`
`+$+" "+ne})}function gn(u,p,_,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+yo(u,_)+(w?" "+w:"")})}function di(u,p){u.info(function(){return"TIMEOUT: "+p})}Ot.prototype.info=function(){};function yo(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var w=_[u];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return Xn(_)}catch{return p}}var Kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function jr(){}j(jr,li),jr.prototype.g=function(){return new XMLHttpRequest},jr.prototype.i=function(){return{}},yn=new jr;function _n(u,p,_,w){this.j=u,this.i=p,this.l=_,this.R=w||1,this.U=new Yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _o}function _o(){this.i=null,this.g="",this.h=!1}var ge={},x={};function J(u,p,_){u.L=1,u.v=Bi(bn(p)),u.m=_,u.P=!0,he(u,null)}function he(u,p){u.F=Date.now(),Ne(u),u.A=bn(u.v);var _=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Hi(_.i,"t",w),u.C=0,_=u.j.J,u.h=new _o,u.g=nu(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Fr(b(u.Y,u,u.g),u.O)),p=u.U,_=u.g,w=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ur[0]=M.toString()),M=Ur);for(var $=0;$<M.length;$++){var ne=ii(_,M[$],w||p.handleEvent,!1,p.h||p);if(!ne)break;p.g[ne.key]=ne}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Zn(),er(u.i,u.u,u.A,u.l,u.R,u.m)}_n.prototype.ca=function(u){u=u.target;const p=this.M;p&&wn(u)==3?p.j():this.Y(u)},_n.prototype.Y=function(u){try{if(u==this.g)e:{const wt=wn(this.g);var p=this.g.Ba();const nr=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Ca(this.g)))){this.J||wt!=4||p==7||(p==8||0>=nr?Zn(3):Zn(2)),Dt(this);var _=this.g.Z();this.X=_;t:if(Xe(this)){var w=Ca(this.g);u="";var M=w.length,$=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){et(this),vn(this);var ne="";break t}this.h.i=new d.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,u+=this.h.i.decode(w[p],{stream:!($&&p==M-1)});w.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,hi(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Rt=this.g;if((Je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Je)){var qe=Je;break t}}qe=null}if(_=qe)gn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,_);else{this.o=!1,this.s=3,lt(12),et(this),vn(this);break e}}if(this.P){_=!0;let Mn;for(;!this.J&&this.C<ne.length;)if(Mn=Et(this,ne),Mn==x){wt==4&&(this.s=4,lt(14),_=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==ge){this.s=4,lt(15),gn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else gn(this.i,this.l,Mn,null),Fi(this,Mn);if(Xe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ne.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)gn(this.i,this.l,ne,"[Invalid Chunked Response]"),et(this),vn(this);else if(0<ne.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ka(bt),bt.M=!0,lt(11))}}else gn(this.i,this.l,ne,null),Fi(this,ne);wt==4&&et(this),this.o&&!this.J&&(wt==4?ko(this.j,this):(this.o=!1,Ne(this)))}else So(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),et(this),vn(this)}}}catch{}finally{}};function Xe(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Et(u,p){var _=u.C,w=p.indexOf(`
`,_);return w==-1?x:(_=Number(p.substring(_,w)),isNaN(_)?ge:(w+=1,w+_>p.length?x:(p=p.slice(w,w+_),u.C=w+_,p)))}_n.prototype.cancel=function(){this.J=!0,et(this)};function Ne(u){u.S=Date.now()+u.I,At(u,u.I)}function At(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=On(b(u.ba,u),p)}function Dt(u){u.B&&(d.clearTimeout(u.B),u.B=null)}_n.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(di(this.i,this.A),this.L!=2&&(Zn(),lt(17)),et(this),this.s=2,vn(this)):At(this,this.S-u)};function vn(u){u.j.G==0||u.J||ko(u.j,u)}function et(u){Dt(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,on(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Fi(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||an(_.h,u))){if(!u.K&&an(_.h,u)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Po(_),Tr(_);else break e;Co(_),lt(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=On(b(_.Za,_),6e3));if(1>=Bl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((u.K||_.g==u)&&Po(_),!ae(p))for(M=_.Da.g.parse(p),p=0;p<M.length;p++){let qe=M[p];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const bt=qe[3];bt!=null&&(_.la=bt,_.j.info("VER="+_.la));const wt=qe[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const nr=qe[5];nr!=null&&typeof nr=="number"&&0<nr&&(w=1.5*nr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Mn=u.g;if(Mn){const Vs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var $=w.h;$.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ia($,$.h),$.h=null))}if(w.D){const xo=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(w.ya=xo,tt(w.I,w.D,xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ne=u;if(w.qa=tu(w,w.J?w.ia:null,w.W),ne.K){$l(w.h,ne);var Je=ne,Rt=w.L;Rt&&(Je.I=Rt),Je.B&&(Dt(Je),Ne(Je)),w.g=ne}else Ms(w);0<_.i.length&&Hr(_)}else qe[0]!="stop"&&qe[0]!="close"||yi(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?yi(_,7):jt(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Zn(4)}catch{}}var Ns=class{constructor(u,p){this.g=u,this.map=p}};function xs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Bl(u){return u.h?1:u.g?u.g.size:0}function an(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ia(u,p){u.g?u.g.add(p):u.h=p}function $l(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}xs.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return q(u.i)}function vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(m(u)){for(var p=[],_=u.length,w=0;w<_;w++)p.push(u[w]);return p}p=[],_=0;for(w in u)p[_++]=u[w];return p}function Eo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(m(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const w in u)p[_++]=w;return p}}}function Ui(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(m(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Eo(u),w=vo(u),M=w.length,$=0;$<M;$++)p.call(void 0,w[$],_&&_[$],u)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eh(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var w=u[_].indexOf("="),M=null;if(0<=w){var $=u[_].substring(0,w);M=u[_].substring(w+1)}else $=u[_];p($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function fi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fi){this.h=u.h,Ds(this,u.j),this.o=u.o,this.g=u.g,ji(this,u.s),this.l=u.l;var p=u.i,_=new zr;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),zi(this,_),this.m=u.m}else u&&(p=String(u).match(Os))?(this.h=!1,Ds(this,p[1]||"",!0),this.o=Be(p[2]||""),this.g=Be(p[3]||"",!0),ji(this,p[4]),this.l=Be(p[5]||"",!0),zi(this,p[6]||"",!0),this.m=Be(p[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}fi.prototype.toString=function(){var u=[],p=this.j;p&&u.push($i(p,wo,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push($i(p,wo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push($i(_,_.charAt(0)=="/"?Kl:Wl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",$i(_,Sa)),u.join("")};function bn(u){return new fi(u)}function Ds(u,p,_){u.j=_?Be(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ji(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function zi(u,p,_){p instanceof zr?(u.i=p,Br(u.i,u.h)):(_||(p=$i(p,Gl)),u.i=new zr(p,u.h))}function tt(u,p,_){u.i.set(p,_)}function Bi(u){return tt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Be(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $i(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,ql),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wo=/[#\/\?@]/g,Wl=/[#\?:]/g,Kl=/[#\?]/g,Gl=/[#\?@]/g,Sa=/#/g;function zr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&Eh(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}n=zr.prototype,n.add=function(u,p){Ut(this),this.i=null,u=tr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function _r(u,p){Ut(u),p=tr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function vr(u,p){return Ut(u),p=tr(u,p),u.g.has(p)}n.forEach=function(u,p){Ut(this),this.g.forEach(function(_,w){_.forEach(function(M){u.call(p,M,w,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const M=u[w];for(let $=0;$<M.length;$++)_.push(p[w])}return _},n.V=function(u){Ut(this);let p=[];if(typeof u=="string")vr(this,u)&&(p=p.concat(this.g.get(tr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},n.set=function(u,p){return Ut(this),this.i=null,u=tr(this,u),vr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},n.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Hi(u,p,_){_r(u,p),0<_.length&&(u.i=null,u.g.set(tr(u,p),q(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const $=encodeURIComponent(String(w)),ne=this.V(w);for(w=0;w<ne.length;w++){var M=$;ne[w]!==""&&(M+="="+encodeURIComponent(String(ne[w]))),u.push(M)}}return this.i=u.join("&")};function tr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Br(u,p){p&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(_,w){var M=w.toLowerCase();w!=M&&(_r(this,w),Hi(this,M,_))},u)),u.j=p}function wh(u,p){const _=new Ot;if(d.Image){const w=new Image;w.onload=B(En,_,"TestLoadImage: loaded",!0,p,w),w.onerror=B(En,_,"TestLoadImage: error",!1,p,w),w.onabort=B(En,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=B(En,_,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Ql(u,p){const _=new Ot,w=new AbortController,M=setTimeout(()=>{w.abort(),En(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then($=>{clearTimeout(M),$.ok?En(_,"TestPingServer: ok",!0,p):En(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),En(_,"TestPingServer: error",!1,p)})}function En(u,p,_,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(_)}catch{}}function Th(){this.g=new ai}function Yl(u,p,_){const w=_||"";try{Ui(u,function(M,$){let ne=M;y(M)&&(ne=Xn(M)),p.push(w+$+"="+encodeURIComponent(ne))})}catch(M){throw p.push(w+"type="+encodeURIComponent("_badmap")),M}}function pi(u){this.l=u.Ub||null,this.j=u.eb||!1}j(pi,li),pi.prototype.g=function(){return new bs(this.l,this.j)},pi.prototype.i=function(u){return function(){return u}}({});function bs(u,p){nt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(bs,nt),n=bs.prototype,n.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,wr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,wr(this)),this.g&&(this.readyState=3,wr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Er(this):wr(this),this.readyState==3&&Xl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Er(this))},n.Qa=function(u){this.g&&(this.response=u,Er(this))},n.ga=function(){this.g&&Er(this)};function Er(u){u.readyState=4,u.l=null,u.j=null,u.v=null,wr(u)}n.setRequestHeader=function(u,p){this.u.append(u,p)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function wr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let p="";return we(u,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function qi(u,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=mi(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):tt(u,p,_))}function ut(u){nt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(ut,nt);var Ih=/^https?$/i,Aa=["POST","PUT"];n=ut.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?gr(this.o):gr(yn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch($){Ls(this,$);return}if(u=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)_.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),M=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Aa,p,void 0))||w||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ne]of _)this.g.setRequestHeader($,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Ls(this,$)}};function Ls(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,To(u),Ln(u)}function To(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),Ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},n.bb=function(){Ra(this)};function Ra(u){if(u.h&&typeof c<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Mi(u.Ea,0,u);else if(pt(u,"readystatechange"),wn(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=ne===0){var M=String(u.D).match(Os)[1]||null;!M&&d.self&&d.self.location&&(M=d.self.location.protocol.slice(0,-1)),w=!Ih.test(M?M.toLowerCase():"")}_=w}if(_)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var $=2<wn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",To(u)}}finally{Ln(u)}}}}function Ln(u,p){if(u.g){Io(u);const _=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pt(u,"ready");try{_.onreadystatechange=w}catch{}}}function Io(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),oi(p)}};function Ca(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function So(u){const p={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(ae(u[w]))continue;var _=N(u[w]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=p[M]||[];p[M]=$,$.push(_)}P(p,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function Pa(u){this.Aa=0,this.i=[],this.j=new Ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(u&&u.concurrentRequestLimit),this.Da=new Th,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pa.prototype,n.la=8,n.G=1,n.connect=function(u,p,_,w){lt(0),this.W=u,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=tu(this,null,this.W),Hr(this)};function jt(u){if(Ao(u),u.G==3){var p=u.U++,_=bn(u.I);if(tt(_,"SID",u.K),tt(_,"RID",p),tt(_,"TYPE","terminate"),gi(u,_),p=new _n(u,u.j,p),p.L=2,p.v=Bi(bn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=p.v,_=!0),_||(p.g=nu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ne(p)}eu(u)}function Tr(u){u.g&&(ka(u),u.g.cancel(),u.g=null)}function Ao(u){Tr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Po(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Hr(u){if(!Dn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ve||se(),te||(Ve(),te=!0),ve.add(p,u),u.B=0}}function Sh(u,p){return Bl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=On(b(u.Ga,u,p),Zl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new _n(this,this.j,u);let $=this.o;if(this.S&&($?($=I($),k($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Wi(this,M,p),_=bn(this.I),tt(_,"RID",u),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),gi(this,_),$&&(this.O?p="headers="+encodeURIComponent(String(mi($)))+"&"+p:this.m&&qi(_,this.m,$)),Ia(this.h,M),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",p),tt(_,"SID","null"),M.T=!0,J(M,_,null)):J(M,_,p),this.G=2}}else this.G==3&&(u?Ro(this,u):this.i.length==0||Dn(this.h)||Ro(this))};function Ro(u,p){var _;p?_=p.l:_=u.U++;const w=bn(u.I);tt(w,"SID",u.K),tt(w,"RID",_),tt(w,"AID",u.T),gi(u,w),u.m&&u.o&&qi(w,u.m,u.o),_=new _n(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Wi(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ia(u.h,_),J(_,w,p)}function gi(u,p){u.H&&we(u.H,function(_,w){tt(p,w,_)}),u.l&&Ui({},function(_,w){tt(p,w,_)})}function Wi(u,p,_){_=Math.min(u.i.length,_);var w=u.l?b(u.l.Na,u.l,u):null;e:{var M=u.i;let $=-1;for(;;){const ne=["count="+_];$==-1?0<_?($=M[0].g,ne.push("ofs="+$)):$=0:ne.push("ofs="+$);let Je=!0;for(let Rt=0;Rt<_;Rt++){let qe=M[Rt].g;const bt=M[Rt].map;if(qe-=$,0>qe)$=Math.max(0,M[Rt].g-100),Je=!1;else try{Yl(bt,ne,"req"+qe+"_")}catch{w&&w(bt)}}if(Je){w=ne.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,w}function Ms(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ve||se(),te||(Ve(),te=!0),ve.add(p,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=On(b(u.Fa,u),Zl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=On(b(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Tr(this),Jl(this))};function ka(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Jl(u){u.g=new _n(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=bn(u.qa);tt(p,"RID","rpc"),tt(p,"SID",u.K),tt(p,"AID",u.T),tt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&tt(p,"TO",u.ja),tt(p,"TYPE","xmlhttp"),gi(u,p),u.m&&u.o&&qi(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Bi(bn(p)),_.m=null,_.P=!0,he(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Tr(this),Co(this),lt(19))};function Po(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ko(u,p){var _=null;if(u.g==p){Po(u),ka(u),u.g=null;var w=2}else if(an(u.h,p))_=p.D,$l(u.h,p),w=1;else return;if(u.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var M=u.B;w=mn(),pt(w,new ci(w,_)),Hr(u)}else Ms(u);else if(M=p.s,M==3||M==0&&0<p.X||!(w==1&&Sh(u,p)||w==2&&Co(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),M){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Zl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function yi(u,p){if(u.j.info("Error code "+p),p==2){var _=b(u.fb,u),w=u.Xa;const M=!w;w=new fi(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ds(w,"https"),Bi(w),M?wh(w.toString(),_):Ql(w.toString(),_)}else lt(2);u.G=0,u.l&&u.l.sa(p),eu(u),Ao(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function eu(u){if(u.G=0,u.ka=[],u.l){const p=Hl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function tu(u,p,_){var w=_ instanceof fi?bn(_):new fi(_);if(w.g!="")p&&(w.g=p+"."+w.g),ji(w,w.s);else{var M=d.location;w=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var $=new fi(null);w&&Ds($,w),p&&($.g=p),M&&ji($,M),_&&($.l=_),w=$}return _=u.D,p=u.ya,_&&p&&tt(w,_,p),tt(w,"VER",u.la),gi(u,w),w}function nu(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ut(new pi({eb:_})):new ut(u.pa),p.Ha(u.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Na(){}n=Na.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function No(){}No.prototype.g=function(u,p){return new ln(u,p)};function ln(u,p){nt.call(this),this.g=new Pa(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!ae(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ae(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new qr(this)}j(ln,nt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){jt(this.g)},ln.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Xn(u),u=_);p.i.push(new Ns(p.Ya++,u)),p.G==3&&Hr(p)},ln.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,ln.aa.N.call(this)};function ru(u){Wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}j(ru,Wt);function iu(){Vi.call(this),this.status=1}j(iu,Vi);function qr(u){this.g=u}j(qr,Na),qr.prototype.ua=function(){pt(this.g,"a")},qr.prototype.ta=function(u){pt(this.g,new ru(u))},qr.prototype.sa=function(u){pt(this.g,new iu)},qr.prototype.ra=function(){pt(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Pw=function(){return new No},Cw=function(){return mn()},Rw=Jn,Ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,mc=Kt,ks.COMPLETE="complete",Aw=ks,yr.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",nt.prototype.listen=nt.prototype.K,ul=yr,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,Sw=ut}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",C_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new Zc("@firebase/firestore");function Jo(){return ao.logLevel}function le(n,...e){if(ao.logLevel<=Ue.DEBUG){const t=e.map(vp);ao.debug(`Firestore (${_a}): ${n}`,...t)}}function Di(n,...e){if(ao.logLevel<=Ue.ERROR){const t=e.map(vp);ao.error(`Firestore (${_a}): ${n}`,...t)}}function aa(n,...e){if(ao.logLevel<=Ue.WARN){const t=e.map(vp);ao.warn(`Firestore (${_a}): ${n}`,...t)}}function vp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+n;throw Di(e),new Error(e)}function Ye(n,e){n||Ae()}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class U1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class j1{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let i=this.i;const o=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ys,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ys)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string"),new kw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Zt(e)}}class z1{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class B1{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new z1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $1{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ur(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new P_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=H1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function $e(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,N_=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*N_);return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<k_)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Nt(0,0))}static max(){return new ke(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class Xr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=Xr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Xr.isNumericId(e),o=Xr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class ot extends Xr{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Xr{construct(e,t,i){return new Ht(e,t,i)}static isValidIdentifier(e){return q1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new Ht([x_])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(l(),o++)}if(l(),c)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=-1;function W1(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new vs(o,Ee.empty(),e)}function K1(n){return new vs(n.readTime,n.key,Tl)}class vs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new vs(ke.min(),Ee.empty(),Tl)}static max(){return new vs(ke.max(),Ee.empty(),Tl)}}function G1(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==Q1)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,i)=>{t(e)})}static reject(e){return new G((t,i)=>{i(e)})}static waitFor(e){return new G((t,i)=>{let o=0,l=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++l,c&&l===o&&t()},m=>i(m))}),c=!0,l===o&&t()})}static or(e){let t=G.resolve(!1);for(const i of e)t=t.next(o=>o?G.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new G((i,o)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next(E=>{c[y]=E,++d,d===l&&i(c)},E=>o(E))}})}static doWhile(e,t){return new G((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function X1(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ea(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function oh(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function J1(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="";function Z1(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O_(e)),e=eN(n.get(t),e);return O_(e)}function eN(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case xw:t+="";break;default:t+=l}}return t}function O_(n){return n+xw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ow(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||$t.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}}class nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??$t.RED,this.left=o??$t.EMPTY,this.right=l??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new $t(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,o,l){return this}insert(e,t,i){return new $t(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xt(this.comparator);return t.data=e,t}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new xt(Ht.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dw("Invalid base64 string: "+l):l}}(e);return new qt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const tN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(n){if(Ye(!!n),typeof n=="string"){let e=0;const t=tN.exec(n);if(Ye(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ws(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="server_timestamp",Lw="__type__",Mw="__previous_value__",Vw="__local_write_time__";function wp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lw])===null||t===void 0?void 0:t.stringValue)===bw}function ah(n){const e=n.mapValue.fields[Mw];return wp(e)?ah(e):e}function Il(n){const e=Es(n.mapValue.fields[Vw].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,i,o,l,c,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=y}}const Lc="(default)";class Sl{constructor(e,t){this.projectId=e,this.database=t||Lc}static empty(){return new Sl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(e){return e instanceof Sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="__type__",rN="__max__",rc={mapValue:{}},Uw="__vector__",Mc="value";function Ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wp(n)?4:sN(n)?9007199254740991:iN(n)?10:11:Ae()}function ri(n,e){if(n===e)return!0;const t=Ts(n);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Il(n).isEqual(Il(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Es(o.timestampValue),d=Es(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ws(o.bytesValue).isEqual(ws(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=vt(o.doubleValue),d=vt(l.doubleValue);return c===d?bc(c)===bc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(D_(c)!==D_(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ri(c[m],d[m])))return!1;return!0}(n,e);default:return Ae()}}function Al(n,e){return(n.values||[]).find(t=>ri(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=Ts(n),i=Ts(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=vt(l.integerValue||l.doubleValue),m=vt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return L_(n.timestampValue,e.timestampValue);case 4:return L_(Il(n),Il(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ws(l),m=ws(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let y=0;y<d.length&&y<m.length;y++){const E=$e(d[y],m[y]);if(E!==0)return E}return $e(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=$e(vt(l.latitude),vt(c.latitude));return d!==0?d:$e(vt(l.longitude),vt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return M_(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,y,E;const T=l.fields||{},b=c.fields||{},B=(d=T[Mc])===null||d===void 0?void 0:d.arrayValue,j=(m=b[Mc])===null||m===void 0?void 0:m.arrayValue,q=$e(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((E=j==null?void 0:j.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:M_(B,j)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===rc.mapValue&&c===rc.mapValue)return 0;if(l===rc.mapValue)return 1;if(c===rc.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),y=c.fields||{},E=Object.keys(y);m.sort(),E.sort();for(let T=0;T<m.length&&T<E.length;++T){const b=$e(m[T],E[T]);if(b!==0)return b;const B=ua(d[m[T]],y[E[T]]);if(B!==0)return B}return $e(m.length,E.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function L_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Es(n),i=Es(e),o=$e(t.seconds,i.seconds);return o!==0?o:$e(t.nanos,i.nanos)}function M_(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=ua(t[o],i[o]);if(l)return l}return $e(t.length,i.length)}function ca(n){return Uf(n)}function Uf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Es(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ws(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Uf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Uf(t.fields[c])}`;return o+"}"}(n.mapValue):Ae()}function gc(n){switch(Ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(n);return e?16+gc(e):16;case 5:return 2*n.stringValue.length;case 6:return ws(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+gc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ho(i.fields,(l,c)=>{o+=l.length+gc(c)}),o}(n.mapValue);default:throw Ae()}}function V_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jf(n){return!!n&&"integerValue"in n}function Tp(n){return!!n&&"arrayValue"in n}function F_(n){return!!n&&"nullValue"in n}function U_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yc(n){return!!n&&"mapValue"in n}function iN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Fw])===null||t===void 0?void 0:t.stringValue)===Uw}function pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=pl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(t)}setAll(e){let t=Ht.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=pl(c):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ho(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new cr(pl(this.value))}}function jw(n){const e=[];return ho(n.fields,(t,i)=>{const o=new Ht([t]);if(yc(i)){const l=jw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,o,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,ke.min(),ke.min(),ke.min(),cr.empty(),0)}static newFoundDocument(e,t,i,o){return new en(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new en(e,2,t,ke.min(),ke.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,ke.min(),ke.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.position=e,this.inclusive=t}}function j_(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=ua(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function z_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t="asc"){this.field=e,this.dir=t}}function oN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{}class St extends zw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new lN(e,t,i):t==="array-contains"?new hN(e,i):t==="in"?new dN(e,i):t==="not-in"?new fN(e,i):t==="array-contains-any"?new pN(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new uN(e,i):new cN(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends zw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Dr(e,t)}matches(e){return Bw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Bw(n){return n.op==="and"}function $w(n){return aN(n)&&Bw(n)}function aN(n){for(const e of n.filters)if(e instanceof Dr)return!1;return!0}function zf(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ca(n.value);if($w(n))return n.filters.map(e=>zf(e)).join(",");{const e=n.filters.map(t=>zf(t)).join(",");return`${n.op}(${e})`}}function Hw(n,e){return n instanceof St?function(i,o){return o instanceof St&&i.op===o.op&&i.field.isEqual(o.field)&&ri(i.value,o.value)}(n,e):n instanceof Dr?function(i,o){return o instanceof Dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,d)=>l&&Hw(c,o.filters[d]),!0):!1}(n,e):void Ae()}function qw(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(qw).join(" ,")+"}"}(n):"Filter"}class lN extends St{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class uN extends St{constructor(e,t){super(e,"in",t),this.keys=Ww("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cN extends St{constructor(e,t){super(e,"not-in",t),this.keys=Ww("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ww(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class hN extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tp(t)&&Al(t.arrayValue,this.value)}}class dN extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}}class fN extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Al(this.value.arrayValue,t)}}class pN extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t=null,i=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function B_(n,e=null,t=[],i=[],o=null,l=null,c=null){return new mN(n,e,t,i,o,l,c)}function Ip(n){const e=xe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>zf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ca(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ca(i)).join(",")),e.le=t}return e.le}function Sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Hw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z_(n.startAt,e.startAt)&&z_(n.endAt,e.endAt)}function Bf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t=null,i=[],o=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gN(n,e,t,i,o,l,c,d){return new wa(n,e,t,i,o,l,c,d)}function Kw(n){return new wa(n)}function $_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gw(n){return n.collectionGroup!==null}function ml(n){const e=xe(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new xt(Ht.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Rl(l,i))}),t.has(Ht.keyField().canonicalString())||e.he.push(new Rl(Ht.keyField(),i))}return e.he}function ei(n){const e=xe(n);return e.Pe||(e.Pe=yN(e,ml(n))),e.Pe}function yN(n,e){if(n.limitType==="F")return B_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Rl(o.field,l)});const t=n.endAt?new Vc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vc(n.startAt.position,n.startAt.inclusive):null;return B_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function $f(n,e){const t=n.filters.concat([e]);return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hf(n,e,t){return new wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lh(n,e){return Sp(ei(n),ei(e))&&n.limitType===e.limitType}function Qw(n){return`${Ip(ei(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>qw(o)).join(", ")}]`),oh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ca(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ca(o)).join(",")),`Target(${i})`}(ei(n))}; limitType=${n.limitType})`}function uh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of ml(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,m){const y=j_(c,d,m);return c.inclusive?y<=0:y<0}(i.startAt,ml(i),o)||i.endAt&&!function(c,d,m){const y=j_(c,d,m);return c.inclusive?y>=0:y>0}(i.endAt,ml(i),o))}(n,e)}function _N(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yw(n){return(e,t)=>{let i=!1;for(const o of ml(n)){const l=vN(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function vN(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),y=d.data.field(l);return m!==null&&y!==null?ua(m,y):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return Ow(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new ft(Ee.comparator);function bi(){return EN}const Xw=new ft(Ee.comparator);function cl(...n){let e=Xw;for(const t of n)e=e.insert(t.key,t);return e}function Jw(n){let e=Xw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function eo(){return gl()}function Zw(){return gl()}function gl(){return new fo(n=>n.toString(),(n,e)=>n.isEqual(e))}const wN=new ft(Ee.comparator),TN=new xt(Ee.comparator);function je(...n){let e=TN;for(const t of n)e=e.add(t);return e}const IN=new xt($e);function SN(){return IN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function eT(n){return{integerValue:""+n}}function AN(n,e){return J1(e)?eT(e):Ap(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function RN(n,e,t){return n instanceof Cl?function(o,l){const c={fields:{[Lw]:{stringValue:bw},[Vw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&wp(l)&&(l=ah(l)),l&&(c.fields[Mw]=l),{mapValue:c}}(t,e):n instanceof Pl?nT(n,e):n instanceof kl?rT(n,e):function(o,l){const c=tT(o,l),d=H_(c)+H_(o.Ie);return jf(c)&&jf(o.Ie)?eT(d):Ap(o.serializer,d)}(n,e)}function CN(n,e,t){return n instanceof Pl?nT(n,e):n instanceof kl?rT(n,e):t}function tT(n,e){return n instanceof Fc?function(i){return jf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Cl extends ch{}class Pl extends ch{constructor(e){super(),this.elements=e}}function nT(n,e){const t=iT(e);for(const i of n.elements)t.some(o=>ri(o,i))||t.push(i);return{arrayValue:{values:t}}}class kl extends ch{constructor(e){super(),this.elements=e}}function rT(n,e){let t=iT(e);for(const i of n.elements)t=t.filter(o=>!ri(o,i));return{arrayValue:{values:t}}}class Fc extends ch{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function H_(n){return vt(n.integerValue||n.doubleValue)}function iT(n){return Tp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.field=e,this.transform=t}}function kN(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Pl&&o instanceof Pl||i instanceof kl&&o instanceof kl?la(i.elements,o.elements,ri):i instanceof Fc&&o instanceof Fc?ri(i.Ie,o.Ie):i instanceof Cl&&o instanceof Cl}(n.transform,e.transform)}class NN{constructor(e,t){this.version=e,this.transformResults=t}}class Ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _c(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hh{}function sT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new aT(n.key,Ni.none()):new Fl(n.key,n.data,Ni.none());{const t=n.data,i=cr.empty();let o=new xt(Ht.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new po(n.key,i,new Nr(o.toArray()),Ni.none())}}function xN(n,e,t){n instanceof Fl?function(o,l,c){const d=o.value.clone(),m=W_(o.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof po?function(o,l,c){if(!_c(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=W_(o.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(oT(o)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function yl(n,e,t,i){return n instanceof Fl?function(l,c,d,m){if(!_c(l.precondition,c))return d;const y=l.value.clone(),E=K_(l.fieldTransforms,m,c);return y.setAll(E),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof po?function(l,c,d,m){if(!_c(l.precondition,c))return d;const y=K_(l.fieldTransforms,m,c),E=c.data;return E.setAll(oT(l)),E.setAll(y),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return _c(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function ON(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=tT(i.transform,o||null);l!=null&&(t===null&&(t=cr.empty()),t.set(i.field,l))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&la(i,o,(l,c)=>kN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fl extends hh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class po extends hh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function W_(n,e,t){const i=new Map;Ye(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,d=e.data.field(l.field);i.set(l.field,CN(c,d,t[o]))}return i}function K_(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,RN(l,c,e))}return i}class aT extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DN extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&xN(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=yl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Zw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const m=sT(c,d);m!==null&&i.set(o.key,m),c.isValidDocument()||c.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,i)=>q_(t,i))&&la(this.baseMutations,e.baseMutations,(t,i)=>q_(t,i))}}class Rp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ye(e.mutations.length===i.length);let o=function(){return wN}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Rp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,We;function VN(n){switch(n){case Q.OK:return Ae();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ae()}}function lT(n){if(n===void 0)return Di("GRPC error has no .code"),Q.UNKNOWN;switch(n){case It.OK:return Q.OK;case It.CANCELLED:return Q.CANCELLED;case It.UNKNOWN:return Q.UNKNOWN;case It.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case It.INTERNAL:return Q.INTERNAL;case It.UNAVAILABLE:return Q.UNAVAILABLE;case It.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case It.NOT_FOUND:return Q.NOT_FOUND;case It.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case It.ABORTED:return Q.ABORTED;case It.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case It.DATA_LOSS:return Q.DATA_LOSS;default:return Ae()}}(We=It||(It={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new gs([4294967295,4294967295],0);function G_(n){const e=FN().encode(n),t=new Iw;return t.update(e),new Uint8Array(t.digest())}function Q_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new gs([t,i],0),new gs([o,l],0)]}class Cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new hl(`Invalid padding: ${t}`);if(i<0)throw new hl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new hl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=gs.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(gs.fromNumber(i)));return o.compare(UN)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=G_(e),[i,o]=Q_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Cp(l,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=G_(e),[i,o]=Q_(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,o,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new dh(ke.min(),o,new ft($e),bi(),je())}}class Ul{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ul(i,t,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class uT{constructor(e,t){this.targetId=e,this.ge=t}}class cT{constructor(e,t,i=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Y_{constructor(){this.pe=0,this.ye=X_(),this.we=qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=je(),t=je(),i=je();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new Ul(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=X_()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class jN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bi(),this.$e=ic(),this.Ke=ic(),this.Ue=new ft($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Bf(l))if(i===0){const c=new Ee(l.path);this.ze(t,c,en.newNoDocument(c,ke.min()))}else Ye(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=ws(i).toUint8Array()}catch(m){if(m instanceof Dw)return aa("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Cp(c,o,l)}catch(m){return aa(m instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Bf(d.target)){const m=new Ee(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,en.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=je();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const y=this.Xe(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const o=new dh(e,t,this.Ue,this.Qe,i);return this.Qe=bi(),this.$e=ic(),this.Ke=ic(),this.Ue=new ft($e),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Y_,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new xt($e),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new xt($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Y_),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function ic(){return new ft(Ee.comparator)}function X_(){return new ft(Ee.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},BN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$N={and:"AND",or:"OR"};class HN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qf(n,e){return n.useProto3Json||oh(e)?e:{value:e}}function Uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qN(n,e){return Uc(n,e.toTimestamp())}function ti(n){return Ye(!!n),ke.fromTimestamp(function(t){const i=Es(t);return new Nt(i.seconds,i.nanos)}(n))}function Pp(n,e){return Wf(n,e).canonicalString()}function Wf(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dT(n){const e=ot.fromString(n);return Ye(yT(e)),e}function Kf(n,e){return Pp(n.databaseId,e.path)}function gf(n,e){const t=dT(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(pT(t))}function fT(n,e){return Pp(n.databaseId,e)}function WN(n){const e=dT(n);return e.length===4?ot.emptyPath():pT(e)}function Gf(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pT(n){return Ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function J_(n,e,t){return{name:Kf(n,e),fields:t.value.mapValue.fields}}function KN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string"),qt.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),qt.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const E=y.code===void 0?Q.UNKNOWN:lT(y.code);return new fe(E,y.message||"")}(c);t=new cT(i,o,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=gf(n,i.document.name),l=ti(i.document.updateTime),c=i.document.createTime?ti(i.document.createTime):ke.min(),d=new cr({mapValue:{fields:i.document.fields}}),m=en.newFoundDocument(o,l,c,d),y=i.targetIds||[],E=i.removedTargetIds||[];t=new vc(y,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=gf(n,i.document),l=i.readTime?ti(i.readTime):ke.min(),c=en.newNoDocument(o,l),d=i.removedTargetIds||[];t=new vc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=gf(n,i.document),l=i.removedTargetIds||[];t=new vc([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new MN(o,l),d=i.targetId;t=new uT(d,c)}}return t}function GN(n,e){let t;if(e instanceof Fl)t={update:J_(n,e.key,e.value)};else if(e instanceof aT)t={delete:Kf(n,e.key)};else if(e instanceof po)t={update:J_(n,e.key,e.data),updateMask:rx(e.fieldMask)};else{if(!(e instanceof DN))return Ae();t={verify:Kf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Cl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof kl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Fc)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:qN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(n,e.precondition)),t}function QN(n,e){return n&&n.length>0?(Ye(e!==void 0),n.map(t=>function(o,l){let c=o.updateTime?ti(o.updateTime):ti(l);return c.isEqual(ke.min())&&(c=ti(l)),new NN(c,o.transformResults||[])}(t,e))):[]}function YN(n,e){return{documents:[fT(n,e.path)]}}function XN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fT(n,o);const l=function(y){if(y.length!==0)return gT(Dr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:ea(b.field),direction:ex(b.dir)}}(E))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=qf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function JN(n){let e=WN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ye(i===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(T){const b=mT(T);return b instanceof Dr&&$w(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(j){return new Rl(ta(j.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,oh(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(T){const b=!!T.before,B=T.values||[];return new Vc(B,b)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const b=!T.before,B=T.values||[];return new Vc(B,b)}(t.endAt)),gN(e,o,c,l,d,"F",m,y)}function ZN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ta(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ta(t.unaryFilter.field);return St.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ta(t.unaryFilter.field);return St.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return St.create(ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(i=>mT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function ex(n){return zN[n]}function tx(n){return BN[n]}function nx(n){return $N[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Ht.fromServerFormat(n.fieldPath)}function gT(n){return n instanceof St?function(t){if(t.op==="=="){if(U_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(F_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(U_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(F_(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:tx(t.op),value:t.value}}}(n):n instanceof Dr?function(t){const i=t.getFilters().map(o=>gT(o));return i.length===1?i[0]:{compositeFilter:{op:nx(t.op),filters:i}}}(n):Ae()}function rx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t,i,o,l=ke.min(),c=ke.min(),d=qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.Tt=e}}function sx(n){const e=JN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.Tn=new ax}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(vs.min())}updateCollectionGroup(e,t,i){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class ax{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new xt(ot.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new xt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(_T,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ha(0)}static Un(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LruGarbageCollector",lx=1048576;function tv([n,e],[t,i]){const o=$e(n,t);return o===0?$e(e,i):o}class ux{constructor(e){this.Hn=e,this.buffer=new xt(tv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();tv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(ev,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ea(t)?le(ev,"Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.er(3e5)})}}class hx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return G.resolve(sh.ae);const i=new ux(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(Z_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z_):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,l,c,d,m,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Jo()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(y-m)+`ms
Total Duration: ${y-E}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function dx(n,e){return new hx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.changes=new fo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?G.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&yl(i.mutation,o,Nr.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=je()){const o=eo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=cl();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,je()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let l=bi();const c=gl(),d=function(){return gl()}();return t.forEach((m,y)=>{const E=i.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof po)?l=l.insert(y.key,y):E!==void 0?(c.set(y.key,E.mutation.getFieldMask()),yl(E.mutation,y,E.mutation.getFieldMask(),Nt.now())):c.set(y.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((y,E)=>c.set(y,E)),t.forEach((y,E)=>{var T;return d.set(y,new px(E,(T=c.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=gl();let o=new ft((c,d)=>c-d),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const y=t.get(m);if(y===null)return;let E=i.get(m)||Nr.empty();E=d.applyToLocalView(y,E),i.set(m,E);const T=(o.get(d.batchId)||je()).add(m);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),y=m.key,E=m.value,T=Zw();E.forEach(b=>{if(!l.has(b)){const B=sT(t.get(b),i.get(b));B!==null&&T.set(b,B),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return G.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):G.resolve(eo());let d=Tl,m=l;return c.next(y=>G.forEach(y,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(E)?G.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{m=m.insert(E,b)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,m,y,je())).next(E=>({batchId:d,changes:Jw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let o=cl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=cl();return this.indexManager.getCollectionParents(e,l).next(d=>G.forEach(d,m=>{const y=function(T,b){return new wa(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(E=>{E.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((m,y)=>{const E=y.getKey();c.get(E)===null&&(c=c.insert(E,en.newInvalidDocument(E)))});let d=cl();return c.forEach((m,y)=>{const E=l.get(m);E!==void 0&&yl(E.mutation,y,Nr.empty(),Nt.now()),uh(t,y)&&(d=d.insert(m,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:sx(o.bundledQuery),readTime:ti(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.overlays=new ft(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const i=eo();return G.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Et(e,t,l)}),G.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),G.resolve()}getOverlaysForCollection(e,t,i){const o=eo(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>i&&o.set(m.getKey(),m)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new ft((y,E)=>y-E);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let E=l.get(y.largestBatchId);E===null&&(E=eo(),l=l.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=eo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return G.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LN(t,i));let l=this.Rr.get(t);l===void 0&&(l=je(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Vr=new xt(Ft.mr),this.gr=new xt(Ft.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ft(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ee(new ot([])),i=new Ft(t,e),o=new Ft(t,e+1),l=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new ot([])),i=new Ft(t,e),o=new Ft(t,e+1);let l=je();return this.gr.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ft(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Ft.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bN(l,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(c)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),l=o<0?0:o;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Ep:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);l.push(d)}),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xt($e);return t.forEach(o=>{const l=new Ft(o,0),c=new Ft(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),G.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new Ee(l),0);let d=new xt($e);return this.Mr.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(m.Cr)),!0)},c),G.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return G.forEach(t.mutations,o=>{const l=new Ft(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ft(t,0),o=this.Mr.firstAfterOrEqual(i);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.kr=e,this.docs=function(){return new ft(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return G.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=bi();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():en.newInvalidDocument(o))}),G.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=bi();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:y,value:{document:E}}=m.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||G1(K1(E),i)<=0||(o.has(E.key)||uh(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ae()}qr(e,t){return G.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new wx(this)}getSize(e){return G.resolve(this.size)}}class wx extends fx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.persistence=e,this.Qr=new fo(t=>Ip(t),Sp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Kr=new kp,this.targetCount=0,this.Ur=ha.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(l).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return G.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),G.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),G.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return G.resolve(i)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new sh(0),this.zr=!1,this.zr=!0,this.jr=new _x,this.referenceDelegate=e(this),this.Hr=new Tx(this),this.indexManager=new ox,this.remoteDocumentCache=function(o){return new Ex(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new ix(t),this.Yr=new gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new vx(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new Ix(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return G.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class Ix extends Y1{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.ti=new kp,this.ni=null}static ri(e){return new Np(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),G.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,i=>{const o=Ee.fromPath(i);return this.si(e,o).next(l=>{l||t.removeEntry(o,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class jc{constructor(e,t){this.persistence=e,this.oi=new fo(i=>Z1(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=dx(this,t)}static ri(e,t){return new jc(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(l=>l?G.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,ke.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gc(e.data.value)),t}ar(e,t,i){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return G.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=je(),o=je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new xp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return U0()?8:X1(nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new Sx;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Jo()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Jo()<=Ue.DEBUG&&le("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Jo()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(t))):G.resolve())}rs(e,t){if($_(t))return G.resolve(null);let i=ei(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Hf(t,null,"F"),i=ei(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=je(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.cs(t,d);return this.ls(t,y,c,m.readTime)?this.rs(e,Hf(t,null,"F")):this.hs(e,y,t,m)}))})))}ss(e,t,i,o){return $_(t)||o.isEqual(ke.min())?G.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,o)?G.resolve(null):(Jo()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.hs(e,c,t,W1(o,Tl)).next(d=>d))})}cs(e,t){let i=new xt(Yw(e));return t.forEach((o,l)=>{uh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,i){return Jo()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ns.getDocumentsMatchingQuery(e,t,vs.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",Rx=3e8;class Cx{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ft($e),this.Is=new fo(l=>Ip(l),Sp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Px(n,e,t,i){return new Cx(n,e,t,i)}async function ET(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=je();for(const y of o){c.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}for(const y of l){d.push(y.batchId);for(const E of y.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(i,m).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function kx(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,y,E){const T=y.batch,b=T.keys();let B=G.resolve();return b.forEach(j=>{B=B.next(()=>E.getEntry(m,j)).next(q=>{const F=y.docVersions.get(j);Ye(F!==null),q.version.compareTo(F)<0&&(T.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),B.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=je();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(m=m.add(d.batch.mutations[y].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function wT(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Nx(n,e){const t=xe(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const b=o.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,T)));let B=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?B=B.withResumeToken(qt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,i)),o=o.insert(T,B),function(q,F,ue){return q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=Rx?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0}(b,B,E)&&d.push(t.Hr.updateTargetData(l,B))});let m=bi(),y=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(xx(l,c,e.documentUpdates).next(E=>{m=E.Vs,y=E.fs})),!i.isEqual(ke.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(E)}return G.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,y)).next(()=>m)}).then(l=>(t.Ts=o,l))}function xx(n,e,t){let i=je(),o=je();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=bi();return t.forEach((d,m)=>{const y=l.get(d);m.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):le(Op,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",m.version)}),{Vs:c,fs:o}})}function Ox(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ep),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Dx(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(l=>l?(o=l,G.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ds(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Qf(n,e,t){const i=xe(n),o=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ea(c))throw c;le(Op,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function nv(n,e,t){const i=xe(n);let o=ke.min(),l=je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,y,E){const T=xe(m),b=T.Is.get(E);return b!==void 0?G.resolve(T.Ts.get(b)):T.Hr.getTargetData(y,E)}(i,c,ei(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:ke.min(),t?l:je())).next(d=>(bx(i,_N(e),d),{documents:d,gs:l})))}function bx(n,e,t){let i=n.Es.get(e)||ke.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class rv{constructor(){this.activeTargetIds=SN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lx{constructor(){this.ho=new rv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new rv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class sv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(iv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(iv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Yf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",Vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Lc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,l){const c=Yf(),d=this.bo(e,t.toUriEncodedString());le(yf,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,l),this.vo(e,d,m,i).then(y=>(le(yf,`Received RPC '${e}' ${c}: `,y),y),y=>{throw aa(yf,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,l,c){return this.So(e,t,i,o,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const i=Vx[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class jx extends Fx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const l=Yf();return new Promise((c,d)=>{const m=new Sw;m.setWithCredentials(!0),m.listenOnce(Aw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case mc.NO_ERROR:const E=m.getResponseJson();le(Jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),c(E);break;case mc.TIMEOUT:le(Jt,`RPC '${e}' ${l} timed out`),d(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:const T=m.getStatus();if(le(Jt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const B=b==null?void 0:b.error;if(B&&B.status&&B.message){const j=function(F){const ue=F.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ue)>=0?ue:Q.UNKNOWN}(B.status);d(new fe(j,B.message))}else d(new fe(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(Jt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);le(Jt,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=Yf(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Pw(),d=Cw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const E=l.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,m);const T=c.createWebChannel(E,m);let b=!1,B=!1;const j=new Ux({Fo:F=>{B?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Mo:()=>T.close()}),q=(F,ue,ae)=>{F.listen(ue,ie=>{try{ae(ie)}catch(ce){setTimeout(()=>{throw ce},0)}})};return q(T,ul.EventType.OPEN,()=>{B||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),q(T,ul.EventType.CLOSE,()=>{B||(B=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),q(T,ul.EventType.ERROR,F=>{B||(B=!0,aa(Jt,`RPC '${e}' stream ${o} transport errored:`,F),j.Ko(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),q(T,ul.EventType.MESSAGE,F=>{var ue;if(!B){const ae=F.data[0];Ye(!!ae);const ie=ae,ce=(ie==null?void 0:ie.error)||((ue=ie[0])===null||ue===void 0?void 0:ue.error);if(ce){le(Jt,`RPC '${e}' stream ${o} received error:`,ce);const Re=ce.status;let we=function(R){const k=It[R];if(k!==void 0)return lT(k)}(Re),P=ce.message;we===void 0&&(we=Q.INTERNAL,P="Unknown error status: "+Re+" with message "+ce.message),B=!0,j.Ko(new fe(we,P)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,ae),j.Uo(ae)}}),q(d,Rw.STAT_EVENT,F=>{F.stat===Ff.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Ff.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function _f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(n){return new HN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class IT{constructor(e,t,i,o,l,c,d,m){this.Ti=e,this.n_=i,this.r_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new TT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new fe(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(le(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zx extends IT{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=KN(this.serializer,e),i=function(l){if(!("targetChange"in l))return ke.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?ti(c.readTime):ke.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Gf(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Bf(m)?{documents:YN(l,m)}:{query:XN(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=hT(l,c.resumeToken);const y=qf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=Uc(l,c.snapshotVersion.toTimestamp());const y=qf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=ZN(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Gf(this.serializer),t.removeTarget=e,this.I_(t)}}class Bx extends IT{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=QN(e.writeResults,e.commitTime),i=ti(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Gf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>GN(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{}class Hx extends $x{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Wf(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Q.UNKNOWN,l.toString())})}Co(e,t,i,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Wf(t,i),o,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Q.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Di(t),this.N_=!1):le("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class Wx{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{mo(this)&&(le(lo,"Restarting streams for network reachability change."),await async function(m){const y=xe(m);y.W_.add(4),await jl(y),y.j_.set("Unknown"),y.W_.delete(4),await ph(y)}(this))})}),this.j_=new qx(i,o)}}async function ph(n){if(mo(n))for(const e of n.G_)await e(!0)}async function jl(n){for(const e of n.G_)await e(!1)}function ST(n,e){const t=xe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Mp(t)?Lp(t):Ta(t).c_()&&bp(t,e))}function Dp(n,e){const t=xe(n),i=Ta(t);t.U_.delete(e),i.c_()&&AT(t,e),t.U_.size===0&&(i.c_()?i.P_():mo(t)&&t.j_.set("Unknown"))}function bp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).y_(e)}function AT(n,e){n.H_.Ne(e),Ta(n).w_(e)}function Lp(n){n.H_=new jN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.j_.B_()}function Mp(n){return mo(n)&&!Ta(n).u_()&&n.U_.size>0}function mo(n){return xe(n).W_.size===0}function RT(n){n.H_=void 0}async function Kx(n){n.j_.set("Online")}async function Gx(n){n.U_.forEach((e,t)=>{bp(n,e)})}async function Qx(n,e){RT(n),Mp(n)?(n.j_.q_(e),Lp(n)):n.j_.set("Unknown")}async function Yx(n,e,t){if(n.j_.set("Online"),e instanceof cT&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.U_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){le(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(n,i)}else if(e instanceof vc?n.H_.We(e):e instanceof uT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(ke.min()))try{const i=await wT(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.U_.get(y);E&&l.U_.set(y,E.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,y)=>{const E=l.U_.get(m);if(!E)return;l.U_.set(m,E.withResumeToken(qt.EMPTY_BYTE_STRING,E.snapshotVersion)),AT(l,m);const T=new ds(E.target,m,y,E.sequenceNumber);bp(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){le(lo,"Failed to raise snapshot:",i),await zc(n,i)}}async function zc(n,e,t){if(!Ea(e))throw e;n.W_.add(1),await jl(n),n.j_.set("Offline"),t||(t=()=>wT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(lo,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ph(n)})}function CT(n,e){return e().catch(t=>zc(n,t,e))}async function mh(n){const e=xe(n),t=Is(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ep;for(;Xx(e);)try{const o=await Ox(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,Jx(e,o)}catch(o){await zc(e,o)}PT(e)&&kT(e)}function Xx(n){return mo(n)&&n.K_.length<10}function Jx(n,e){n.K_.push(e);const t=Is(n);t.c_()&&t.S_&&t.b_(e.mutations)}function PT(n){return mo(n)&&!Is(n).u_()&&n.K_.length>0}function kT(n){Is(n).start()}async function Zx(n){Is(n).C_()}async function eO(n){const e=Is(n);for(const t of n.K_)e.b_(t.mutations)}async function tO(n,e,t){const i=n.K_.shift(),o=Rp.from(i,e,t);await CT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await mh(n)}async function nO(n,e){e&&Is(n).S_&&await async function(i,o){if(function(c){return VN(c)&&c!==Q.ABORTED}(o.code)){const l=i.K_.shift();Is(i).h_(),await CT(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await mh(i)}}(n,e),PT(n)&&kT(n)}async function av(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),le(lo,"RemoteStore received new credentials");const i=mo(t);t.W_.add(3),await jl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ph(t)}async function rO(n,e){const t=xe(n);e?(t.W_.delete(2),await ph(t)):e||(t.W_.add(2),await jl(t),t.j_.set("Unknown"))}function Ta(n){return n.J_||(n.J_=function(t,i,o){const l=xe(t);return l.M_(),new zx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:Kx.bind(null,n),No:Gx.bind(null,n),Lo:Qx.bind(null,n),p_:Yx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Mp(n)?Lp(n):n.j_.set("Unknown")):(await n.J_.stop(),RT(n))})),n.J_}function Is(n){return n.Y_||(n.Y_=function(t,i,o){const l=xe(t);return l.M_(),new Bx(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:Zx.bind(null,n),Lo:nO.bind(null,n),D_:eO.bind(null,n),v_:tO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await mh(n)):(await n.Y_.stop(),n.K_.length>0&&(le(lo,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,d=new Vp(e,t,c,o,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(n,e){if(Di("AsyncQueue",`${e}: ${n}`),Ea(n))return new fe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=cl(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new oa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Z_=new ft(Ee.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class da{constructor(e,t,i,o,l,c,d,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new da(e,t,oa.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sO{constructor(){this.queries=uv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=xe(t),l=o.queries;o.queries=uv(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new fe(Q.ABORTED,"Firestore shutting down"))}}function uv(){return new fo(n=>Qw(n),lh)}async function oO(n,e){const t=xe(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(i=2):(l=new iO,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Fp(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Up(t)}async function aO(n,e){const t=xe(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function lO(n,e){const t=xe(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&Up(t)}function uO(n,e,t){const i=xe(n),o=i.queries.get(e);if(o)for(const l of o.ta)l.onError(t);i.queries.delete(e)}function Up(n){n.ia.forEach(e=>{e.next()})}var Xf,cv;(cv=Xf||(Xf={}))._a="default",cv.Cache="cache";class cO{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new da(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Xf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.key=e}}class xT{constructor(e){this.key=e}}class hO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=Yw(e),this.wa=new oa(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new lv,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const b=o.get(E),B=uh(this.query,T)?T:null,j=!!b&&this.mutatedKeys.has(b.key),q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let F=!1;b&&B?b.data.isEqual(B.data)?j!==q&&(i.track({type:3,doc:B}),F=!0):this.va(b,B)||(i.track({type:2,doc:B}),F=!0,(m&&this.ya(B,m)>0||y&&this.ya(B,y)<0)&&(d=!0)):!b&&B?(i.track({type:0,doc:B}),F=!0):b&&!B&&(i.track({type:1,doc:b}),F=!0,(m||y)&&(d=!0)),F&&(B?(c=c.add(B),l=q?l.add(E):l.delete(E)):(c=c.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),l=l.delete(E.key),i.track({type:1,doc:E})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((E,T)=>function(B,j){const q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return q(B)-q(j)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,y=m!==this.ga;return this.ga=m,c.length!==0||y?{snapshot:new da(this.query,e.wa,l,c,e.mutatedKeys,m===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new xT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new NT(i))}),t}Oa(e){this.fa=e.gs,this.pa=je();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return da.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jp="SyncEngine";class dO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fO{constructor(e){this.key=e,this.Ba=!1}}class pO{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new fo(d=>Qw(d),lh),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Ee.comparator),this.Ka=new Map,this.Ua=new kp,this.Wa={},this.Ga=new Map,this.za=ha.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mO(n,e,t=!0){const i=VT(n);let o;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await OT(i,e,t,!0),o}async function gO(n,e){const t=VT(n);await OT(t,e,!0,!1)}async function OT(n,e,t,i){const o=await Dx(n.localStore,ei(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await yO(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&ST(n.remoteStore,o),d}async function yO(n,e,t,i,o){n.Ha=(T,b,B)=>async function(q,F,ue,ae){let ie=F.view.ba(ue);ie.ls&&(ie=await nv(q.localStore,F.query,!1).then(({documents:P})=>F.view.ba(P,ie)));const ce=ae&&ae.targetChanges.get(F.targetId),Re=ae&&ae.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(ie,q.isPrimaryClient,ce,Re);return dv(q,F.targetId,we.Ma),we.snapshot}(n,T,b,B);const l=await nv(n.localStore,e,!0),c=new hO(e,l.gs),d=c.ba(l.documents),m=Ul.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,m);dv(n,t,y.Ma);const E=new dO(e,t,c);return n.ka.set(e,E),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function _O(n,e,t){const i=xe(n),o=i.ka.get(e),l=i.qa.get(o.targetId);if(l.length>1)return i.qa.set(o.targetId,l.filter(c=>!lh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Qf(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Dp(i.remoteStore,o.targetId),Jf(i,o.targetId)}).catch(va)):(Jf(i,o.targetId),await Qf(i.localStore,o.targetId,!0))}async function vO(n,e){const t=xe(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Dp(t.remoteStore,i.targetId))}async function EO(n,e,t){const i=CO(n);try{const o=await function(c,d){const m=xe(c),y=Nt.now(),E=d.reduce((B,j)=>B.add(j.key),je());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",B=>{let j=bi(),q=je();return m.ds.getEntries(B,E).next(F=>{j=F,j.forEach((ue,ae)=>{ae.isValidDocument()||(q=q.add(ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(B,j)).next(F=>{T=F;const ue=[];for(const ae of d){const ie=ON(ae,T.get(ae.key).overlayedDocument);ie!=null&&ue.push(new po(ae.key,ie,jw(ie.value.mapValue),Ni.exists(!0)))}return m.mutationQueue.addMutationBatch(B,y,ue,d)}).next(F=>{b=F;const ue=F.applyToLocalDocumentSet(T,q);return m.documentOverlayCache.saveOverlays(B,F.batchId,ue)})}).then(()=>({batchId:b.batchId,changes:Jw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let y=c.Wa[c.currentUser.toKey()];y||(y=new ft($e)),y=y.insert(d,m),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await zl(i,o.changes),await mh(i.remoteStore)}catch(o){const l=Fp(o,"Failed to persist write");t.reject(l)}}async function DT(n,e){const t=xe(n);try{const i=await Nx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Ka.get(l);c&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?Ye(c.Ba):o.removedDocuments.size>0&&(Ye(c.Ba),c.Ba=!1))}),await zl(t,i,e)}catch(i){await va(i)}}function hv(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const m=xe(c);m.onlineState=d;let y=!1;m.queries.forEach((E,T)=>{for(const b of T.ta)b.sa(d)&&(y=!0)}),y&&Up(m)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function wO(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),l=o&&o.key;if(l){let c=new ft(Ee.comparator);c=c.insert(l,en.newNoDocument(l,ke.min()));const d=je().add(l),m=new dh(ke.min(),new Map,new ft($e),c,d);await DT(i,m),i.$a=i.$a.remove(l),i.Ka.delete(e),zp(i)}else await Qf(i.localStore,e,!1).then(()=>Jf(i,e,t)).catch(va)}async function TO(n,e){const t=xe(n),i=e.batch.batchId;try{const o=await kx(t.localStore,e);LT(t,i,null),bT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await zl(t,o)}catch(o){await va(o)}}async function IO(n,e,t){const i=xe(n);try{const o=await function(c,d){const m=xe(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return m.mutationQueue.lookupMutationBatch(y,d).next(T=>(Ye(T!==null),E=T.keys(),m.mutationQueue.removeMutationBatch(y,T))).next(()=>m.mutationQueue.performConsistencyCheck(y)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>m.localDocuments.getDocuments(y,E))})}(i.localStore,e);LT(i,e,t),bT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await zl(i,o)}catch(o){await va(o)}}function bT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function LT(n,e,t){const i=xe(n);let o=i.Wa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||MT(n,i)})}function MT(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Dp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),zp(n))}function dv(n,e,t){for(const i of t)i instanceof NT?(n.Ua.addReference(i.key,e),SO(n,i)):i instanceof xT?(le(jp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||MT(n,i.key)):Ae()}function SO(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(le(jp,"New document in limbo: "+t),n.Qa.add(i),zp(n))}function zp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ee(ot.fromString(e)),i=n.za.next();n.Ka.set(i,new fO(t)),n.$a=n.$a.insert(t,i),ST(n.remoteStore,new ds(ei(Kw(t.path)),i,"TargetPurposeLimboResolution",sh.ae))}}async function zl(n,e,t){const i=xe(n),o=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,t).then(y=>{var E;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(y){o.push(y);const T=xp.Yi(m.targetId,y);l.push(T)}}))}),await Promise.all(c),i.La.p_(o),await async function(m,y){const E=xe(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>G.forEach(y,b=>G.forEach(b.Hi,B=>E.persistence.referenceDelegate.addReference(T,b.targetId,B)).next(()=>G.forEach(b.Ji,B=>E.persistence.referenceDelegate.removeReference(T,b.targetId,B)))))}catch(T){if(!Ea(T))throw T;le(Op,"Failed to update sequence numbers: "+T)}for(const T of y){const b=T.targetId;if(!T.fromCache){const B=E.Ts.get(b),j=B.snapshotVersion,q=B.withLastLimboFreeSnapshotVersion(j);E.Ts=E.Ts.insert(b,q)}}}(i.localStore,l))}async function AO(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){le(jp,"User change. New user:",e.toKey());const i=await ET(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new fe(Q.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zl(t,i.Rs)}}function RO(n,e){const t=xe(n),i=t.Ka.get(e);if(i&&i.Ba)return je().add(i.key);{let o=je();const l=t.qa.get(e);if(!l)return o;for(const c of l){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function VT(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wO.bind(null,e),e.La.p_=lO.bind(null,e.eventManager),e.La.Ja=uO.bind(null,e.eventManager),e}function CO(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IO.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Px(this.persistence,new Ax,e.initialUser,this.serializer)}Xa(e){return new vT(Np.ri,this.serializer)}Za(e){return new Lx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class PO extends Bc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof jc);const i=this.persistence.referenceDelegate.garbageCollector;return new cx(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new vT(i=>jc.ri(i,t),this.serializer)}}class Zf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sO}()}createDatastore(e){const t=fh(e.databaseInfo.databaseId),i=function(l){return new jx(l)}(e.databaseInfo);return function(l,c,d,m){return new Hx(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,d){return new Wx(i,o,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>hv(this.syncEngine,t,0),function(){return sv.D()?new sv:new Mx}())}createSyncEngine(e,t){return function(o,l,c,d,m,y,E){const T=new pO(o,l,c,d,m,y);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=xe(o);le(lo,"RemoteStore shutting down."),l.W_.add(5),await jl(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class NO{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{le(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Fp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vf(n,e){n.asyncQueue.verifyOperationInProgress(),le(Ss,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await ET(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function fv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xO(n);le(Ss,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>av(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>av(e.remoteStore,o)),n._onlineComponents=e}async function xO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ss,"Using user provided OfflineComponentProvider");try{await vf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await vf(n,new Bc)}}else le(Ss,"Using default OfflineComponentProvider"),await vf(n,new PO(void 0));return n._offlineComponents}async function FT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ss,"Using user provided OnlineComponentProvider"),await fv(n,n._uninitializedComponentsProvider._online)):(le(Ss,"Using default OnlineComponentProvider"),await fv(n,new Zf))),n._onlineComponents}function OO(n){return FT(n).then(e=>e.syncEngine)}async function DO(n){const e=await FT(n),t=e.eventManager;return t.onListen=mO.bind(null,e.syncEngine),t.onUnlisten=_O.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vO.bind(null,e.syncEngine),t}function bO(n,e,t={}){const i=new ys;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,y){const E=new kO({next:b=>{E.su(),c.enqueueAndForget(()=>aO(l,T)),b.fromCache&&m.source==="server"?y.reject(new fe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),T=new cO(d,E,{includeMetadataChanges:!0,Ta:!0});return oO(l,T)}(await DO(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n,e,t){if(!t)throw new fe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LO(n,e,t,i){if(e===!0&&i===!0)throw new fe(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mv(n){if(!Ee.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gv(n){if(Ee.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function $c(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gh(n);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firestore.googleapis.com",yv=!0;class _v{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=yv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:yv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lx)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new F1;switch(i.type){case"firstParty":return new B1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=pv.get(t);i&&(le("ComponentProvider","Removing Datastore"),pv.delete(t),i.terminate())}(this),Promise.resolve()}}function MO(n,e,t,i={}){var o;const l=(n=$c(n,yh))._getSettings(),c=`${e}:${t}`;if(l.host!==zT&&l.host!==c&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=Zt.MOCK_USER;else{d=D0(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zt(y)}n._authCredentials=new U1(new kw(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class fr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class _s extends go{constructor(e,t,i){super(e,t,Kw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ee(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function vv(n,e,...t){if(n=rn(n),jT("collection","path",e),n instanceof yh){const i=ot.fromString(e,...t);return gv(i),new _s(n,null,i)}{if(!(n instanceof fr||n instanceof _s))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return gv(i),new _s(n.firestore,null,i)}}function VO(n,e,...t){if(n=rn(n),arguments.length===1&&(e=Nw.newId()),jT("doc","path",e),n instanceof yh){const i=ot.fromString(e,...t);return mv(i),new fr(n,null,new Ee(i))}{if(!(n instanceof fr||n instanceof _s))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return mv(i),new fr(n.firestore,n instanceof _s?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new TT(this,"async_queue_retry"),this.Su=()=>{const i=_f();i&&le(Ev,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=_f();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=_f();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ys;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ea(e))throw e;le(Ev,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Di("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Vp.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Bp extends yh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new wv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function FO(n,e){const t=typeof n=="object"?n:yE(),i=typeof n=="string"?n:Lc,o=Dl(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=x0("firestore");l&&MO(o,...l)}return o}function BT(n){if(n._terminated)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UO(n),n._firestoreClient}function UO(n){var e,t,i;const o=n._freezeSettings(),l=function(d,m,y,E){return new nN(d,m,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,UT(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new NO(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(qt.fromBase64String(e))}catch(t){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^__.*__$/;class zO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fl(e,this.data,t,this.fieldTransforms)}}function $T(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Kp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Hc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($T(this.Lu)&&jO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class BO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||fh(e)}ju(e,t,i,o=!1){return new Kp({Lu:e,methodName:t,zu:i,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HT(n){const e=n._freezeSettings(),t=fh(n._databaseId);return new BO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $O(n,e,t,i,o,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,o);KT("Data must be an object, but it was:",c,i);const d=qT(i,c);let m,y;if(l.merge)m=new Nr(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const E=[];for(const T of l.mergeFields){const b=qO(e,T,t);if(!c.contains(b))throw new fe(Q.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);KO(E,b)||E.push(b)}m=new Nr(E),y=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,y=c.fieldTransforms;return new zO(new cr(d),m,y)}class Gp extends Hp{_toFieldTransform(e){return new PN(e.path,new Cl)}isEqual(e){return e instanceof Gp}}function HO(n,e,t,i=!1){return Qp(t,n.ju(i?4:3,e))}function Qp(n,e){if(WT(n=rn(n)))return KT("Unsupported field value:",e,n),qT(n,e);if(n instanceof Hp)return function(i,o){if(!$T(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const d of i){let m=Qp(d,o.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return AN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:Uc(o.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,l)}}if(i instanceof qp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fa)return{bytesValue:hT(o.serializer,i._byteString)};if(i instanceof fr){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Wp)return function(c,d){return{mapValue:{fields:{[Fw]:{stringValue:Uw},[Mc]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return Ap(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${gh(i)}`)}(n,e)}function qT(n,e){const t={};return Ow(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,(i,o)=>{const l=Qp(o,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function WT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof qp||n instanceof fa||n instanceof fr||n instanceof Hp||n instanceof Wp)}function KT(n,e,t){if(!WT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=gh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function qO(n,e,t){if((e=rn(e))instanceof $p)return e._internalPath;if(typeof e=="string")return GT(n,e);throw Hc("Field path arguments must be of type string or ",n,!1,void 0,t)}const WO=new RegExp("[~\\*/\\[\\]]");function GT(n,e,t){if(e.search(WO)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $p(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Hc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${o}`),m+=")"),new fe(Q.INVALID_ARGUMENT,d+n+m)}function KO(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_h("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GO extends QT{data(){return super.data()}}function _h(n,e){return typeof e=="string"?GT(n,e):e instanceof $p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yp{}class YT extends Yp{}function YO(n,e,...t){let i=[];e instanceof Yp&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Xp).length,d=l.filter(m=>m instanceof vh).length;if(c>1||c>0&&d>0)throw new fe(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class vh extends YT{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new vh(e,t,i)}_apply(e){const t=this._parse(e);return XT(e._query,t),new go(e.firestore,e.converter,$f(e._query,t))}_parse(e){const t=HT(e.firestore);return function(l,c,d,m,y,E,T){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Iv(T,E);const j=[];for(const q of T)j.push(Tv(m,l,q));b={arrayValue:{values:j}}}else b=Tv(m,l,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Iv(T,E),b=HO(d,c,T,E==="in"||E==="not-in");return St.create(y,E,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function XO(n,e,t){const i=e,o=_h("where",n);return vh._create(o,i,t)}class Xp extends Yp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let c=o;const d=l.getFlattenedFilters();for(const m of d)XT(c,m),c=$f(c,m)}(e._query,t),new go(e.firestore,e.converter,$f(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jp extends YT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jp(e,t)}_apply(e){const t=function(o,l,c){if(o.startAt!==null)throw new fe(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rl(l,c)}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(o,l){const c=o.explicitOrderBy.concat([l]);return new wa(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function JO(n,e="asc"){const t=e,i=_h("orderBy",n);return Jp._create(i,t)}function Tv(n,e,t){if(typeof(t=rn(t))=="string"){if(t==="")throw new fe(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gw(e)&&t.indexOf("/")!==-1)throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!Ee.isDocumentKey(i))throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return V_(n,new Ee(i))}if(t instanceof fr)return V_(n,t._key);throw new fe(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gh(t)}.`)}function Iv(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XT(n,e){const t=function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ZO{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ho(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Mc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>vt(c.doubleValue));return new Wp(l)}convertGeoPoint(e){return new qp(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ah(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const t=Es(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Ye(yT(i));const o=new Sl(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return o.isEqual(t)||Di(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tD extends QT{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_h("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ec extends tD{data(e={}){return super.data(e)}}class nD{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new oc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ec(this._firestore,this._userDataWriter,i.key,i,new oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const m=new Ec(o._firestore,o._userDataWriter,d.doc.key,d.doc,new oc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Ec(o._firestore,o._userDataWriter,d.doc.key,d.doc,new oc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),E=c.indexOf(d.doc.key)),{type:rD(d.type),doc:m,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class iD extends ZO{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function sD(n){n=$c(n,go);const e=$c(n.firestore,Bp),t=BT(e),i=new iD(e);return QO(n._query),bO(t,n._query).then(o=>new nD(e,i,n,o))}function oD(n,e){const t=$c(n.firestore,Bp),i=VO(n),o=eD(n.converter,e);return aD(t,[$O(HT(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}function aD(n,e){return function(i,o){const l=new ys;return i.asyncQueue.enqueueAndForget(async()=>EO(await OO(i),o,l)),l.promise}(BT(n),e)}function lD(){return new Gp("serverTimestamp")}(function(e,t=!0){(function(o){_a=o})(ga),ni(new xr("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Bp(new j1(i.getProvider("auth-internal")),new $1(c,i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sl(y.options.projectId,E)}(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),hr(R_,C_,e),hr(R_,C_,"esm2017")})();const uD={apiKey:"AIzaSyBMUx5gYQJgwtfeDUKyN0tdHUTaWsmlK90",authDomain:"netly-dbb77.firebaseapp.com",projectId:"netly-dbb77",storageBucket:"netly-dbb77.firebasestorage.app",messagingSenderId:"438128479308",appId:"1:438128479308:web:780fff2e569568654438e9",measurementId:"G-LKXZTVGN5Z"},JT=gE(uD),qc=vk(JT),Sv=FO(JT),cD=({onClose:n})=>{const[e,t]=kt.useState(""),[i,o]=kt.useState(""),[l,c]=kt.useState(""),d=async m=>{m.preventDefault(),c("");try{await rP(qc,e,i),console.log("Sign-up successful!"),n()}catch(y){c(y.message),console.error("Sign-up error:",y)}};return K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10",children:[K.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Sign Up"}),l&&K.jsx("p",{className:"text-red-400 mb-2",children:l}),K.jsxs("form",{onSubmit:d,className:"space-y-4",children:[K.jsxs("div",{children:[K.jsx("label",{className:"block text-white text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),K.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Email",value:e,onChange:m=>t(m.target.value),required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-white text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),K.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Password",value:i,onChange:m=>o(m.target.value),required:!0})]}),K.jsx("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Sign Up"})]})]})},hD=({onClose:n})=>{const[e,t]=kt.useState(""),[i,o]=kt.useState(""),[l,c]=kt.useState(""),d=async m=>{m.preventDefault(),c("");try{await iP(qc,e,i),console.log("Login successful!"),n()}catch(y){c(y.message),console.error("Login error:",y)}};return K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10",children:[K.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Login"}),l&&K.jsx("p",{className:"text-red-400 mb-2",children:l}),K.jsxs("form",{onSubmit:d,className:"space-y-4",children:[K.jsxs("div",{children:[K.jsx("label",{className:"block text-white text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),K.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Email",value:e,onChange:m=>t(m.target.value),required:!0})]}),K.jsxs("div",{children:[K.jsx("label",{className:"block text-white text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),K.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Password",value:i,onChange:m=>o(m.target.value),required:!0})]}),K.jsx("button",{type:"submit",className:"bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Login"})]})]})},dD=()=>{var Ze;const[n,e]=kt.useState(null),[t,i]=kt.useState(null),[o,l]=kt.useState(!0),[c,d]=kt.useState(!1),[m,y]=kt.useState(!1),E=kt.useRef(null),[T,b]=kt.useState(null),[B,j]=kt.useState(!1),[q,F]=kt.useState([]),[ue,ae]=kt.useState(!1);kt.useEffect(()=>aP(qc,Me=>{b(Me)}),[]),kt.useEffect(()=>{ie()},[]);const ie=async()=>{l(!0),i(null);try{const Pe=await gt.get("https://ipinfo.io/json",{headers:{Accept:"application/json"}}),Me={};for(const Ve in Pe.data)typeof Pe.data[Ve]=="string"?Me[Ve]=u0.sanitize(Pe.data[Ve]):Me[Ve]=Pe.data[Ve];e(Me)}catch(Pe){console.error("Primary API failed, trying fallback",Pe);try{const Me=await gt.get("https://api64.ipify.org?format=json");e({ip:Me.data.ip})}catch(Me){console.error("Both APIs failed",Me),i("Unable to fetch network info.")}}finally{l(!1)}},ce=Pe=>{navigator.clipboard.writeText(Pe),d(!0),setTimeout(()=>d(!1),2e3)},Re=async()=>{var Pe;if(!T){alert("Please log in to save network data.");return}if(!n){alert("No network data to save.");return}try{const Me=vv(Sv,"networkLogs");await oD(Me,{userId:T.uid,ipAddress:n.ip,isp:(Pe=n.org)==null?void 0:Pe.replace("AS",""),location:[n.city,n.region,n.country].filter(Boolean).join(", "),timezone:n.timezone,coordinates:n.loc,timestamp:lD()}),alert("Network data saved successfully!")}catch(Me){console.error("Error saving network data:",Me),alert("Failed to save network data.")}},we=async()=>{if(!T){alert("Please log in to view your logs.");return}ae(!0);try{const Pe=vv(Sv,"networkLogs"),Me=YO(Pe,XO("userId","==",T.uid),JO("timestamp","desc")),te=(await sD(Me)).docs.map(ve=>({id:ve.id,...ve.data()}));F(te)}catch(Pe){console.error("Error fetching user logs:",Pe),alert("Failed to fetch user logs.")}},P=()=>{ae(!1)},I=()=>K.jsxs("div",{className:"absolute top-0 left-0 w-full h-full bg-white/5 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-8 animate-expand flex flex-col items-center justify-center",children:[K.jsx("button",{onClick:()=>k(),className:"absolute top-2 right-2 p-2 hover:bg-white/10 rounded-full text-gray-400 z-10",children:K.jsx(sf,{className:"text-xl"})}),K.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Networking Concepts Used"}),K.jsx("p",{className:"text-white leading-relaxed text-center",children:"Netly utilizes several essential networking concepts. It uses HTTP and APIs to fetch and display network data, which are data transfer protocols. The program also uses the DNS system to resolve your connection to a server, and IP addresses to verify your location. Lastly, the application is able to quickly deliver this data to you because of the usage of a CDN. For security, the program is able to transmit this data safely by making usage of HTTPS, ensuring your personal information stays safe."})]}),R=()=>{E.current&&y(!0)},k=()=>{E.current&&(E.current.classList.add("animate-shrink"),setTimeout(()=>{y(!1),E.current.classList.remove("animate-shrink")},500))},N=async()=>{try{await lP(qc),console.log("User logged out")}catch(Pe){console.error("Logout error:",Pe),i("Logout failed.")}},L=()=>j(!0),A=()=>j(!1);return K.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-900 to-blue-900 flex items-center justify-center p-4",children:K.jsxs("div",{ref:E,className:`w-full max-w-4xl bg-white/5 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 overflow-hidden relative ${m?"h-full":""}`,children:[K.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[K.jsx("h1",{className:"text-5xl text-cyan-400 ",children:"Netly"}),K.jsxs("div",{className:"flex items-center",children:[K.jsx("button",{onClick:ie,className:"p-2 rounded-lg hover:bg-white/10 transition-colors mr-2",children:K.jsx(w0,{className:`text-cyan-400 text-xl ${o?"animate-spin":""}`})}),T&&K.jsxs(K.Fragment,{children:[K.jsx("button",{onClick:we,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2",children:"My Logs"}),K.jsx("button",{onClick:N,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Logout"})]}),!T&&K.jsx("button",{onClick:L,className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Login / Sign Up"})]})]}),o?K.jsxs("div",{className:"p-8 flex justify-center items-center space-x-3",children:[K.jsx("div",{className:"animate-pulse h-8 w-8 bg-cyan-400/30 rounded-full"}),K.jsx("span",{className:"text-cyan-400",children:"Fetching network data..."})]}):t?K.jsxs("div",{className:"p-8 text-red-400 flex items-center space-x-2",children:[K.jsx(T0,{className:"text-xl"}),K.jsx("span",{children:t})]}):n&&K.jsx(K.Fragment,{children:K.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-6 p-8 transition-opacity duration-500 ${m?"opacity-0":"opacity-100"}`,children:[K.jsxs("div",{className:"relative group",children:[K.jsx("div",{className:"absolute inset-0 bg-cyan-500/10 rounded-xl transform group-hover:scale-105 transition-all duration-300"}),K.jsxs("div",{className:"relative p-6 bg-white/5 rounded-xl border border-white/10",children:[K.jsxs("div",{className:"flex justify-between items-start",children:[K.jsxs("div",{children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(v0,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"PUBLIC IP"})]}),K.jsx("p",{className:"text-white truncate",children:n.ip})]}),K.jsx("button",{onClick:()=>ce(n.ip),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:K.jsx(y0,{className:"text-cyan-400"})})]}),c&&K.jsx("div",{className:"absolute bottom-2 right-2 text-xs text-cyan-400 animate-fade-in",children:"Copied!"}),T&&K.jsx("button",{onClick:Re,className:"mt-4 bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Save Data"})]})]}),K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(E0,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"LOCATION"})]}),K.jsxs("div",{className:"space-y-2",children:[K.jsx("p",{className:"text-white",children:[n.city,n.region,n.country].filter(Boolean).join(", ")}),n.loc&&K.jsxs("p",{className:"text-sm text-white/70",children:["Coordinates: ",n.loc]})]})]}),K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(I0,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"INTERNET PROVIDER"})]}),K.jsx("p",{className:"text-white truncate",children:(Ze=n.org)==null?void 0:Ze.replace("AS","")})]}),K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(_0,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"TIMEZONE"})]}),K.jsx("p",{className:"text-white",children:n.timezone})]}),K.jsxs("div",{className:"p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(Uy,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"DEVELOPER"})]}),K.jsx("p",{className:"text-white",children:"Justin Moonjeli | CSC 4220 Computer Networks"})]}),K.jsxs("div",{onClick:R,className:"p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:[K.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[K.jsx(Uy,{className:"text-cyan-400 text-xl"}),K.jsx("h3",{className:"text-sm font-semibold text-cyan-400",children:"NETWORKING CONCEPTS"})]}),K.jsx("p",{className:"text-white",children:"Key Concepts Employed"})]})]})}),ue&&K.jsxs("div",{className:"p-8 bg-white/5 rounded-xl border border-white/10 mt-6",children:[K.jsxs("div",{className:"flex justify-between items-center mb-4",children:[K.jsx("h2",{className:"text-xl font-semibold text-white",children:"My Network Logs"}),K.jsx("button",{onClick:P,className:"p-2 hover:bg-white/10 rounded-full text-gray-400",children:K.jsx(sf,{className:"text-xl"})})]}),q.length>0?K.jsx("ul",{className:"space-y-4",children:q.map(Pe=>{var Me;return K.jsxs("li",{className:"p-4 bg-slate-800/50 rounded-lg border border-white/10",children:[K.jsxs("p",{className:"text-white/80 text-sm",children:["Timestamp: ",(Me=Pe.timestamp)==null?void 0:Me.toDate().toLocaleString()]}),K.jsxs("p",{className:"text-white",children:["IP Address: ",Pe.ipAddress]}),K.jsxs("p",{className:"text-white",children:["ISP: ",Pe.isp]}),K.jsxs("p",{className:"text-white",children:["Location: ",Pe.location]}),K.jsxs("p",{className:"text-white text-sm text-white/70",children:["Coordinates: ",Pe.coordinates]}),K.jsxs("p",{className:"text-white text-sm text-white/70",children:["Timezone: ",Pe.timezone]})]},Pe.id)})}):K.jsx("p",{className:"text-white/70",children:"No logs saved yet."})]}),m&&K.jsx(I,{onClose:k}),B&&K.jsxs("div",{className:"absolute top-0 left-0 w-full h-full bg-white/5 backdrop-blur-lg rounded-2xl shadow-2xl border border-white/10 p-8 animate-expand flex flex-col items-center justify-center",children:[K.jsx("button",{onClick:A,className:"absolute top-2 right-2 p-2 hover:bg-white/10 rounded-full text-gray-400 z-10",children:K.jsx(sf,{className:"text-xl"})}),K.jsxs("div",{className:"flex space-x-4",children:[K.jsx(cD,{onClose:A}),K.jsx(hD,{onClose:A})]})]})]})})};hS.createRoot(document.getElementById("root")).render(K.jsx(fs.StrictMode,{children:K.jsx(dD,{})}));
